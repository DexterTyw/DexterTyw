{"meta":{"title":"Dexter","subtitle":"For Our Future","description":"The Revival","author":"by Dexter Yue","url":"https://dextertyw.github.io"},"pages":[{"title":"About","date":"2017-07-26T08:38:04.000Z","updated":"2017-09-29T15:09:18.372Z","comments":true,"path":"about/index.html","permalink":"https://dextertyw.github.io/about/index.html","excerpt":"","text":"å…³äºåšä¸»ï¼šåŸºæœ¬1.ä¸€åå­¦OIçš„èœé¸Ÿï¼Œç”±äºä¸æƒ³å­¦ç»¼åˆï¼Œåœ¨ç«èµ›ç­è‹Ÿç€â€¦ 2.æ²¡æœ‰ä»€ä¹ˆæ¯”è¾ƒé«˜è¿œçš„ç›®æ ‡ï¼Œè¿˜æ˜¯ç»§ç»­è‹Ÿç€ 3.ç„¶åæœ€é‡è¦çš„ï¼Œä¸æ˜¯äºŒæ¬¡å…ƒQAQï¼ŒOrz 4.å¤„äºå¹¼å¹´æ—¶æœŸï¼Œå¦‚æœæœ‰å¤§ä½¬ä¸å¹¸è·¯è¿‡ï¼Œåˆ«d.Orz 5.I love â€œTell Your Wondersâ€ æ—¥å¸¸1.è¢«åŒç»„çš„**é˜³å„ç§èŠ±å¼åŠæ‰“ï¼Œå¿ƒæœå£æœ 2.æ±‚åŒç»„çš„**é˜³å¸¦èººï¼ŒQAQ 3.æœ‰æ—¶å€™ä¼šæ‰“æ‰“dota2ï¼Œä¹Ÿæ˜¯åº”åŒå­¦ä¹‹é‚€QAQ 4.cocï¼ˆåƒåœ¾7æœ¬ï¼‰ å…³äºå–œæ¬¢çš„äººå’Œäº‹1.ä¸è°ˆæ˜æ˜Ÿä¹Ÿæ˜¯æœ‰çš„ï¼Œè°ˆäº†æ˜æ˜Ÿä¹Ÿæ˜¯å”¯ä¸€çš„ 2.å¿ƒé‡Œçš„æœŸé™è¿˜æ˜¯å¾ˆé•¿ï¼Œè§‰å¾—åº”è¯¥è¦ç»§ç»­ç­‰ 3.å–œæ¬¢çš„äº‹å°±æ˜¯å’Œå–œæ¬¢çš„äººåœ¨ä¸€èµ·å°±å¯ä»¥ 4.ä¸Šé¢çš„æˆ‘è§‰å¾—å…¶å®è¿˜okï¼Œ23333333 ä¸€åˆ‡éƒ½æ˜¯ä¸ºäº†å°†æ¥ï¼ŒåŠ æ²¹ï¼There for You"},{"title":"Links","date":"2017-07-26T07:35:00.745Z","updated":"2017-07-26T07:35:00.745Z","comments":true,"path":"link/index.html","permalink":"https://dextertyw.github.io/link/index.html","excerpt":"","text":"AnoxiacxyxljHeret1chamsterwk"}],"posts":[{"title":"æ¨¡æ‹Ÿé€€ç« Simolate Anneal","slug":"Simolate Anneal","date":"2017-08-25T00:46:40.997Z","updated":"2017-08-25T00:51:38.362Z","comments":true,"path":"2017/08/25/Simolate Anneal/","link":"","permalink":"https://dextertyw.github.io/2017/08/25/Simolate Anneal/","excerpt":"Descriptiongtyåˆè™äº†ä¸€åœºæ¯”èµ›ï¼Œè¢«è™çš„è’Ÿè’»ä»¬å†³å®šåŠæ‰“gtyã€‚gtyè§å¤§åŠ¿ä¸å¥½æœºæ™ºçš„åˆ†å‡ºäº†nä¸ªåˆ†èº«ï¼Œä½†è¿˜æ˜¯è¢«äººå¤šåŠ¿ä¼—çš„è’Ÿè’»æŠ“ä½äº†ã€‚è’Ÿè’»ä»¬å°†nä¸ªgtyåŠåœ¨næ ¹ç»³å­ä¸Šï¼Œæ¯æ ¹ç»³å­ç©¿è¿‡å¤©å°çš„ä¸€ä¸ªæ´ã€‚è¿™næ ¹ç»³å­æœ‰ä¸€ä¸ªå…¬å…±çš„ç»³ç»“xã€‚åŠå¥½gtyåè’Ÿè’»ä»¬å‘ç°ç”±äºæ¯ä¸ªgtyé‡åŠ›ä¸åŒï¼Œç»³ç»“xåœ¨ç§»åŠ¨ã€‚è’Ÿè’»wangxzè„‘æ´å¤§å¼€çš„å†³å®šè®¡ç®—å‡ºxæœ€ååœç•™å¤„çš„åæ ‡ï¼Œç”±äºä»–å¤ªå¼±äº†å†³å®šå‘ä½ æ±‚åŠ©ã€‚ä¸è®¡æ‘©æ“¦ï¼Œä¸è®¡èƒ½é‡æŸå¤±ï¼Œç”±äºgtyè¶³å¤ŸçŸ®æ‰€ä»¥ä¸ä¼šæ‰åˆ°åœ°ä¸Šã€‚","text":"Descriptiongtyåˆè™äº†ä¸€åœºæ¯”èµ›ï¼Œè¢«è™çš„è’Ÿè’»ä»¬å†³å®šåŠæ‰“gtyã€‚gtyè§å¤§åŠ¿ä¸å¥½æœºæ™ºçš„åˆ†å‡ºäº†nä¸ªåˆ†èº«ï¼Œä½†è¿˜æ˜¯è¢«äººå¤šåŠ¿ä¼—çš„è’Ÿè’»æŠ“ä½äº†ã€‚è’Ÿè’»ä»¬å°†nä¸ªgtyåŠåœ¨næ ¹ç»³å­ä¸Šï¼Œæ¯æ ¹ç»³å­ç©¿è¿‡å¤©å°çš„ä¸€ä¸ªæ´ã€‚è¿™næ ¹ç»³å­æœ‰ä¸€ä¸ªå…¬å…±çš„ç»³ç»“xã€‚åŠå¥½gtyåè’Ÿè’»ä»¬å‘ç°ç”±äºæ¯ä¸ªgtyé‡åŠ›ä¸åŒï¼Œç»³ç»“xåœ¨ç§»åŠ¨ã€‚è’Ÿè’»wangxzè„‘æ´å¤§å¼€çš„å†³å®šè®¡ç®—å‡ºxæœ€ååœç•™å¤„çš„åæ ‡ï¼Œç”±äºä»–å¤ªå¼±äº†å†³å®šå‘ä½ æ±‚åŠ©ã€‚ä¸è®¡æ‘©æ“¦ï¼Œä¸è®¡èƒ½é‡æŸå¤±ï¼Œç”±äºgtyè¶³å¤ŸçŸ®æ‰€ä»¥ä¸ä¼šæ‰åˆ°åœ°ä¸Šã€‚ Inputè¾“å…¥ç¬¬ä¸€è¡Œä¸ºä¸€ä¸ªæ­£æ•´æ•°n(1&lt;=n&lt;=10000)ï¼Œè¡¨ç¤ºgtyçš„æ•°ç›®ã€‚æ¥ä¸‹æ¥nè¡Œ,æ¯è¡Œä¸‰ä¸ªæ•´æ•°xiï¼Œyiï¼Œwiï¼Œè¡¨ç¤ºç¬¬iä¸ªgtyçš„æ¨ªåæ ‡ï¼Œçºµåæ ‡å’Œé‡åŠ›ã€‚å¯¹äº20%çš„æ•°æ®ï¼Œgtyæ’åˆ—æˆä¸€æ¡ç›´çº¿ã€‚å¯¹äº50%çš„æ•°æ®ï¼Œ1&lt;=n&lt;=1000ã€‚å¯¹äº100%çš„æ•°æ®ï¼Œ1&lt;=n&lt;=10000,-100000&lt;=xi,yi&lt;=100000 Outputè¾“å‡º1è¡Œä¸¤ä¸ªæµ®ç‚¹æ•°ï¼ˆä¿ç•™åˆ°å°æ•°ç‚¹å3ä½ï¼‰ï¼Œè¡¨ç¤ºæœ€ç»ˆxçš„æ¨ªã€çºµåæ ‡ã€‚ Sample Input3 0 0 1 0 2 1 1 1 1 Sample Output0.577 1.000 HINTNothing left Solutionç¬¬ä¸€æ¬¡æ¥è§¦æ¨¡æ‹Ÿé€€ç«ï¼Œè¿˜æ˜¯å¥½å¥½çš„ç†ä¸€ç†ï¼Œå…¶å®å­¦é•¿è¯´æˆ‘ä»¬å­¦æ—©äº†ï¼Œä¸è¿‡æˆ‘å’Œ**é˜³éƒ½è§‰å¾—è¿™ä¸ªè›®æœ‰æ„æ€çš„ï¼Œå°±è¯•è¯•çœ‹QAQã€‚ é¦–å…ˆé€€ç«è¿™ä¸ªåæ¬¡æ¥æºäºç‰©ç†,æˆ‘ä»¬å›é¡¾ä¸€ä¸‹å†å²ï¼šç¾å›½ç‰©ç†å­¦å®¶ N.Metropolis å’ŒåŒä»åœ¨1953å¹´å‘è¡¨ç ”ç©¶å¤æ‚ç³»ç»Ÿã€è®¡ç®—å…¶ä¸­èƒ½é‡åˆ†å¸ƒçš„æ–‡ç« ï¼Œä»–ä»¬ä½¿ç”¨è’™ç‰¹å¡ç½—æ¨¡æ‹Ÿæ³•è®¡ç®—å¤šåˆ†å­ç³»ç»Ÿä¸­åˆ†å­çš„èƒ½é‡åˆ†å¸ƒã€‚è¿™ç›¸å½“äºæ˜¯æœ¬æ–‡æ‰€æ¢è®¨ä¹‹é—®é¢˜çš„å¼€å§‹ï¼Œäº‹å®ä¸Šï¼Œæ¨¡æ‹Ÿé€€ç«ä¸­å¸¸å¸¸è¢«æåˆ°çš„ä¸€ä¸ªåè¯å°±æ˜¯Metropoliså‡†åˆ™ï¼Œåé¢æˆ‘ä»¬è¿˜ä¼šä»‹ç»ã€‚ ç¾å›½IBMå…¬å¸ç‰©ç†å­¦å®¶ S.Kirkpatrickã€C. D. Gelatt å’Œ M. P. Vecchi äº1983å¹´åœ¨ã€ŠScienceã€‹ä¸Šå‘è¡¨äº†ä¸€ç¯‡é¢‡å…·å½±å“åŠ›çš„æ–‡ç« ï¼šã€Šä»¥æ¨¡æ‹Ÿé€€ç«æ³•è¿›è¡Œæœ€ä¼˜åŒ–ï¼ˆOptimization by Simulated Annealingï¼‰ã€‹ã€‚ä»–ä»¬å€Ÿç”¨äº†Metropolisç­‰äººçš„æ–¹æ³•æ¢è®¨ä¸€ç§æ—‹è½¬ç»ç’ƒæ€ç³»ç»Ÿï¼ˆspin glass systemï¼‰æ—¶ï¼Œå‘è§‰å…¶ç‰©ç†ç³»ç»Ÿçš„èƒ½é‡å’Œä¸€äº›ç»„åˆæœ€ä¼˜ï¼ˆcombinatorial optimizationï¼‰é—®é¢˜ï¼ˆè‘—åçš„æ—…è¡Œæ¨é”€å‘˜é—®é¢˜TSPå³æ˜¯ä¸€ä¸ªä»£è¡¨ä¾‹å­ï¼‰çš„æˆæœ¬å‡½æ•°ç›¸å½“ç±»ä¼¼ï¼šå¯»æ±‚æœ€ä½æˆæœ¬å³ä¼¼å¯»æ±‚æœ€ä½èƒ½é‡ã€‚ç”±æ­¤ï¼Œä»–ä»¬å‘å±•å‡ºä»¥ Metropolis æ–¹æ³•ä¸ºæœ¬çš„ä¸€å¥—ç®—æ³•ï¼Œå¹¶ç”¨å…¶æ¥è§£å†³ç»„åˆé—®é¢˜ç­‰çš„å¯»æ±‚æœ€ä¼˜è§£ã€‚ å‡ ä¹åŒæ—¶ï¼Œæ¬§æ´²ç‰©ç†å­¦å®¶ V.Carny ä¹Ÿå‘è¡¨äº†å‡ ä¹ç›¸åŒçš„æˆæœï¼Œä½†ä¸¤è€…æ˜¯å„è‡ªç‹¬ç«‹å‘ç°çš„ï¼›åªæ˜¯Carnyâ€œè¿æ°”ä¸ä½³â€ï¼Œå½“æ—¶æ²¡ä»€ä¹ˆäººæ³¨æ„åˆ°ä»–çš„å¤§ä½œï¼›æˆ–è®¸å¯ä»¥è¯´ï¼Œã€ŠScienceã€‹æ‚å¿—è¡Œé”€å…¨çƒï¼Œâ€œæ›å…‰åº¦â€å¾ˆé«˜ï¼Œç´ è´Ÿç››åï¼Œè€ŒCarnyå´åœ¨å¦å¤–ä¸€æœ¬å‘è¡Œé‡å¾ˆå°çš„ä¸“é—¨å­¦æœ¯æœŸåˆŠã€ŠJ.Opt.Theory Appl.ã€‹å‘è¡¨å…¶æˆæœå› è€Œå¹¶æœªå¼•èµ·åº”æœ‰çš„å…³æ³¨ã€‚ Kirkpatrickç­‰äººå—åˆ°Metropolisç­‰äººç”¨è’™ç‰¹å¡ç½—æ¨¡æ‹Ÿçš„å¯å‘è€Œå‘æ˜äº†â€œæ¨¡æ‹Ÿé€€ç«â€è¿™ä¸ªåè¯ï¼Œå› ä¸ºå®ƒå’Œç‰©ä½“é€€ç«è¿‡ç¨‹ç›¸ç±»ä¼¼ã€‚å¯»æ‰¾é—®é¢˜çš„æœ€ä¼˜è§£ï¼ˆæœ€å€¼ï¼‰å³ç±»ä¼¼å¯»æ‰¾ç³»ç»Ÿçš„æœ€ä½èƒ½é‡ã€‚å› æ­¤ç³»ç»Ÿé™æ¸©æ—¶ï¼Œèƒ½é‡ä¹Ÿé€æ¸ä¸‹é™ï¼Œè€ŒåŒæ ·æ„ä¹‰åœ°ï¼Œé—®é¢˜çš„è§£ä¹Ÿâ€œä¸‹é™â€åˆ°æœ€å€¼ã€‚ å…³äºä»€ä¹ˆæ˜¯é€€ç«â€¦å…¶å®åœ¨çƒ­åŠ›å­¦ä¸Šï¼Œé€€ç«ç°è±¡æ˜¯æŒ‡ç‰©ä½“é€æ¸é™æ¸©çš„ç‰©ç†ç°è±¡ï¼Œæ¸©åº¦è¶Šä½ï¼Œè‡ªç„¶ç‰©ä½“çš„èƒ½é‡è¶Šä½ï¼Œé‚£ä¹ˆåˆ†å­çš„è¿åŠ¨ä¹Ÿç›¸å¯¹è¦ç¨³å®šï¼Œå½¢è±¡çš„ç†è§£ä¸ºç‰©ä½“åˆ†å­çš„è¿åŠ¨èŒƒå›´å°±å¾ˆå°äº† è€Œè¿™ä¸ªæ€§è´¨ä½“ç°åœ¨ä»£ç ç¼–ç¨‹ä¸­å°±æ˜¯æœç´¢çš„èŒƒå›´æ˜¯æœ‰æ—¶é—´çš„æ¨ç§»é€æ¸ç¼©å°çš„ã€‚ çˆ¬å±±ä¸æ¨¡æ‹Ÿé€€ç«çš„åŒºåˆ«â€¦çˆ¬å±±ç®—æ³•åŸºäºä¸€ç§ç®€å•çš„è´ªå¿ƒï¼Œæšä¸¾å¯è¡Œç‚¹åï¼Œé€‰å–ä¸€ä¸ªæœ€ä¼˜çš„çŠ¶æ€ä½œä¸ºå½“å‰çš„è§£ï¼Œç„¶åå†å»æœç´¢å…¶ä»–çš„è§£ã€‚ å¾ˆæ˜¾ç„¶ï¼Œçˆ¬å±±ç®—æ³•åªèƒ½æ±‚çš„å±€éƒ¨æœ€ä¼˜è§£ï¼Œå½“ç„¶å¦‚æœä½ çš„åˆå§‹çŠ¶æ€é€‰å¾—åˆç†ï¼Œä¹Ÿæ˜¯å¯ä»¥æœå‡ºç­”æ¡ˆçš„ã€‚ è€Œæ¨¡æ‹Ÿé€€ç«çš„ä¼˜è¶Šä¹‹å¤„ï¼Œåœ¨äºä»–ä¼šæ ¹æ®ä¸€å®šçš„æ¦‚ç‡æ¥é€‰æ‹©å½“ä¸”è¿™ä¸ªçœ‹ä¼¼ä¸å¯èƒ½æˆä¸ºæœ€ä¼˜è§£çš„ç­”æ¡ˆï¼Œè¿™ä¸ªæ¦‚ç‡çš„å…¬å¼å¾…ä¼šå†è¯´ã€‚å¦‚æœæˆ‘ä»¬æ¥å—äº†ä¸€ä¸ªâ€œé”™è¯¯ç­”æ¡ˆâ€ï¼Œæˆ‘ä»¬å°±æœ‰è·³å‡ºè¿™ä¸ªå±€éƒ¨çš„å¯èƒ½ï¼Œæ‰èƒ½æœåˆ°æ­£ç¡®ç­”æ¡ˆã€‚ å¦‚ä¸Šå›¾ä¸­çš„bç‚¹å³è¾¹çš„å³°å€¼ã€‚ ä¸€ä¸ªå…¬å¼ï¼ˆå‡†åˆ™ï¼‰è¿™ä¸ªæˆ‘å°±è§£é‡Šä¸äº†äº†ï¼Œè®°ä¸‹æ¥å°±è¡Œäº†ã€‚ æ ¹æ®Metropoliså‡†åˆ™ï¼Œç²’å­åœ¨æ¸©åº¦Tæ—¶è¶‹äºå¹³è¡¡çš„æ¦‚ç‡ä¸ºexp(-Î”E/(kT))ï¼Œå…¶ä¸­Eä¸ºæ¸©åº¦Tæ—¶çš„å†…èƒ½ï¼ŒÎ”Eä¸ºå…¶æ”¹å˜æ•°,kä¸ºBoltzmannå¸¸æ•°ã€‚Metropoliså‡†åˆ™å¸¸è¡¨ç¤ºä¸º Metropoliså‡†åˆ™è¡¨æ˜ï¼Œåœ¨æ¸©åº¦ä¸ºTæ—¶ï¼Œå‡ºç°èƒ½é‡å·®ä¸ºdEçš„é™æ¸©çš„æ¦‚ç‡ä¸ºP(dE)ï¼Œè¡¨ç¤ºä¸ºï¼šP(dE) = exp( dE/(kT) )ã€‚å…¶ä¸­kæ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œexpè¡¨ç¤ºè‡ªç„¶æŒ‡æ•°ï¼Œä¸”dE&lt;0ã€‚æ‰€ä»¥På’ŒTæ­£ç›¸å…³ã€‚è¿™æ¡å…¬å¼å°±è¡¨ç¤ºï¼šæ¸©åº¦è¶Šé«˜ï¼Œå‡ºç°ä¸€æ¬¡èƒ½é‡å·®ä¸ºdEçš„é™æ¸©çš„æ¦‚ç‡å°±è¶Šå¤§ï¼›æ¸©åº¦è¶Šä½ï¼Œåˆ™å‡ºç°é™æ¸©çš„æ¦‚ç‡å°±è¶Šå°ã€‚åˆç”±äºdEæ€»æ˜¯å°äº0ï¼ˆå› ä¸ºé€€ç«çš„è¿‡ç¨‹æ˜¯æ¸©åº¦é€æ¸ä¸‹é™çš„è¿‡ç¨‹ï¼‰ï¼Œå› æ­¤dE/kT &lt; 0 ï¼Œæ‰€ä»¥P(dE)çš„å‡½æ•°å–å€¼èŒƒå›´æ˜¯(0,1) ã€‚éšç€æ¸©åº¦Tçš„é™ä½ï¼ŒP(dE)ä¼šé€æ¸é™ä½ã€‚ ç„¶åæˆ‘ä»¬å°±å¯ä»¥åœ¨(0,1)ä¹‹é—´randä¸€ä¸ªæ•°ï¼Œç„¶åå¦‚æœp(dE)&gt;randï¼Œä¾æ—§æ›´æ–°ç­”æ¡ˆï¼Œå¦åˆ™èˆå¼ƒã€‚ SAçš„å®è´¨å…¶å®æˆ‘ä»¬å¯ä»¥ä»å…¬å¼æˆ–è€…æ˜¯å¾…ä¼šçš„ä»£ç ä¸­å‘ç°ï¼Œæ¨¡æ‹Ÿé€€ç«å®é™…ä¸Šæ˜¯æŠŠæˆ‘ä»¬éœ€è¦çš„ç›®æ ‡å‡½æ•°f(x),è½¬åŒ–æˆä¸€ä¸ªè™šæ‹Ÿç‰©ä½“çš„å†…èƒ½E(x)ã€‚ç»è¡Œæ¨¡æ‹Ÿã€‚ æ¸©åº¦æ˜¯ä¸€ä¸ªå¾ˆæŠ½è±¡ä½†æ˜¯å’Œé‡è¦çš„æ§åˆ¶å‚æ•°ï¼Œå®ƒä¸ä»…æ§åˆ¶ç€æœç´¢æ¬¡æ•°ï¼Œæ›´é‡è¦çš„æ˜¯å®ƒæ§åˆ¶ç€æœç´¢çš„èŒƒå›´ã€‚ ç¥çŠ‡çš„è§£é‡Šï¼šç”±åˆå§‹è§£ i å’Œæ§åˆ¶å‚æ•°åˆå€¼ t å¼€å§‹ï¼Œå¯¹å½“å‰è§£é‡å¤â€œäº§ç”Ÿæ–°è§£â†’è®¡ç®—ç›®æ ‡å‡½æ•°å·®â†’æ¥å—æˆ–ä¸¢å¼ƒâ€çš„è¿­ä»£ï¼Œå¹¶é€æ­¥è¡°å‡ t å€¼ï¼Œç®—æ³•ç»ˆæ­¢æ—¶çš„å½“å‰è§£å³ä¸ºæ‰€å¾—è¿‘ä¼¼æœ€ä¼˜è§£ï¼Œè¿™æ˜¯åŸºäºè’™ç‰¹å¡ç½—è¿­ä»£æ±‚è§£æ³•çš„ä¸€ç§å¯å‘å¼éšæœºæœç´¢è¿‡ç¨‹ã€‚é€€ç«è¿‡ç¨‹ç”±å†·å´è¿›åº¦è¡¨(Cooling Schedule)æ§åˆ¶ï¼ŒåŒ…æ‹¬æ§åˆ¶å‚æ•°çš„åˆå€¼ t åŠå…¶è¡°å‡å› å­Î”t ã€æ¯ä¸ª t å€¼æ—¶çš„è¿­ä»£æ¬¡æ•°Lå’Œåœæ­¢æ¡ä»¶Sã€‚ ä¸¤å¥è¯çš„æ€»ç»“å¯¹äºä¸€ä¸ªä¼˜äºå½“å‰è§£çš„ç­”æ¡ˆï¼Œæˆ‘ä»¬å¿…ç„¶æ¥å—ï¼Œå¯¹äºä¸€ä¸ªä¸ä¼˜äºå½“å‰è§£çš„ç­”æ¡ˆï¼Œæˆ‘ä»¬ä»¥ä¸€å®šæ¦‚ç‡æ¥å—ã€‚ æ‰€ä»¥æˆ‘ä»¬å¯ä»¥çœ‹åˆ°Simolate Annealæ˜¯æœ‰å¯èƒ½åšä¸å‡ºæ­£è§£çš„ï¼Œæ‰€ä»¥é€šå¸¸æˆ‘ä»¬ä¼šå¤–å±‚å¾ªç¯å¤šæ¬¡ï¼Œé€¼è¿«å…¶æ‰¾åˆ°æœ€ä¼˜è§£ã€‚ è¨€å½’æ­£ä¼ ä¼ é€é—¨ã®å¤§æ¦‚å°±æ˜¯å¹¿ä¹‰ä¸Šçš„è´¹é©¬ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨åˆå§‹çŠ¶æ€é€‰ä¸€ä¸ªç‚¹ï¼Œç„¶åç”±å®ƒå¼€å§‹æœç´¢ã€‚å…·ä½“çš„åˆå§‹æ¸©åº¦ï¼Œå’Œæ¯æ¬¡æ¸©åº¦ä¸‹é™çš„å¸¸æ•°deltaï¼Œå¯ä»¥æ ¹æ®é¢˜ç›®æœ¬èº«å’Œåšé¢˜ç»éªŒç»“åˆè€ƒè™‘ï¼Œdeltaè¶Šè¶‹è¿‘1ï¼Œç­”æ¡ˆå¾€å¾€æ›´ç²¾ç¡®ï¼Œä½†æ˜¯ä¹Ÿä»˜å‡ºäº†æ—¶é—´å¤æ‚åº¦çš„ä»£ä»·ã€‚ å†ä¸€ä¸ªå¯èƒ½ä¸æ˜¯å¤ªå¥½è°ƒè¯•å§23333QAQ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061#include &lt;bits/stdc++.h&gt;using namespace std;struct Point&#123; double x,y; Point(double a=0,double b=0):x(a),y(b) &#123;&#125;&#125;;const int maxn=10005;const double INF=1e18;Point p[maxn];double w[maxn];Point tar;double mi=INF;int n; double dist(Point a,Point b)&#123; return sqrt((a.x-b.x)*(a.x-b.x)+(a.y-b.y)*(a.y-b.y));&#125;double randx()&#123; return 1.0*rand()/RAND_MAX;&#125;double solve(Point a)&#123; double res=0; for(int i=1;i&lt;=n;i++)res+=w[i]*dist(a,p[i]); if(res&lt;mi)mi=res,tar=a; return res;&#125;void sa()&#123; double dE,T=1e5; Point a=tar,now; while(T&gt;0.001)&#123; now.x=a.x+T*(randx()*2-1); now.y=a.y+T*(randx()*2-1); dE=solve(a)-solve(now); if(dE&gt;0||exp(dE/T)&gt;randx()) a=now; T*=0.97; &#125; for(int i=1;i&lt;=1000;i++)&#123; now.x=tar.x+T*(randx()*2-1); now.y=tar.y+T*(randx()*2-1); solve(now); &#125;&#125;int main()&#123; srand(20000512); scanf(\"%d\",&amp;n); for(int i=1;i&lt;=n;i++)&#123; scanf(\"%lf%lf%lf\",&amp;p[i].x,&amp;p[i].y,&amp;w[i]); tar.x+=p[i].x,tar.y+=p[i].y; &#125; tar.x/=n,tar.y/=n; solve(tar);sa(); printf(\"%.3f %.3f\\n\",tar.x,tar.y); return 0;&#125;","categories":[],"tags":[{"name":"å¯å‘å¼æœç´¢","slug":"å¯å‘å¼æœç´¢","permalink":"https://dextertyw.github.io/tags/å¯å‘å¼æœç´¢/"},{"name":"æ¨¡æ‹Ÿé€€ç«","slug":"æ¨¡æ‹Ÿé€€ç«","permalink":"https://dextertyw.github.io/tags/æ¨¡æ‹Ÿé€€ç«/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://dextertyw.github.io/tags/å­¦ä¹ ç¬”è®°/"}]},{"title":"bzoj2118-å¢¨å¢¨çš„ç­‰å¼","slug":"[bzoj2118]å¢¨å¢¨çš„ç­‰å¼","date":"2017-08-24T11:33:43.349Z","updated":"2017-08-24T11:33:17.855Z","comments":true,"path":"2017/08/24/[bzoj2118]å¢¨å¢¨çš„ç­‰å¼/","link":"","permalink":"https://dextertyw.github.io/2017/08/24/[bzoj2118]å¢¨å¢¨çš„ç­‰å¼/","excerpt":"Descriptionå¢¨å¢¨çªç„¶å¯¹ç­‰å¼å¾ˆæ„Ÿå…´è¶£ï¼Œä»–æ­£åœ¨ç ”ç©¶a1x1+a2y2+â€¦+anxn=Bå­˜åœ¨éè´Ÿæ•´æ•°è§£çš„æ¡ä»¶ï¼Œä»–è¦æ±‚ä½ ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œç»™å®šNã€{an}ã€ä»¥åŠBçš„å–å€¼èŒƒå›´ï¼Œæ±‚å‡ºæœ‰å¤šå°‘Bå¯ä»¥ä½¿ç­‰å¼å­˜åœ¨éè´Ÿæ•´æ•°è§£ã€‚","text":"Descriptionå¢¨å¢¨çªç„¶å¯¹ç­‰å¼å¾ˆæ„Ÿå…´è¶£ï¼Œä»–æ­£åœ¨ç ”ç©¶a1x1+a2y2+â€¦+anxn=Bå­˜åœ¨éè´Ÿæ•´æ•°è§£çš„æ¡ä»¶ï¼Œä»–è¦æ±‚ä½ ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œç»™å®šNã€{an}ã€ä»¥åŠBçš„å–å€¼èŒƒå›´ï¼Œæ±‚å‡ºæœ‰å¤šå°‘Bå¯ä»¥ä½¿ç­‰å¼å­˜åœ¨éè´Ÿæ•´æ•°è§£ã€‚ Inputè¾“å…¥çš„ç¬¬ä¸€è¡ŒåŒ…å«3ä¸ªæ­£æ•´æ•°ï¼Œåˆ†åˆ«è¡¨ç¤ºNã€BMinã€BMaxåˆ†åˆ«è¡¨ç¤ºæ•°åˆ—çš„é•¿åº¦ã€Bçš„ä¸‹ç•Œã€Bçš„ä¸Šç•Œã€‚è¾“å…¥çš„ç¬¬äºŒè¡ŒåŒ…å«Nä¸ªæ•´æ•°ï¼Œå³æ•°åˆ—{an}çš„å€¼ã€‚ Outputè¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ‰å¤šå°‘bå¯ä»¥ä½¿ç­‰å¼å­˜åœ¨éè´Ÿæ•´æ•°è§£ã€‚ Sample Input2 5 103 5 Sample Output5 HINTå¯¹äº100%çš„æ•°æ®ï¼ŒNâ‰¤12ï¼Œ0â‰¤aiâ‰¤5*10^5ï¼Œ1â‰¤BMinâ‰¤BMaxâ‰¤10^12ã€‚ Solutionæœ¬æ¥æ˜¯æƒ³ç»ƒç»ƒdijkstraï¼Œç„¶åç¿»åˆ°äº†è¿™ä¸ªç¥é¢˜ï¼Œå¤ªç¥äº†~é¦–å…ˆç¬¬ä¸€ååº” åº”è¯¥æ˜¯èƒŒåŒ…dpï¼Œä½†æ˜¯æ•°æ®èŒƒå›´å°±æ— è¯­äº†ã€‚ã€‚ã€‚ ä¹Ÿæ²¡æœ‰ä»€ä¹ˆå¥½å¼•å…¥çš„æŠŠï¼Œï¼Œï¼Œå°±æ˜¯ä¸€ä¸ªæ€ç»´é¢˜ã€‚ã€‚ã€‚ è®° å‡è®¾ p æ˜¯ç¬¦åˆæ¡ä»¶çš„Bå€¼ï¼Œé‚£ä¹ˆæ˜¾ç„¶ p+mn ä¹Ÿæ˜¯ç¬¦åˆæ¡ä»¶çš„è€Œä»»æ„ä¸€ä¸ªp éƒ½å¯ä»¥è¢«è¡¨ç¤ºæˆï¼šå…¶ä¸­è€Œæ¯ä¸ª p å’Œä¸€ä¸ª r å”¯ä¸€å¯¹åº”ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦çŸ¥é“é‚£äº›på€¼æ˜¯å¯ä»¥ç”¨aiè¡¨ç¤ºå‡ºæ¥çš„å°±å¥½ï¼Œè€Œæˆ‘ä»¬åªéœ€è¦æ±‚é‚£ä¸ªæœ€å°çš„ã€‚å¦‚æœè®° ans[m]ä¸º[1,m]å†…çš„ç­”æ¡ˆï¼Œé‚£ä¹ˆæ˜¾ç„¶è¿™æ»¡è¶³å‰ç¼€å’Œçš„æ€§è´¨ã€‚ è‹¥ ä¸” Vx æ˜¯å…¶å¯¹åº”çš„ä¸€ä¸ªæœ‰æ•ˆæœ€å°å€¼ï¼Œé‚£ä¹ˆå…¶å¯¹ç­”æ¡ˆçš„è´¡çŒ®å°±æ˜¯ ç„¶åæ±‚å’Œå°±å¯ä»¥äº†2333333ç„¶åè‡³äºä¸ºä»€ä¹ˆdijktraå¯ä»¥åˆ¤æ–­å‡ºä¸€ä¸ªæœ‰æ•ˆå€¼ï¼Œå…ˆè¯´ä¸€ä¸‹è¿è¾¹æ–¹å¼ï¼šæŒ‰ç…§è¿™æ ·å­è¿è¾¹æ˜¯ä¸ä¼šè¿å‡ºä¸åˆæ³•çš„è§£ï¼Œå› ä¸ºæƒå€¼éƒ½æ˜¯aiã€‚æœ€çŸ­è·¯æ˜¯ä¿è¯äº†è§£æœ€å°çš„æ€§è´¨ã€‚ ä»¥ä¸Š.1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556#include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;algorithm&gt;#include &lt;cmath&gt;#include &lt;iostream&gt;#include &lt;queue&gt;#define pa pair&lt;int,int&gt;#define LL long longusing namespace std;const int INF=2147483647;int n,mn=INF,p[5000010],cnt;LL L,R,ans=0,dis[5000010];int a[20];bool vis[5000010];struct node&#123; int a,b,nt,w;&#125;e[6000010];void add(int x,int y,int z)&#123; e[++cnt].a=x,e[cnt].b=y,e[cnt].w=z; e[cnt].nt=p[x],p[x]=cnt;&#125;priority_queue&lt;pa,vector&lt;pa&gt;,greater&lt;pa&gt; &gt;q; void dijkstra()&#123; memset(dis,127,sizeof(dis)); q.push(make_pair(0,0)); dis[0]=0; while(!q.empty())&#123; int now=q.top().second;q.pop(); if(vis[now])continue;vis[now]=true; for(int i=p[now];i;i=e[i].nt)&#123; int to=e[i].b; if(dis[to]&gt;dis[now]+e[i].w)&#123; dis[to]=dis[now]+e[i].w; q.push(make_pair(dis[to],to)); &#125; &#125; &#125;&#125;int main()&#123;#ifdef YSW freopen(\"in.txt\",\"r\",stdin);#endif scanf(\"%d%lld%lld\",&amp;n,&amp;L,&amp;R); for(int i=1;i&lt;=n;i++)scanf(\"%d\",&amp;a[i]),mn=min(mn,a[i]); for(int i=0;i&lt;mn;i++) for(int j=1;j&lt;=n;j++)&#123; add(i,(i+a[j])%mn,a[j]); &#125; dijkstra(); for(int i=0;i&lt;mn;i++)&#123; if(R&gt;=dis[i])ans+=(R-dis[i])/mn+1; if(L-1&gt;=dis[i])ans-=(L-1-dis[i])/mn+1; &#125; printf(\"%lld\",ans); return 0; &#125;","categories":[],"tags":[{"name":"dijkstra","slug":"dijkstra","permalink":"https://dextertyw.github.io/tags/dijkstra/"},{"name":"æ•°å­¦ä¹‹ç¾","slug":"æ•°å­¦ä¹‹ç¾","permalink":"https://dextertyw.github.io/tags/æ•°å­¦ä¹‹ç¾/"},{"name":"å¥½é¢˜","slug":"å¥½é¢˜","permalink":"https://dextertyw.github.io/tags/å¥½é¢˜/"}]},{"title":"Sdoi2010å¤§é™†äº‰éœ¸","slug":"[bzoj1922][Sdoi2010]å¤§é™†äº‰éœ¸","date":"2017-08-24T01:17:22.817Z","updated":"2017-08-24T01:24:00.170Z","comments":true,"path":"2017/08/24/[bzoj1922][Sdoi2010]å¤§é™†äº‰éœ¸/","link":"","permalink":"https://dextertyw.github.io/2017/08/24/[bzoj1922][Sdoi2010]å¤§é™†äº‰éœ¸/","excerpt":"Descriptionåœ¨ä¸€ä¸ªé¥è¿œçš„ä¸–ç•Œé‡Œæœ‰ä¸¤ä¸ªå›½å®¶ï¼šä½äºå¤§é™†è¥¿ç«¯çš„æ°æ£®å›½å’Œä½äºå¤§é™†ä¸œç«¯çš„ å…‹é‡Œæ–¯å›½ã€‚ä¸¤ä¸ªå›½å®¶çš„äººæ°‘åˆ†åˆ«ä¿¡ä»°ä¸¤ä¸ªå¯¹ç«‹çš„ç¥ï¼šæ°æ£®å›½ä¿¡ä»°è±¡å¾é»‘æš—å’Œæ¯ç­ çš„ç¥æ›¾Â·å¸ƒæ‹‰æ³½ï¼Œè€Œå…‹é‡Œæ–¯å›½ä¿¡ä»°è±¡å¾å…‰æ˜å’Œæ°¸æ’çš„ç¥æ–¯æ™®æ—Â·å¸ƒæ‹‰æ³½ã€‚ å¹»æƒ³å† 8012å¹´ 1æœˆï¼Œæ°æ£®å›½æ­£å¼å®£å¸ƒæ›¾Â·å¸ƒæ‹‰æ³½æ˜¯ä»–ä»¬å”¯ä¸€ä¿¡ä»°çš„ç¥ï¼ŒåŒ æ—¶å¼€å§‹è¿«å®³åœ¨æ°æ£®å›½çš„ä¿¡ä»°æ–¯æ™®æ—Â·å¸ƒæ‹‰æ³½çš„å…‹é‡Œæ–¯å›½æ•™å¾’ã€‚ å¹»æƒ³å† 8012å¹´ 3æœˆ2æ—¥ï¼Œä½äºæ°æ£®å›½ä¸œéƒ¨å°é•‡ç¥è°•é•‡çš„å…‹é‡Œæ–¯å›½æ•™å¾’å‘åŠ¨ èµ·ä¹‰ã€‚ å¹»æƒ³å† 8012å¹´ 3æœˆ7æ—¥ï¼Œç¥è°•é•‡çš„èµ·ä¹‰è¢«æ°æ£®å›½å¤§å†›ä»¥æ®‹é…·æ‰‹æ®µé•‡å‹ã€‚ å¹»æƒ³å† 8012å¹´ 3æœˆ8æ—¥ï¼Œå…‹é‡Œæ–¯å›½å¯¹æ°æ£®å›½å®£æˆ˜ã€‚ç”±æ•°åä¸‡å¤§å†›ç»„æˆçš„å…‹ é‡Œæ–¯å†›å›¢å¼€è‡³ä¸¤å›½è¾¹å¢ƒï¼Œä¸æ°æ£®å†›å›¢å¯¹å³™ã€‚ å¹»æƒ³å† 8012å¹´ 4æœˆï¼Œå…‹é‡Œæ–¯å†›å›¢æ”»ç ´æ°æ£®å†›å›¢é˜²çº¿è¿›å…¥ç¥è°•é•‡ï¼Œè¯¥é•‡å¹¸å­˜ çš„å…‹é‡Œæ–¯å›½æ•™å¾’å¾—åˆ°è§£æ”¾ã€‚","text":"Descriptionåœ¨ä¸€ä¸ªé¥è¿œçš„ä¸–ç•Œé‡Œæœ‰ä¸¤ä¸ªå›½å®¶ï¼šä½äºå¤§é™†è¥¿ç«¯çš„æ°æ£®å›½å’Œä½äºå¤§é™†ä¸œç«¯çš„ å…‹é‡Œæ–¯å›½ã€‚ä¸¤ä¸ªå›½å®¶çš„äººæ°‘åˆ†åˆ«ä¿¡ä»°ä¸¤ä¸ªå¯¹ç«‹çš„ç¥ï¼šæ°æ£®å›½ä¿¡ä»°è±¡å¾é»‘æš—å’Œæ¯ç­ çš„ç¥æ›¾Â·å¸ƒæ‹‰æ³½ï¼Œè€Œå…‹é‡Œæ–¯å›½ä¿¡ä»°è±¡å¾å…‰æ˜å’Œæ°¸æ’çš„ç¥æ–¯æ™®æ—Â·å¸ƒæ‹‰æ³½ã€‚ å¹»æƒ³å† 8012å¹´ 1æœˆï¼Œæ°æ£®å›½æ­£å¼å®£å¸ƒæ›¾Â·å¸ƒæ‹‰æ³½æ˜¯ä»–ä»¬å”¯ä¸€ä¿¡ä»°çš„ç¥ï¼ŒåŒ æ—¶å¼€å§‹è¿«å®³åœ¨æ°æ£®å›½çš„ä¿¡ä»°æ–¯æ™®æ—Â·å¸ƒæ‹‰æ³½çš„å…‹é‡Œæ–¯å›½æ•™å¾’ã€‚ å¹»æƒ³å† 8012å¹´ 3æœˆ2æ—¥ï¼Œä½äºæ°æ£®å›½ä¸œéƒ¨å°é•‡ç¥è°•é•‡çš„å…‹é‡Œæ–¯å›½æ•™å¾’å‘åŠ¨ èµ·ä¹‰ã€‚ å¹»æƒ³å† 8012å¹´ 3æœˆ7æ—¥ï¼Œç¥è°•é•‡çš„èµ·ä¹‰è¢«æ°æ£®å›½å¤§å†›ä»¥æ®‹é…·æ‰‹æ®µé•‡å‹ã€‚ å¹»æƒ³å† 8012å¹´ 3æœˆ8æ—¥ï¼Œå…‹é‡Œæ–¯å›½å¯¹æ°æ£®å›½å®£æˆ˜ã€‚ç”±æ•°åä¸‡å¤§å†›ç»„æˆçš„å…‹ é‡Œæ–¯å†›å›¢å¼€è‡³ä¸¤å›½è¾¹å¢ƒï¼Œä¸æ°æ£®å†›å›¢å¯¹å³™ã€‚ å¹»æƒ³å† 8012å¹´ 4æœˆï¼Œå…‹é‡Œæ–¯å†›å›¢æ”»ç ´æ°æ£®å†›å›¢é˜²çº¿è¿›å…¥ç¥è°•é•‡ï¼Œè¯¥é•‡å¹¸å­˜ çš„å…‹é‡Œæ–¯å›½æ•™å¾’å¾—åˆ°è§£æ”¾ã€‚æˆ˜äº‰éšåè¿›å…¥èƒ¶ç€çŠ¶æ€ï¼Œæ—·æ—¥æŒä¹…ã€‚æˆ˜å†µæƒ¨çƒˆï¼Œä¸€æ—¶é—´æªæ—å¼¹é›¨ï¼Œç¡çƒŸå¼¥æ¼«ï¼Œ æ°‘ä¸èŠç”Ÿã€‚ å¹»æƒ³å† 8012å¹´ 5æœˆ12æ—¥æ·±å¤œï¼Œæ–¯æ™®æ—Â·å¸ƒæ‹‰æ³½é™ä¸‹ç¥è°•ï¼šâ€œTrust me, earn eternal life.â€å…‹é‡Œæ–¯å†›å›¢å£«æ°”å¤§å¢ã€‚ä½œä¸ºå…‹é‡Œæ–¯å†›å›¢çš„ä¸»å¸…ï¼Œä½ å†³å®šåˆ©ç”¨è¿™ä¸€æœº ä¼šå‘åŠ¨å¥‡è¢­ï¼Œä¸€ä¸¾å‡»è´¥æ°æ£®å›½ã€‚å…·ä½“åœ°è¯´ï¼Œæ°æ£®å›½æœ‰ N ä¸ªåŸå¸‚ï¼Œç”± Mæ¡å•å‘é“ è·¯è¿æ¥ã€‚ç¥è°•é•‡æ˜¯åŸå¸‚ 1è€Œæ°æ£®å›½çš„é¦–éƒ½æ˜¯åŸå¸‚ Nã€‚ä½ åªéœ€æ‘§æ¯ä½äºæ°æ£®å›½é¦–éƒ½ çš„æ›¾Â·å¸ƒæ‹‰æ³½å¤§ç¥æ®¿ï¼Œæ°æ£®å›½çš„ä¿¡ä»°ï¼Œå†›é˜Ÿè¿˜æœ‰ä¸€åˆ‡å°±éƒ½ä¼šåœŸå´©ç“¦è§£ï¼Œç°é£çƒŸç­ã€‚ ä¸ºäº†å°½é‡å‡å°å·±æ–¹çš„æ¶ˆè€—ï¼Œä½ å†³å®šä½¿ç”¨è‡ªçˆ†æœºå™¨äººå®Œæˆè¿™ä¸€ä»»åŠ¡ã€‚å”¯ä¸€çš„å›° éš¾æ˜¯ï¼Œæ°æ£®å›½çš„ä¸€éƒ¨åˆ†åŸå¸‚æœ‰ç»“ç•Œä¿æŠ¤ï¼Œä¸ç ´åæ‰ç»“ç•Œå°±æ— æ³•è¿›å…¥åŸå¸‚ã€‚è€Œæ¯ä¸ª åŸå¸‚çš„ç»“ç•Œéƒ½æ˜¯ç”±åˆ†å¸ƒåœ¨å…¶ä»–åŸå¸‚ä¸­çš„ä¸€äº›ç»“ç•Œå‘ç”Ÿå™¨ç»´æŒçš„ï¼Œå¦‚æœæƒ³è¿›å…¥æŸä¸ª åŸå¸‚ï¼Œä½ å°±å¿…é¡»ç ´åæ‰ç»´æŒè¿™ä¸ªåŸå¸‚ç»“ç•Œçš„æ‰€æœ‰ç»“ç•Œå‘ç”Ÿå™¨ã€‚ ç°åœ¨ä½ æœ‰æ— é™å¤šçš„è‡ªçˆ†æœºå™¨äººï¼Œä¸€æ—¦è¿›å…¥äº†æŸä¸ªåŸå¸‚ï¼Œè‡ªçˆ†æœºå™¨äººå¯ä»¥ç¬é—´ å¼•çˆ†ï¼Œç ´åä¸€ä¸ªç›®æ ‡ï¼ˆç»“ç•Œå‘ç”Ÿå™¨ï¼Œæˆ–æ˜¯æ°æ£®å›½å¤§ç¥æ®¿ï¼‰ï¼Œå½“ç„¶æœºå™¨äººæœ¬èº«ä¹Ÿä¼š ä¸€èµ·è¢«ç ´åã€‚ä½ éœ€è¦çŸ¥é“ï¼šæ‘§æ¯æ°æ£®å›½æ‰€éœ€çš„æœ€çŸ­æ—¶é—´ã€‚ Inputç¬¬ä¸€è¡Œä¸¤ä¸ªæ­£æ•´æ•° N, Mã€‚ æ¥ä¸‹æ¥ Mè¡Œï¼Œæ¯è¡Œä¸‰ä¸ªæ­£æ•´æ•° ui, vi, wiï¼Œè¡¨ç¤ºæœ‰ä¸€æ¡ä»åŸå¸‚uiåˆ°åŸå¸‚ viçš„å• å‘é“è·¯ï¼Œè‡ªçˆ†æœºå™¨äººé€šè¿‡è¿™æ¡é“è·¯éœ€è¦ wiçš„æ—¶é—´ã€‚ ä¹‹å N è¡Œï¼Œæ¯è¡Œæè¿°ä¸€ä¸ªåŸå¸‚ã€‚é¦–å…ˆæ˜¯ä¸€ä¸ªæ­£æ•´æ•° liï¼Œç»´æŒè¿™ä¸ªåŸå¸‚ç»“ç•Œæ‰€ ä½¿ç”¨çš„ç»“ç•Œå‘ç”Ÿå™¨æ•°ç›®ã€‚ä¹‹åliä¸ª1~N ä¹‹é—´çš„åŸå¸‚ç¼–å·ï¼Œè¡¨ç¤ºæ¯ä¸ªç»“ç•Œå‘ç”Ÿå™¨çš„ ä½ç½®ã€‚å¦‚æœ Li = 0ï¼Œåˆ™è¯´æ˜è¯¥åŸå¸‚æ²¡æœ‰ç»“ç•Œä¿æŠ¤ï¼Œä¿è¯L1 = 0 ã€‚ Outputä»…åŒ…å«ä¸€ä¸ªæ­£æ•´æ•° ï¼Œå‡»è´¥æ°æ£®å›½æ‰€éœ€çš„æœ€çŸ­æ—¶é—´ã€‚Sample Input 6 61 2 11 4 32 3 12 5 24 6 25 3 20001 302 3 5 Sample Output5 HINTå¯¹äº 20%çš„æ•°æ®ï¼Œæ»¡è¶³ Nâ‰¤15ï¼ŒMâ‰¤50ï¼›å¯¹äº 50%çš„æ•°æ®ï¼Œæ»¡è¶³ Nâ‰¤500ï¼ŒMâ‰¤6,000ï¼›å¯¹äº 100%çš„æ•°æ®ï¼Œæ»¡è¶³ Nâ‰¤3,000ï¼ŒMâ‰¤70,000ï¼Œ1â‰¤wiâ‰¤108ã€‚è¾“å…¥æ•°æ®ä¿è¯ä¸€å®šæœ‰è§£ï¼Œä¸”ä¸ä¼šå­˜åœ¨ç»´æŒæŸä¸ªåŸå¸‚ç»“ç•Œçš„ç»“ç•Œå‘ç”Ÿå™¨åœ¨è¿™ä¸ªåŸå¸‚å†…éƒ¨ã€‚è¿æ¥ä¸¤ä¸ªåŸå¸‚çš„é“è·¯å¯èƒ½ä¸æ­¢ä¸€æ¡ï¼Œ ä¹Ÿå¯èƒ½å­˜åœ¨ä¸€ä¸ªåŸå¸‚è‡ªå·±åˆ°è‡ªå·±çš„é“è·¯ã€‚ Solutionä»¥å‰éƒ½æ²¡æœ‰æ€ä¹ˆç”¨dijkstraï¼Œç°åœ¨å‘ç°è¿˜æ˜¯å¾ˆæœ‰ç”¨çš„ï¼Œ å®åœ¨æ˜¯å¤ªèœäº†è¿™ä¸ªåº”è¯¥æ˜¯æœ‰é™åˆ¶çš„dijkstraï¼Œç”±äºæˆ‘ä»¬å¯ä»¥æœ‰æ— é™ä¸ªçˆ†ç‚¸æœºå™¨äººï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å…ˆåšä¸€éæœ€çŸ­è·¯æŠŠ æ‰€æœ‰æœºå™¨äººå®‰æ’åœ¨æ¯ä¸ªåŸå¸‚ï¼Œç„¶åå†æ ¹æ®ç»“ç•Œçš„é™åˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç‹¬ç«‹å¤„ç†å‡ºæ¯ä¸ªåŸå¸‚æœ€æ—©æ²¡æœ‰ç»“ç•Œçš„æ—¶é—´ã€‚ç„¶åè¿™äº›ä½“ç°åœ¨ä»£ç é‡Œé¢å°±æ˜¯ä¸æ–­çš„å–maxâ€¦â€¦QAQ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364#include &lt;cstdio&gt;#include &lt;iostream&gt;#include &lt;cmath&gt;#include &lt;cstdlib&gt;#include &lt;algorithm&gt;#include &lt;cstring&gt;#include &lt;queue&gt;#define pa pair&lt;int,int&gt;using namespace std;int n,m,cnt,d1[3010],d2[3010],d[3010],p[3010],Link[3010][3010],num[3010];bool vis[3010];struct node&#123; int a,b,nt,w;&#125;e[70010];void add(int x,int y,int z)&#123; e[++cnt].a=x,e[cnt].b=y,e[cnt].w=z; e[cnt].nt=p[x],p[x]=cnt;&#125;priority_queue&lt;pa,vector&lt;pa&gt;,greater&lt;pa&gt; &gt;q;void dijkstra()&#123; memset(d1,127/3,sizeof(d1)); q.push(make_pair(0,1)); d1[1]=0; while(!q.empty())&#123; int now=q.top().second;q.pop(); if(vis[now])continue;vis[now]=true; int mx=max(d1[now],d2[now]); for(int i=p[now];i;i=e[i].nt)&#123; int to=e[i].b; if(d1[to]&gt;mx+e[i].w)&#123; d1[to]=mx+e[i].w; int tmp=max(d1[to],d2[to]); if(!d[to])q.push(make_pair(tmp,to)); &#125; &#125; for(int i=1;i&lt;=num[now];i++)&#123; int to=Link[now][i]; d[to]--; d2[to]=max(mx,d2[to]); int tmp=max(d2[to],d1[to]); if(!d[to])q.push(make_pair(tmp,to)); &#125; &#125; printf(\"%d\\n\",max(d1[n],d2[n]));&#125;int main()&#123; scanf(\"%d%d\",&amp;n,&amp;m); for(int i=1;i&lt;=m;i++)&#123; int from,to,w; scanf(\"%d%d%d\",&amp;from,&amp;to,&amp;w); add(from,to,w); &#125; for(int i=1;i&lt;=n;i++)&#123; scanf(\"%d\",&amp;d[i]); for(int j=1;j&lt;=d[i];j++)&#123; int u; scanf(\"%d\",&amp;u); Link[u][++num[u]]=i; &#125; &#125; dijkstra(); return 0;&#125;","categories":[],"tags":[{"name":"dijkstra","slug":"dijkstra","permalink":"https://dextertyw.github.io/tags/dijkstra/"}]},{"title":"æ´›è°· P1174 æ‰“ç –å—","slug":"æ´›è°· P1174 æ‰“ç –å—","date":"2017-08-22T01:16:29.440Z","updated":"2017-08-22T01:16:12.531Z","comments":true,"path":"2017/08/22/æ´›è°· P1174 æ‰“ç –å—/","link":"","permalink":"https://dextertyw.github.io/2017/08/22/æ´›è°· P1174 æ‰“ç –å—/","excerpt":"é¢˜ç›®æè¿°å°çº¢å¾ˆå–œæ¬¢ç©ä¸€ä¸ªå«æ‰“ç –å—çš„æ¸¸æˆï¼Œè¿™ä¸ªæ¸¸æˆçš„è§„åˆ™å¦‚ä¸‹ï¼š åœ¨åˆšå¼€å§‹çš„æ—¶å€™ï¼Œæœ‰nè¡Œ*måˆ—çš„ç –å—ï¼Œå°çº¢æœ‰kå‘å­å¼¹ã€‚å°çº¢æ¯æ¬¡å¯ä»¥ç”¨ä¸€å‘å­å¼¹ï¼Œæ‰“ç¢æŸä¸€åˆ—å½“å‰å¤„äºè¿™ä¸€åˆ—æœ€ä¸‹é¢çš„é‚£å—ç –ï¼Œå¹¶ä¸”å¾—åˆ°ç›¸åº”çš„å¾—åˆ†ã€‚(å¦‚å›¾æ‰€ç¤º) æŸäº›ç –å—åœ¨æ‰“ç¢ä»¥åï¼Œè¿˜å¯èƒ½å°†å¾—åˆ°ä¸€å‘å­å¼¹çš„å¥–åŠ±ã€‚æœ€åå½“æ‰€æœ‰çš„ç –å—éƒ½æ‰“ç¢äº†ï¼Œæˆ–è€…å°çº¢æ²¡æœ‰å­å¼¹äº†ï¼Œæ¸¸æˆç»“æŸã€‚ å°çº¢åœ¨æ¸¸æˆå¼€å§‹ä¹‹å‰ï¼Œå°±å·²ç»çŸ¥é“æ¯ä¸€å—ç –åœ¨æ‰“ç¢ä»¥åçš„å¾—åˆ†ï¼Œå¹¶ä¸”çŸ¥é“èƒ½ä¸èƒ½å¾—åˆ°ä¸€å‘å¥–åŠ±çš„å­å¼¹ã€‚å°çº¢æƒ³çŸ¥é“åœ¨è¿™æ¬¡æ¸¸æˆä¸­å¥¹å¯èƒ½çš„æœ€å¤§å¾—åˆ†ï¼Œå¯æ˜¯è¿™ä¸ªé—®é¢˜å¯¹äºå¥¹æ¥è¯´å¤ªéš¾äº†ï¼Œä½ èƒ½å¸®å¸®å¥¹å—ï¼Ÿ","text":"é¢˜ç›®æè¿°å°çº¢å¾ˆå–œæ¬¢ç©ä¸€ä¸ªå«æ‰“ç –å—çš„æ¸¸æˆï¼Œè¿™ä¸ªæ¸¸æˆçš„è§„åˆ™å¦‚ä¸‹ï¼š åœ¨åˆšå¼€å§‹çš„æ—¶å€™ï¼Œæœ‰nè¡Œ*måˆ—çš„ç –å—ï¼Œå°çº¢æœ‰kå‘å­å¼¹ã€‚å°çº¢æ¯æ¬¡å¯ä»¥ç”¨ä¸€å‘å­å¼¹ï¼Œæ‰“ç¢æŸä¸€åˆ—å½“å‰å¤„äºè¿™ä¸€åˆ—æœ€ä¸‹é¢çš„é‚£å—ç –ï¼Œå¹¶ä¸”å¾—åˆ°ç›¸åº”çš„å¾—åˆ†ã€‚(å¦‚å›¾æ‰€ç¤º) æŸäº›ç –å—åœ¨æ‰“ç¢ä»¥åï¼Œè¿˜å¯èƒ½å°†å¾—åˆ°ä¸€å‘å­å¼¹çš„å¥–åŠ±ã€‚æœ€åå½“æ‰€æœ‰çš„ç –å—éƒ½æ‰“ç¢äº†ï¼Œæˆ–è€…å°çº¢æ²¡æœ‰å­å¼¹äº†ï¼Œæ¸¸æˆç»“æŸã€‚ å°çº¢åœ¨æ¸¸æˆå¼€å§‹ä¹‹å‰ï¼Œå°±å·²ç»çŸ¥é“æ¯ä¸€å—ç –åœ¨æ‰“ç¢ä»¥åçš„å¾—åˆ†ï¼Œå¹¶ä¸”çŸ¥é“èƒ½ä¸èƒ½å¾—åˆ°ä¸€å‘å¥–åŠ±çš„å­å¼¹ã€‚å°çº¢æƒ³çŸ¥é“åœ¨è¿™æ¬¡æ¸¸æˆä¸­å¥¹å¯èƒ½çš„æœ€å¤§å¾—åˆ†ï¼Œå¯æ˜¯è¿™ä¸ªé—®é¢˜å¯¹äºå¥¹æ¥è¯´å¤ªéš¾äº†ï¼Œä½ èƒ½å¸®å¸®å¥¹å—ï¼Ÿ è¾“å…¥è¾“å‡ºæ ¼å¼è¾“å…¥æ ¼å¼ï¼šç¬¬ä¸€è¡Œæœ‰3ä¸ªæ­£æ•´æ•°ï¼Œnï¼Œmï¼Œkã€‚è¡¨ç¤ºå¼€å§‹çš„æ—¶å€™ï¼Œæœ‰nè¡Œ*måˆ—çš„ç –å—ï¼Œå°çº¢æœ‰kå‘å­å¼¹ã€‚ æ¥ä¸‹æ¥æœ‰nè¡Œï¼Œæ¯è¡Œçš„æ ¼å¼å¦‚ä¸‹ï¼š f1 c1 f2 c2 f3 c3 â€¦â€¦ fm cm å…¶ä¸­fiä¸ºæ­£æ•´æ•°ï¼Œè¡¨ç¤ºè¿™ä¸€è¡Œçš„ç¬¬iåˆ—çš„ç –ï¼Œåœ¨æ‰“ç¢ä»¥åçš„å¾—åˆ†ã€‚ciä¸ºä¸€ä¸ªå­—ç¬¦ï¼Œåªæœ‰ä¸¤ç§å¯èƒ½ï¼ŒYæˆ–è€…Nã€‚Yè¡¨ç¤ºæœ‰ä¸€å‘å¥–åŠ±çš„å­å¼¹ï¼ŒNè¡¨ç¤ºæ²¡æœ‰ã€‚ æ‰€æœ‰çš„æ•°ä¸å­—ç¬¦ä¹‹é—´ç”¨ä¸€ä¸ªç©ºæ ¼éš”å¼€ï¼Œè¡Œæœ«æ²¡æœ‰å¤šä½™çš„ç©ºæ ¼ã€‚ è¾“å‡ºæ ¼å¼ï¼šä»…ä¸€ä¸ªæ­£æ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤§çš„å¾—åˆ†ã€‚ è¾“å…¥è¾“å‡ºæ ·ä¾‹ è¾“å…¥æ ·ä¾‹#1ï¼š3 4 29 N 5 N 1 N 8 N5 N 5 Y 5 N 5 N6 N 2 N 4 N 3 N è¾“å‡ºæ ·ä¾‹#1ï¼š13 è¯´æ˜å¯¹äº20%çš„æ•°æ®ï¼Œæ»¡è¶³1&lt;=n,m&lt;=5ï¼Œ1&lt;=k&lt;=10ï¼Œæ‰€æœ‰çš„å­—ç¬¦céƒ½ä¸ºN å¯¹äº50%çš„æ•°æ®ï¼Œæ»¡è¶³1&lt;=n,m&lt;=200ï¼Œ1&lt;=k&lt;=200ï¼Œæ‰€æœ‰çš„å­—ç¬¦céƒ½ä¸ºN å¯¹äº100%çš„æ•°æ®ï¼Œæ»¡è¶³1&lt;=n,m&lt;=200ï¼Œ1&lt;=k&lt;=200ï¼Œå­—ç¬¦cå¯èƒ½ä¸ºY å¯¹äº100%çš„æ•°æ®ï¼Œæ‰€æœ‰çš„få€¼æ»¡è¶³1&lt;=f&lt;=10000 é¢˜è§£æ„Ÿè§‰è‡ªå·±å¥½èœï¼Œåªä¼šå†™æ²¡æœ‰å¥–åŠ±çš„50åˆ†ï¼Œå¦‚æœæ²¡æœ‰å¥–åŠ±è¿™ä¸ªé¢˜å°±æ˜¯ä¸€ä¸ªåˆ†ç»„dpã€‚ç”±äºæ‰“æ¯ä¸€åˆ—çš„ç –å—ï¼Œå¯¹å…¶åˆ—æ˜¯æ²¡æœ‰å½±å“çš„ï¼Œæ•…æ²¡æœ‰åæ•ˆæ€§ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥å¯¹åˆ—è¿›è¡Œæšä¸¾ã€‚ä¸‹é¢æˆ‘ä»¬çœ‹çœ‹æ­¤é¢˜çš„æ­£è§£ï¼Œå¯ä»¥çœ‹åˆ°å¦‚æœå­˜åœ¨ä¸€ä¸ªæœ‰å¥–åŠ±çš„ç –å—ï¼Œä½ æ˜¯é¦–å…ˆè¦èŠ±è´¹ä¸€é¢—å­å¼¹æ‰“ï¼Œæ‰èƒ½å¾—åˆ°ä¸€é¢—å­å¼¹çš„å¥–åŠ±ï¼Œæ•…æˆ‘ä»¬å¯ä»¥åˆ†ä¸¤ç§æƒ…å†µè®¨è®ºï¼š 1.s1[i][j] è¡¨ç¤ºæ‰“ç¬¬iè¡Œç”¨äº†jé¢—å­å¼¹ï¼Œä¸”æœ€åä¸€é¢—å­å¼¹ä¸æ‰“(ç•™ç€ç»™ä¸‹ä¸€åˆ—è¿›è¡Œå¼€å§‹)ã€‚2.s2[i][j] è¡¨ç¤ºæ‰“ç¬¬iè¡Œç”¨äº†jé¢—å­å¼¹ï¼Œä¸”æœ€åä¸€é¢—å­å¼¹æ‰“æ‰ã€‚ ç¬¬ä¸€ä¸ªäº‹æƒ…å°±æ˜¯è¿™ä¸¤ä¸ªæ•°ç»„æ˜æ˜¾å¯ä»¥é¢„å¤„ç†ã€‚ç¬¬äºŒä¸ªäº‹æƒ…å°±æ˜¯æˆ‘ä»¬å¦‚ä½•å°†å®ƒä»¬è¿ç”¨åˆ°dpä¸­ï¼Œå¯¹åº”çš„æˆ‘ä»¬ç»™å‡ºdpæ•°ç»„çš„å®šä¹‰ï¼š 1.dp1[i][j] è¡¨ç¤ºæ‰“åˆ°ç¬¬iè¡Œç”¨äº†jé¢—å­å¼¹ï¼Œä¸”æœ€åä¸€é¢—å­å¼¹ä¸æ‰“çš„æœ€é«˜å¾—åˆ†ã€‚2.dp2[i][j] è¡¨ç¤ºæ‰“åˆ°ç¬¬iè¡Œç”¨äº†jé¢—å­å¼¹ï¼Œä¸”æœ€åä¸€é¢—å­å¼¹æ‰“æ‰çš„æœ€é«˜å¾—åˆ†ã€‚ æœ€åä¸€ä¸ªé—®é¢˜å°±æ˜¯æ–¹ç¨‹çš„è½¬ç§»ï¼š 1.dp1[i][j]=max(dp1[i][j],dp1[i-1][j-g])ç”¨gé¢—å­å¼¹æ‰“ï¼Œç”±äºä¸Šä¸€åˆ—æœ€åä¸€ä¸ªæœ¬èº«æ²¡æœ‰æ‰“å’Œè¿™ä¸€è¡Œçš„ç›¸å¯¹åº”ï¼Œæ‰€ä»¥ä½¿ç”¨å­å¼¹æ•°é‡ä¸å˜ï¼Œç›´æ¥è½¬ç§»ã€‚ 2.dp2[i][j]=max(dp2[i][j],dp1[i-1][j-g]+s2[i][g])ç”¨gé¢—å­å¼¹æ‰“ï¼Œç”±äºä¸Šä¸€åˆ—æœ€åä¸€ä¸ªæœ¬èº«æ²¡æœ‰æ‰“ï¼Œè€Œè¿™ä¸€åˆ—çš„æœ€åä¸€ä¸ªéœ€è¦æ‰“æ‰ï¼Œç›¸å½“äºå…ˆæœ€åæ‰“æ‰äº†ç¬¬gä¸ªç –å—ã€‚ 2.dp2[i][j]=max(dp2[i][j],dp2[i-1][j-g]+s1[i][g])ç”¨gé¢—å­å¼¹æ‰“ï¼Œç”±äºä¸Šä¸€åˆ—æœ€åä¸€ä¸ªæœ¬èº«æ‰“æ‰äº†ï¼Œè€Œä½ ç°åœ¨ç”¨jé¢—å­å¼¹åªèƒ½æ‰“åˆ°ç¬¬g-1ä¸ªç –å—ã€‚ å¯ä»¥çœ‹åˆ°ï¼Œæ¯æ¬¡æˆ‘ä»¬è¿›è¡Œäº†å¯¹ç¬¬iåˆ—æ‰€ç”¨å­å¼¹è¿›è¡Œäº†æšä¸¾ï¼Œé‚£ä¹ˆå¦‚æœä¸Šä¸€è¡Œçš„æœ€åä¸€é¢—å­å¼¹æ‰“äº†ï¼Œå°±è¦ç”¨â€é¢å¤–â€çš„ä¸€é¢—å­å¼¹å¼€å§‹æ‰“ï¼Œè¿™ä¸ªå¯ä»¥æƒ³ä¸€ä¸‹ã€‚å¯¹åº”ä¸Šä¸Šé¢çš„ä¸‰ç§æƒ…å†µã€‚ ä»¥ä¸Šã€‚ 1234567891011121314151617181920212223242526272829303132333435#include &lt;bits/stdc++.h&gt;using namespace std;int a[210][210],s1[210][210],s2[210][210],dp1[210][210],dp2[210][210],n,m,k;bool ward[210][210];int main()&#123;#ifdef YSW freopen(\"in.txt\",\"r\",stdin);#endif scanf(\"%d%d%d\",&amp;n,&amp;m,&amp;k); for(int i=1;i&lt;=n;i++)for(int j=1;j&lt;=m;j++)&#123; char ch[11]; scanf(\"%d%s\",&amp;a[i][j],ch); if(ch[0]=='Y')ward[i][j]=true; &#125; for(int i=1;i&lt;=m;i++)&#123; int cnt=0; for(int j=n;j&gt;=1;j--) if(ward[j][i]) s1[i][cnt]+=a[j][i]; else s1[i][++cnt]=s2[i][cnt]=s1[i][cnt-1]+a[j][i]; &#125; for(int i=1;i&lt;=m;i++) for(int j=0;j&lt;=k;j++) for(int g=0;g&lt;=n&amp;&amp;g&lt;=j;g++)&#123; dp1[i][j]=max(dp1[i][j],dp1[i-1][j-g]+s1[i][g]); if(g&gt;0) dp2[i][j]=max(dp2[i][j],dp1[i-1][j-g]+s2[i][g]); if(j-g&gt;0) dp2[i][j]=max(dp2[i][j],dp2[i-1][j-g]+s1[i][g]); &#125; printf(\"%d\\n\",dp2[m][k]); return 0;&#125;","categories":[],"tags":[{"name":"ä¼˜ç§€","slug":"ä¼˜ç§€","permalink":"https://dextertyw.github.io/tags/ä¼˜ç§€/"},{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"https://dextertyw.github.io/tags/åŠ¨æ€è§„åˆ’/"}]},{"title":"é«˜ç²¾åº¦æ¨¡æ¿","slug":"é«˜ç²¾åº¦æ¨¡æ¿","date":"2017-08-17T14:39:03.806Z","updated":"2017-08-24T01:23:09.426Z","comments":true,"path":"2017/08/17/é«˜ç²¾åº¦æ¨¡æ¿/","link":"","permalink":"https://dextertyw.github.io/2017/08/17/é«˜ç²¾åº¦æ¨¡æ¿/","excerpt":"æ¥è´´ä¸€æ³¢å­¦é•¿å†™çš„æ¨¡æ¿ æ„Ÿè§‰å†™çš„å¾ˆå¥½ï¼Œå¯¹äºæˆ‘è¿™ç§ä¸ä¼šç”¨æŒ‡é’ˆçš„è’Ÿè’»æ¥è¯´ï¼Œé€šç†Ÿæ˜“æ‡‚ï¼Œç½‘ä¸Šå¾ˆå¤šæ¨¡æ¿éƒ½æœ‰æŒ‡é’ˆï¼Œçœ‹åˆ°éƒ½å¤´çš®å‘éº»QAQ å…³äºä¸ºä»€ä¹ˆä¸è‡ªå·±å†™ï¼Œé¢ï¼Œåº”è¯¥æ˜¯å¤ªèœäº†QAQ","text":"æ¥è´´ä¸€æ³¢å­¦é•¿å†™çš„æ¨¡æ¿ æ„Ÿè§‰å†™çš„å¾ˆå¥½ï¼Œå¯¹äºæˆ‘è¿™ç§ä¸ä¼šç”¨æŒ‡é’ˆçš„è’Ÿè’»æ¥è¯´ï¼Œé€šç†Ÿæ˜“æ‡‚ï¼Œç½‘ä¸Šå¾ˆå¤šæ¨¡æ¿éƒ½æœ‰æŒ‡é’ˆï¼Œçœ‹åˆ°éƒ½å¤´çš®å‘éº»QAQ å…³äºä¸ºä»€ä¹ˆä¸è‡ªå·±å†™ï¼Œé¢ï¼Œåº”è¯¥æ˜¯å¤ªèœäº†QAQ ä¸‹é¢è¯·è§ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263#include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;algorithm&gt;#include &lt;cstdlib&gt;#include &lt;ctime&gt;#include &lt;queue&gt;#include &lt;stack&gt;#include &lt;vector&gt;#include &lt;cmath&gt;#include &lt;string&gt;#include &lt;map&gt;#define N 1000001#define M 50001#define INF 1000000000#define lowbit(x) (x&amp;(-x))#define repg(i,x) for(int i=cur[x];i;i=e[i].nt)#define rep(i,x,y) for(int i=x;i&lt;=y;i++)#define pi acos(-1)#define pb(x) push_back(x)#define eps 1e-8#define m(x) x.musing namespace std;typedef long long LL;typedef pair&lt;int,int&gt;pa;int n;/*æœ¬æ¨¡æ¿åŒ…æ‹¬ï¼š1.èµ‹å€¼è¿ç®—ï¼Œæ”¯æŒæ•´æ•°ä»¥åŠstringç±»èµ‹å€¼ï¼Œç”¨æ³•ï¼ša=b2.åŸºæœ¬è¿ç®—ï¼ŒåŒ…æ‹¬åŠ å‡ä¹˜é™¤å–æ¨¡ï¼Œå¯¹å•ç²¾åº¦ä»¥åŠå¯¹é«˜ç²¾åº¦éƒ½æœ‰ã€‚3.æ¯”è¾ƒå‡½æ•°ï¼Œ&gt;,&lt;,&lt;=,&gt;=,==,!=ã€‚4.å¤–éƒ¨å‡½æ•°åŒ…æ‹¬æœ€å°å…¬å€æ•°ï¼Œæœ€å¤§å…¬çº¦æ•°ï¼Œå¿«é€Ÿå¹‚ã€‚ ä»…æ”¯æŒ10è¿›åˆ¶ï¼ˆä¸ä¼šæ‰“å‹ä½QAQï¼‰ UPD1:é«˜ç²¾åº¦æ˜¯å¯ä»¥ç”¨vectorä¼˜åŒ–å†…å­˜çš„ï¼Œæˆ‘ä¸ä¼šæ‰“QAQ UPD2:æœ€å¥½æŠŠé«˜ç²¾åº¦å°è£…åˆ°ç»“æ„ä½“é‡Œé¢ï¼Œå®é™…ä½¿ç”¨æ—¶ï¼Œä¹Ÿä¸ä¸€å®šä¸‹é¢çš„è¦å…¨æ‰“ï¼Œè¦ç”¨ä»€ä¹ˆæ‰“ä»€ä¹ˆå°±è¡Œäº† UPD3:çœ‹ä¸Šå»å¥½éº»çƒ¦ï¼Œå®é™…ä¸Šï¼Œè¿™ä¹ˆå°è£…ä¹‹åï¼Œä½ è°ƒç”¨çš„æ—¶å€™å°±å˜çš„ååˆ†ç®€å•ï¼Œä¸ä»…å¯ä»¥ç›´æ¥åƒæ•´æ•°ä¸€æ ·ç›´æ¥è¿ç®—ï¼Œè€Œä¸”queue,stackç­‰STLä¹Ÿèƒ½ä½¿ç”¨ã€‚UPD4:æ³¨æ„å®é™…ä½¿ç”¨çš„æ—¶å€™é«˜ç²¾åº¦è¦æ”¾åœ¨å‰é¢ä¾‹å¦‚:aa*10ï¼Œè€Œä¸æ˜¯10*aa UPD5:å­¦ä¼šè¿™ç±»æ¿å­æ€ä¹ˆæ‰“ï¼Œæ—¥åçŸ©é˜µä¹‹ç±»çš„å°±å¥½åŠ \"const\"è¡¨ç¤ºåœ¨è¿™ä¸ªå‡½æ•°ä¸­ï¼Œè°ƒç”¨çš„å‚æ•°æ˜¯ä¸å¯æ”¹å˜çš„ã€‚ */struct bign&#123; long long num[510];int len; void print()&#123;//è¾“å‡ºè¿™ä¸ªæ•° for(int i=len;i&gt;=1;i--)printf(\"%lld\",num[i]);printf(\"\\n\"); &#125; //å®šä¹‰èµ‹å€¼ bign()&#123;&#125; bign(string aa)&#123;*this=aa;&#125; bign(long long aa)&#123;*this=aa;&#125;//å£°æ˜èµ‹å€¼å‡½æ•° bign operator =(string aa)&#123;//stringç±»èµ‹å€¼ memset(num,0,sizeof(num)); len=aa.length(); for(int i=0;i&lt;len;i++)num[i+1]=aa[len-i-1]-'0'; return *this; &#125; bign operator =(long long aa)&#123;//æ•´æ•°ç±»èµ‹å€¼ memset(num,0,sizeof(num));len=0; long long a=aa; if(!a)len++; while(a)&#123; num[++len]=a%10;a/=10; &#125; return *this; &#125; //æ¯”è¾ƒå‡½æ•° bool operator &lt;(const bign&amp; a)const&#123; if(a.len&gt;len)return true; else if(a.len&lt;len)return false; for(int i=len;i&gt;=1;i--)&#123; if(a.num[i]&gt;num[i])return true; else if(a.num[i]&lt;num[i])return false; &#125; return false; &#125; bool operator &gt;(const bign&amp; a)const&#123; if(a.len&lt;len)return true; else if(a.len&gt;len)return false; for(int i=len;i&gt;=1;i--)&#123; if(a.num[i]&lt;num[i])return true; else if(a.num[i]&gt;num[i])return false; &#125; return false; &#125; bool operator ==(const bign&amp; a)const&#123; if(a.len!=len)return false; for(int i=len;i&gt;=1;i--)&#123; if(num[i]!=a.num[i])return false; &#125; return true; &#125; bool operator &lt;=(const bign&amp; a)const&#123;return *this&lt;a||*this==a;&#125; bool operator &gt;=(const bign&amp; a)const&#123;return *this&gt;a||*this==a;&#125; bool operator !=(const bign&amp; a)const&#123;return !(*this==a);&#125; //è¿›ä½ä»¥åŠé€€ä½ void carry()&#123; for(int i=1;i&lt;len;i++)&#123;num[i+1]+=num[i]/10;num[i]%=10;&#125; while(num[len]&gt;=10)&#123;num[len+1]+=num[len]/10;num[len]%=10;len++;&#125; &#125; void decomposition()&#123; for(int i=1;i&lt;len;i++) if(num[i]&lt;0)&#123; num[i+1]--; num[i]+=10; &#125; while(!num[len]&amp;&amp;len)len--; if(!len)*this=0; &#125; //åŠ æ³• bign operator +(const long long&amp; x)const&#123;//é«˜ç²¾åº¦åŠ æ•´æ•° bign c;c=*this; c.num[1]+=x; c.carry(); return c; &#125; bign operator +=(const long long&amp; x)&#123; *this=*this+x;return *this; &#125; bign operator +(const bign&amp; x)const&#123;//é«˜ç²¾åº¦åŠ é«˜ç²¾åº¦ bign c=*this; c.len=max(len,x.len); for(int i=1;i&lt;=c.len;i++)c.num[i]+=x.num[i]; c.carry(); return c; &#125; bign operator +=(const bign&amp; x)&#123; *this=*this+x;return *this; &#125; //å‡æ³• bign operator -(const long long&amp; x)const&#123;//é«˜ç²¾åº¦å‡æ•´æ•° bign c=*this; c.num[1]-=x; c.decomposition(); return c; &#125; bign operator -=(const long long&amp; x)&#123; *this=*this-x;return *this; &#125; bign operator -(const bign&amp; x)const&#123;//é«˜ç²¾åº¦å‡é«˜ç²¾åº¦ bign c=*this; c.len=max(len,x.len); for(int i=1;i&lt;=c.len;i++)c.num[i]-=x.num[i]; c.decomposition(); return c; &#125; bign operator -=(const bign&amp; x)&#123; *this=*this-x;return *this; &#125; //ä¹˜æ³• bign operator *(const long long &amp;x)const&#123;//é«˜ç²¾åº¦ä¹˜æ•´æ•° bign c=*this; for(int i=1;i&lt;=len;i++)c.num[i]*=x; c.carry(); return c; &#125; bign operator *=(const long long&amp; x)&#123; *this=*this*x;return *this; &#125; bign operator *(const bign x)const&#123;//é«˜ç²¾åº¦ä¹˜é«˜ç²¾åº¦ bign c=0; for(int i=1;i&lt;=len;i++)&#123; for(int j=1;j&lt;=x.len;j++)c.num[i+j-1]+=num[i]*x.num[j]; &#125; c.len=200; while(!c.num[c.len]&amp;&amp;c.len&gt;1)c.len--; c.carry(); return c; &#125; bign operator *=(const bign&amp; x)&#123; *this=*this*x;return *this; &#125; //é™¤æ³• bign operator /(const long long&amp; x)&#123;//é«˜ç²¾åº¦é™¤æ•´æ•° bign c=0; long long now=0; for(int i=len;i&gt;=1;i--)&#123; now=now*10+num[i]; c.num[i]=now/x;now%=x; &#125;c.len=len; c.decomposition(); return c; &#125; bign operator /=(const long long&amp; x)&#123; *this=*this/x;return *this; &#125; bign operator /(const bign&amp; x)const&#123;//é«˜ç²¾åº¦é™¤é«˜ç²¾åº¦ bign a=0,rtn=0; for(int i=len;i&gt;=1;i--)&#123; a=a*10+num[i];int cnt=0; while(a&gt;=x)&#123; a-=x;cnt++; &#125; rtn.num[i]=cnt; &#125;rtn.len=len; rtn.decomposition(); return rtn; &#125; bign operator /=(const bign&amp; x)&#123; *this=*this/x;return *this; &#125; //å–æ¨¡ bign operator %(const long long&amp; x)const&#123;//é«˜ç²¾åº¦å–æ¨¡æ•´æ•° long long now=0; for(int i=len;i&gt;=1;i--)&#123; now=now*10+num[i]; now%=x; &#125; return bign(now); &#125; bign operator %=(const long long&amp; x)&#123; *this=*this%x;return *this; &#125; bign operator %(const bign&amp; x)const&#123;//é«˜ç²¾åº¦å–æ¨¡é«˜ç²¾åº¦ bign a=0; for(int i=len;i&gt;=1;i--)&#123; a=a*10+num[i]; while(a&gt;=x)a-=x; &#125; return a; &#125; bign operator %=(const bign&amp; x)&#123; *this=*this%x;return *this; &#125;&#125;f[110]; bign gcd(bign x,bign y)&#123;//æœ€å¤§å…¬çº¦æ•° if(y==bign(0))return x; else return gcd(y,x%y);&#125; bign lcm(bign x,bign y)&#123;//æœ€å°å…¬å€æ•° if(x&lt;0)x*=-1;if(y&lt;0)y*=-1; bign c=x*y; return c/gcd(x,y);&#125; bign sqrt(bign x)&#123;//å¼€æ–¹ x.len+=x.len%2; bign now=0,last=0; for(int i=x.len;i;i-=2)&#123; now=now*100+x.num[i]*10+x.num[i-1]; int cnt=0;bign tmp=0; while(tmp+last*20+cnt*2+1&lt;=now)&#123; tmp+=last*20+cnt*2+1;cnt++; &#125; now-=tmp;last=last*10+cnt; &#125; return last;&#125;int main()&#123;#ifdef WK freopen(\"D:\\\\in.txt\",\"r\",stdin); freopen(\"D:\\\\out.txt\",\"w\",stdout);#endif f[1]=1; for(int i=2;i&lt;=100;i++)f[i]=f[i-1]*3-f[i-2]+2; while(scanf(\"%d\",&amp;n)!=EOF)f[n].print(); return 0;&#125;","categories":[],"tags":[{"name":"æ¨¡æ¿","slug":"æ¨¡æ¿","permalink":"https://dextertyw.github.io/tags/æ¨¡æ¿/"},{"name":"é«˜ç²¾åº¦","slug":"é«˜ç²¾åº¦","permalink":"https://dextertyw.github.io/tags/é«˜ç²¾åº¦/"}]},{"title":"Leftist Tree","slug":"å·¦åæ ‘æ¨¡æ¿","date":"2017-08-16T07:13:29.414Z","updated":"2017-08-16T07:12:16.628Z","comments":true,"path":"2017/08/16/å·¦åæ ‘æ¨¡æ¿/","link":"","permalink":"https://dextertyw.github.io/2017/08/16/å·¦åæ ‘æ¨¡æ¿/","excerpt":"åˆšåˆšå­¦çš„å·¦åæ ‘ï¼Œå¯èƒ½æ˜¯å¯å¹¶å †é‡Œé¢æœ€ç®€å•çš„äº†ã€‚æ¨¡æ¿æ˜¯ç”¨æ¥Aæ´›è°·é‡Œé¢çš„åŒåæ¨¡æ¿é¢˜ï¼Œæœ‰å…´è¶£å¯ä»¥å»çœ‹çœ‹ã€‚è¿˜æ˜¯æ¯”è¾ƒé‡è¦çš„æ•°æ®ç»“æ„23333ã€‚ ä¼ é€é—¨ç›´æ¥ä¸Šä»£ç å§ï¼Œæœ‰æ³¨é‡Šã€‚","text":"åˆšåˆšå­¦çš„å·¦åæ ‘ï¼Œå¯èƒ½æ˜¯å¯å¹¶å †é‡Œé¢æœ€ç®€å•çš„äº†ã€‚æ¨¡æ¿æ˜¯ç”¨æ¥Aæ´›è°·é‡Œé¢çš„åŒåæ¨¡æ¿é¢˜ï¼Œæœ‰å…´è¶£å¯ä»¥å»çœ‹çœ‹ã€‚è¿˜æ˜¯æ¯”è¾ƒé‡è¦çš„æ•°æ®ç»“æ„23333ã€‚ ä¼ é€é—¨ç›´æ¥ä¸Šä»£ç å§ï¼Œæœ‰æ³¨é‡Šã€‚123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778#include &lt;cstdio&gt;#include &lt;algorithm&gt;#include &lt;cstring&gt;#include &lt;iostream&gt;#include &lt;cmath&gt;#define INF 247483647#define N 3000100using namespace std;int read() &#123; int rtn = 0; char ch = getchar(); while (!isdigit(ch))ch = getchar(); while (isdigit(ch))rtn = rtn * 10 + ch - '0', ch = getchar(); return rtn;&#125;struct node &#123; int l, r, w, d, fa;&#125; heap[N];int n, m;int mergef(int x, int y) &#123; if (!x || !y)return x + y; if (heap[x].w &gt; heap[y].w || heap[x].w == heap[y].w &amp;&amp; x &gt; y)//ç»´æŠ¤å°æ ¹å †,ååŠå¥çº¯å±é¢˜ç›®éœ€è¦ swap(x, y); heap[x].r = mergef(y, heap[x].r);//æŠŠå¦å¤–ä¸€ä¸ªæ ‘æŒ‚åˆ°å³å­æ ‘ä¸Š,æ­¤æ—¶çš„å³å­æ ‘æ·±åº¦è¾ƒå° heap[heap[x].r].fa = x;//ç»´æŠ¤çˆ¶èŠ‚ç‚¹çš„å€¼ if (heap[heap[x].l].d &lt; heap[heap[x].r].d)//ä¿è¯å·¦å­æ ‘æ¯”å³å­æ ‘æ›´æ·± swap(heap[x].l, heap[x].r); if (heap[x].r)heap[x].d = heap[heap[x].r].d + 1;//ç”±äºå·¦åæ ‘çš„å³å­æ ‘ç¦»æ ¹èŠ‚ç‚¹æ›´è¿‘,æ‰€ä»¥ä»–çš„disç”±å³å­æ ‘å†³å®š else heap[x].d = 0;//å®šä¹‰æ²¡æœ‰å³å­æ ‘çš„èŠ‚ç‚¹disä¸ºé›¶ return x;//è¿”å›åˆå¹¶ä¹‹åçš„æ–°æ ¹ç»“ç‚¹&#125;int pop(int x) &#123; int l = heap[x].l, r = heap[x].r; heap[x].l = heap[x].r = heap[x].w = -INF; heap[l].fa = l, heap[r].fa = r; return heap[x].fa = mergef(l, r);//ç”±äºå¾ˆå¤šå…¶ä»–èŠ‚ç‚¹çš„faå€¼æ²¡æœ‰æ”¹å˜,æ›´æ”¹çˆ¶èŠ‚ç‚¹&#125;int findf(int x) &#123; if (heap[x].fa == x)return x; return heap[x].fa = findf(heap[x].fa);&#125;void Insert(int x) &#123; heap[x].w = read(), heap[x].d = 0, heap[x].fa = x;&#125;int main() &#123; n = read(), m = read(); heap[0].d = -1; for (int i = 1; i &lt;= n; i++)Insert(i); while (m--) &#123; int opt = read(); if (opt == 1) &#123; int x = read(), y = read(); if (heap[x].w == -INF || heap[y].w == -INF)continue; int fx = findf(x), fy = findf(y); if (fx != fy)mergef(fx, fy); &#125; if (opt == 2) &#123; int x = read(); if (heap[x].w == -INF) &#123; printf(\"-1\\n\"); continue; &#125; printf(\"%d\\n\", heap[findf(x)].w); pop(findf(x)); &#125; &#125; return 0;&#125;","categories":[],"tags":[{"name":"å·¦åæ ‘","slug":"å·¦åæ ‘","permalink":"https://dextertyw.github.io/tags/å·¦åæ ‘/"},{"name":"æ¨¡æ¿","slug":"æ¨¡æ¿","permalink":"https://dextertyw.github.io/tags/æ¨¡æ¿/"}]},{"title":"noipæ¨¡æ‹Ÿèµ›2017.7.28","slug":"[noip2017.7.28æ¨¡æ‹Ÿèµ›]","date":"2017-07-28T06:10:40.574Z","updated":"2017-07-28T06:16:58.330Z","comments":true,"path":"2017/07/28/[noip2017.7.28æ¨¡æ‹Ÿèµ›]/","link":"","permalink":"https://dextertyw.github.io/2017/07/28/[noip2017.7.28æ¨¡æ‹Ÿèµ›]/","excerpt":"é¢˜ç›®åç§° ä¹ä¹å½’ä¸€ LCA çš„ç»Ÿè®¡ å››é©±å…„å¼Ÿ ç›®å½• mulone lcastat letsandgo å¯æ‰§è¡Œæ–‡ä»¶å mulone lcastat letsandgo æ¯ä¸ªæµ‹è¯•ç‚¹æ—¶é™ 1s 1s 1s å†…å­˜é™åˆ¶ 128M 128M 128M æµ‹è¯•ç‚¹æ•°ç›® 10 10 10 æ¯ä¸ªæµ‹è¯•ç‚¹åˆ†å€¼ 10 10 10 æ˜¯å¦æœ‰éƒ¨åˆ†åˆ† æ—  æ—  æ—  é¢˜ç›®ç±»å‹ ä¼ ç»Ÿ ä¼ ç»Ÿ ä¼ ç»Ÿ","text":"é¢˜ç›®åç§° ä¹ä¹å½’ä¸€ LCA çš„ç»Ÿè®¡ å››é©±å…„å¼Ÿ ç›®å½• mulone lcastat letsandgo å¯æ‰§è¡Œæ–‡ä»¶å mulone lcastat letsandgo æ¯ä¸ªæµ‹è¯•ç‚¹æ—¶é™ 1s 1s 1s å†…å­˜é™åˆ¶ 128M 128M 128M æµ‹è¯•ç‚¹æ•°ç›® 10 10 10 æ¯ä¸ªæµ‹è¯•ç‚¹åˆ†å€¼ 10 10 10 æ˜¯å¦æœ‰éƒ¨åˆ†åˆ† æ—  æ—  æ—  é¢˜ç›®ç±»å‹ ä¼ ç»Ÿ ä¼ ç»Ÿ ä¼ ç»Ÿ ä¹ä¹å½’ä¸€ã€é—®é¢˜æè¿°ã€‘èŒè›‹åœ¨ç»ƒä¹ æ¨¡ğ‘›æ„ä¹‰ä¸‹çš„ä¹˜æ³•æ—¶å‘ç°ï¼Œæ€»æœ‰ä¸€äº›æ•°ï¼Œåœ¨è‡ªä¹˜è‹¥å¹²æ¬¡ä»¥åï¼Œä¼š å˜æˆ 1ã€‚ä¾‹å¦‚ğ‘› = 7ï¼Œé‚£ä¹ˆ5 Ã— 5 ğ‘šğ‘œğ‘‘ 7 = 4,4 Ã— 5 ğ‘šğ‘œğ‘‘ 7 = 6,6 Ã— 5 ğ‘šğ‘œğ‘‘ 7 = 2,2 Ã— 5 ğ‘šğ‘œğ‘‘ 7 = 3,3 Ã— 5 ğ‘šğ‘œğ‘‘ 7 = 1ã€‚å¦‚æœç»§ç»­ä¹˜ä¸‹å»ï¼Œå°±ä¼šé™·å…¥å¾ªç¯å½“ä¸­ã€‚ èŒè›‹è¿˜å‘ç°ï¼Œè¿™ä¸ªå¾ªç¯çš„é•¿åº¦ç»å¸¸ä¼šæ˜¯Ï†(ğ‘›)ï¼Œå³å°äºğ‘›ä¸”ä¸ğ‘›äº’è´¨çš„æ­£æ•´æ•° çš„ä¸ªæ•°ã€‚ä¾‹å¦‚ï¼ŒÏ†(7) = 6ï¼Œè€Œä¸Šè¿°å¾ªç¯çš„é•¿åº¦ä¹Ÿæ˜¯ 6ï¼Œå› ä¸º 5,4,6,2,3,1 å…±æœ‰ 6 ä¸ª æ•°ã€‚ å†å¦‚ğ‘› = 6ï¼Œé‚£ä¹ˆ5 Ã— 5 ğ‘šğ‘œğ‘‘ 6 = 1ã€‚è¿™ä¸ªå¾ªç¯çš„é•¿åº¦å¾ˆçŸ­ï¼Œåªæœ‰ 2ï¼Œè€Œæ°å¥½ Ï†(6) = 2ã€‚ ç„¶è€Œï¼Œå¯¹äºæŸäº›æƒ…å†µï¼Œè™½ç„¶å¾ªç¯çš„é•¿åº¦å¯ä»¥æ˜¯Ï†(ğ‘›)ï¼Œä½†å­˜åœ¨æ¯”Ï†(ğ‘›)æ›´å°çš„é•¿ åº¦ï¼šä¾‹å¦‚ğ‘› = 7ï¼Œè€Œ2 Ã— 2 ğ‘šğ‘œğ‘‘ 7 = 4,4 Ã— 2 ğ‘šğ‘œğ‘‘ 7 = 1ï¼Œå¾ªç¯çš„é•¿åº¦åªæœ‰ 3ã€‚å½“ç„¶ï¼Œ 6 ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå¾ªç¯çš„é•¿åº¦ã€‚ å‡è®¾å·²çŸ¥äº†ğ‘›ï¼Œæˆ‘ä»¬ç§°æ•°ğ‘ç¥å¥‡çš„ï¼Œå½“ä¸”ä»…å½“å…³äºæ•°ğ‘çš„å¾ªç¯é•¿åº¦å¯ä»¥æ˜¯Ï†(ğ‘›)ï¼Œ è€Œä¸”ä¸å­˜åœ¨æ¯”Ï†(ğ‘›)æ›´å°é•¿åº¦çš„å¾ªç¯ã€‚ä¾‹å¦‚å¯¹äºğ‘› = 7ï¼Œ5 æ˜¯ç¥å¥‡çš„ï¼Œè€Œ 2 ä¸æ˜¯ç¥ å¥‡çš„ã€‚ ç°åœ¨ç»™å‡ºğ‘›å’Œğ‘æ¬¡è¯¢é—®ï¼Œæ¯æ¬¡è¯¢é—®ç»™å‡ºğ‘ï¼Œé—®ğ‘æ˜¯å¦æ˜¯ç¥å¥‡çš„ã€‚ ã€è¾“å…¥æ–‡ä»¶ã€‘ç¬¬ä¸€è¡Œä¸¤ä¸ªæ•´æ•°ğ‘› ğ‘ã€‚ ç¬¬äºŒè¡Œæœ‰ğ‘ä¸ªæ•´æ•°ï¼Œæ¯ä¸ªè¡¨ç¤ºä¸€ä¸ªğ‘ã€‚ã€è¾“å‡ºæ–‡ä»¶ã€‘ è¾“å‡ºğ‘ä¸ªå­—ç¬¦ï¼Œ1 è¡¨ç¤ºè¿™ä¸ªæ•°æ˜¯ç¥å¥‡çš„ï¼Œ0 è¡¨ç¤ºè¿™ä¸ªæ•°ä¸æ˜¯ç¥å¥‡çš„ã€‚ ã€è¾“å…¥æ ·ä¾‹ã€‘7 3 5 2 0 ã€è¾“å‡ºæ ·ä¾‹ã€‘100 ã€æ•°æ®è§„æ¨¡å’Œçº¦å®šã€‘å¯¹äº 30%çš„æ•°æ®ï¼Œğ‘› â‰¤ 1,000ã€‚å¯¹äº 60%çš„æ•°æ®ï¼Œğ‘› â‰¤ 100,000ã€‚å¯¹äº 80%çš„æ•°æ®ï¼Œğ‘› â‰¤ 1,000,000ã€‚å¯¹äº 100%çš„æ•°æ®ï¼Œğ‘› â‰¤ 10,000,000,ğ‘ â‰¤ 100,000,0 â‰¤ ğ‘ &lt; ğ‘›ã€‚ Solutionå’Œæ˜¨å¤©çš„å“ªä¸€é¢˜æœ‰ç‚¹åƒï¼Œè¿˜æ˜¯æ¯”è¾ƒè£¸çš„ï¼Œé¢˜ç›®çš„è¦æ±‚å·²ç»è¯´çš„å¾ˆæ¸…æ¥šäº†ï¼Œè¦æ±‚ä¸”æ»¡è¶³ä»»æ„ä¸€ä¸ªÏ†(ğ‘›)çš„å› å­ä¸æ»¡è¶³ä¸Šè¿°å¼å­å³å¯ã€‚123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;algorithm&gt;#include &lt;cmath&gt;#define LL long longusing namespace std;int n,q,phin;bool flag[10000010];int phi[10000010],prime[10000010],Div[1000010];void Pre_Phi()&#123; for(int i=2;i&lt;=10000010;i++) &#123; if(!flag[i])prime[++prime[0]]=i,phi[i]=i-1; for(int j=1;j&lt;=prime[0]&amp;&amp;i*prime[j]&lt;=10000000;j++) &#123; flag[i*prime[j]]=true; phi[i*prime[j]]=phi[i]*(prime[j]-1); if(i%prime[j]==0) &#123; phi[i*prime[j]]=phi[i]*prime[j]; break; &#125; &#125; &#125;&#125;void Pre_Check()&#123; for(int i=2;i&lt;=sqrt(phin);i++)&#123; if(phin%i==0) Div[++Div[0]]=i,Div[++Div[0]]=phin/i; &#125;&#125;int quickpow(int x,int y)&#123; int rtn=1; while(y) &#123; if(y&amp;1)rtn=((LL)rtn*x)%n; x=((LL)x*x)%n; y&gt;&gt;=1; &#125; return rtn%n;&#125; int main()&#123; freopen(\"mulone.in\",\"r\",stdin); freopen(\"mulone.out\",\"w\",stdout); Pre_Phi(); scanf(\"%d%d\",&amp;n,&amp;q); phin=phi[n]; Pre_Check(); while(q--) &#123; int a,f=0; scanf(\"%d\",&amp;a); for(int i=1;i&lt;=Div[0];i++) &#123; int d=Div[i]; int c=quickpow(a,d); if(c==1)&#123; printf(\"0\"); f=1; break; &#125; &#125; if(f==0&amp;&amp;quickpow(a,phin)==1)printf(\"1\"),f=1; if(f==0)printf(\"0\"); &#125; return 0;&#125; /*7 3 5 2 0 */ LCA çš„ç»Ÿè®¡ã€é—®é¢˜æè¿°ã€‘èŒè›‹æœ‰ä¸€æ£µğ‘›ä¸ªèŠ‚ç‚¹çš„æœ‰æ ¹æ ‘ï¼Œå…¶æ ¹èŠ‚ç‚¹ä¸º 1ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒèŠ‚ç‚¹ğ‘–çš„çˆ¶èŠ‚ç‚¹ ä¸ºğ‘ğ‘–ã€‚æ¯ä¸ªç‚¹ä¸Šéƒ½æœ‰ä¸€ä¸ªæƒå€¼ï¼ŒèŠ‚ç‚¹ğ‘–çš„æƒå€¼æ˜¯ğ‘¤ğ‘–ã€‚ èŒè›‹çŸ¥é“ä½ ä¸€å®šçŸ¥é“ä»€ä¹ˆå«åšç¥–å…ˆï¼ˆä»æ ¹åˆ°æŸä¸ªç‚¹çš„è·¯å¾„ä¸Šçš„æ¯ä¸ªç‚¹éƒ½æ˜¯ è¿™ä¸ªç‚¹çš„ç¥–å…ˆï¼ŒåŒ…æ‹¬å®ƒæœ¬èº«ï¼‰ï¼Œä¹Ÿä¸€å®šçŸ¥é“ä»€ä¹ˆå«åšæœ€è¿‘å…¬å…±ç¥–å…ˆï¼ˆä¸¤ä¸ªç‚¹çš„æœ€ è¿‘å…¬å…±ç¥–å…ˆæ˜¯æŸä¸ªç‚¹ï¼Œè¿™ä¸ªç‚¹åŒæ—¶æ˜¯ä¸¤ä¸ªç‚¹çš„ç¥–å…ˆï¼Œä¸”ç¦»æ ¹æœ€è¿œï¼‰ã€‚ ç°åœ¨ç»™å‡ºè¿™æ£µæ ‘ï¼Œä½ éœ€è¦æ±‚å‡ºï¼š å…¶ä¸­ğ¿ğ¶ğ´(ğ‘–,ğ‘—)è¡¨ç¤ºç‚¹ğ‘–ä¸ç‚¹ğ‘—çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚ ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œä½ åªéœ€è¦è¾“å‡ºå®ƒå¯¹ 1,000,000,007 å–æ¨¡çš„ç»“æœã€‚ ã€è¾“å…¥æ–‡ä»¶ã€‘ç¬¬ä¸€è¡Œä¸ºä¸¤ä¸ªæ•´æ•°ğ‘› ğ‘¤1ã€‚ ç¬¬äºŒè¡Œåˆ°ç¬¬ğ‘›è¡Œï¼Œç¬¬ğ‘–è¡Œæœ‰ä¸¤ä¸ªæ•´æ•°ğ‘ğ‘– ğ‘¤ğ‘–ã€‚ã€è¾“å‡ºæ–‡ä»¶ã€‘ è¾“å‡ºåªæœ‰ä¸€è¡Œï¼Œä¸ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ‰€æ±‚ç­”æ¡ˆå¯¹ 1,000,000,007 å–æ¨¡çš„ç»“æœã€‚ ã€è¾“å…¥æ ·ä¾‹ã€‘2 21 1 ã€è¾“å‡ºæ ·ä¾‹ã€‘17 ã€æ ·ä¾‹è§£é‡Šã€‘1 Ã— 1 Ã— 1 + 1 Ã— 2 Ã— 2 + 2 Ã— 1 Ã— 2 + 2 Ã— 2 Ã— 2 = 17ã€‚ ã€æ•°æ®è§„æ¨¡å’Œçº¦å®šã€‘å¯¹äº30%çš„æ•°æ®ï¼Œğ‘› â‰¤ 100,ğ‘¤ğ‘– â‰¤ 10ã€‚å¯¹äº 60%çš„æ•°æ®ï¼Œğ‘› â‰¤ 1,000,ğ‘¤ğ‘– â‰¤ 1,000ã€‚å¯¹äº 100%çš„æ•°æ®ï¼Œ1 â‰¤ ğ‘› â‰¤ 100,000,0 â‰¤ ğ‘¤ğ‘– â‰¤ 1,000,000,000,1 â‰¤ ğ‘ğ‘– &lt; ğ‘–ã€‚ Solutionæ ‘ä¸Šdpï¼Œå› ä¸ºè¿™é“é¢˜ä»Šå¤©akå¤±è´¥,æ˜¯èœå•Šï¼Œè€ƒè™‘ä¸€ä¸ªç‚¹ä½œä¸ºLCAçš„æƒ…å†µï¼Œæ ¹æ®é¢˜ç›®ç»™å‡ºçš„å¼å­æœ‰ä¸‰ç§æƒ…å†µï¼š1.i,j,kå‡ä¸ºä¸€ä¸ªç‚¹ï¼Œé‚£ä¹ˆç›´æ¥^3;2.i,jé‡åˆ,ä»–çš„æ‰€æœ‰å„¿å­çš„éƒ½å¯¹ç­”æ¡ˆæœ‰è´¡çŒ®ï¼Œåˆ«å¿˜è®°ä¹˜äºŒ;3.æœ€éº»çƒ¦çš„æ˜¯i,jåˆ†åˆ«åœ¨ä¸¤ä¸ªä¸åŒçš„å­æ ‘ä¸­ï¼Œè€ƒè™‘ä¸€ä¸ªäºŒå‰æ ‘ï¼Œç¼–å·ä»1~7,å½“1æ˜¯LCAæ—¶ï¼Œä½ å¯ä»¥æ‰‹åŠ¨æšä¸¾ä¸€ä¸‹ï¼Œç„¶ååˆå¹¶ä»€ä¹ˆçš„ï¼Œå°±å¯å¾—åˆ°ä¸€ä¸ªå¼å­:ans+=w1(w2+w4+w5)(w3+w6+w7)ã€‚é‚£ä¹ˆå°±åº”è¯¥åšå‡ºä¸€ä¸ªå­æ ‘å’Œï¼Œä¾¿äºç»Ÿè®¡ã€‚å¯¹äºä¸æ˜¯äºŒå‰æ ‘çš„ï¼Œä¾æ—§å¯ä»¥é€šè¿‡ä»–çš„å­æ ‘ç»Ÿè®¡ï¼Œç»Ÿè®¡æ–¹æ³•æšä¸¾ä¸€ä¸ªå„¿å­ï¼Œä»–å…·æœ‰å’Œå…¶ä»–å„¿å­é…å¯¹çš„å¯èƒ½æ€§ï¼Œç„¶åç”¨æ˜¯s[k]-s[kk]å°±å¾—åˆ°äº†æ‰€æœ‰å…¶ä»–å„¿å­çš„é…å¯¹æ•°ã€‚1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;cmath&gt;#include &lt;cstdlib&gt;#include &lt;algorithm&gt;#define mod 1000000007#define LL long longusing namespace std;int cnt,n,w1,p[100010];LL w[100010],s[100010],ans=0;struct node&#123; int a,b,nt;&#125;e[1000010];void add(int x,int y)&#123; cnt++; e[cnt].a=x,e[cnt].b=y,e[cnt].nt=p[x],p[x]=cnt;&#125;void dfs(int k)&#123; ans=(ans+((w[k]*w[k])%mod)*w[k]%mod)%mod; s[k]=w[k]; for(int i=p[k];i;i=e[i].nt) &#123; int kk=e[i].b; dfs(kk); ans=(ans+((w[k]*w[k])%mod*s[kk])%mod*2%mod)%mod; s[k]=(s[k]+s[kk])%mod; &#125; for(int i=p[k];i;i=e[i].nt) &#123; int kk=e[i].b; ans=(ans+((w[k]*s[kk])%mod*(s[k]+mod-w[k]-s[kk])%mod)%mod)%mod; &#125; return;&#125;int main()&#123; freopen(\"lcastat.in\",\"r\",stdin); freopen(\"lcastat.out\",\"w\",stdout); scanf(\"%d%d\",&amp;n,&amp;w[1]); for(int i=2;i&lt;=n;i++) &#123; int fa; scanf(\"%d%d\",&amp;fa,&amp;w[i]); add(fa,i); &#125; dfs(1); printf(\"%lld\\n\",ans%mod); return 0;&#125; å››é©±å…„å¼Ÿã€é—®é¢˜æè¿°ã€‘å¦‚æœä½ å’ŒèŒè›‹ä¸€æ ·ï¼Œä¹Ÿçœ‹è¿‡ã€Šå››é©±å…„å¼Ÿã€‹ï¼Œä½ æˆ–è®¸ä¼šè®°å¾—ï¼Œæœ‰ä¸€å±€æ¯”èµ›ååˆ† ç‰¹åˆ«ï¼ŒåªæŒ‰ç…§ 5 ä¸ªäººä¸­çš„ç¬¬ 4 åè®¡ç®—æˆç»©ã€‚ ç°åœ¨æˆ‘ä»¬å°†é—®é¢˜æ‰©å±•ä¸€ä¸‹ï¼šä¸€å…±æœ‰ğ‘›ä¸ªé˜Ÿå‘˜ï¼ŒåªæŒ‰ç…§å…¶ä¸­çš„ç¬¬ğ‘˜åè®¡ç®—æˆ ç»©ã€‚è€Œèµ›è½¦çš„è§„åˆ™ä¹Ÿæœ‰æ‰€ä¸åŒï¼šä¸€å…±æœ‰ğ‘šä¸ªèµ›è½¦ï¼Œæ¯ä¸ªèµ›è½¦è£…é…ç€ 2 ä¸ª GP æ™¶ ç‰‡çš„ç»ˆç«¯ï¼Œä¸”ç¬¬ğ‘–ä¸ªèµ›è½¦é¢„æœŸåˆ°è¾¾ç»ˆç‚¹çš„æ—¶é—´ä¸ºğ‘ğ‘–ã€‚ï¼ˆæ³¨ï¼šä¸åŒèµ›è½¦ä¸Šçš„ç»ˆç«¯å¯ ä»¥å¯¹åº”ç€ç›¸åŒçš„ GP æ™¶ç‰‡ï¼Œä½†ä¸ä¼š 2 ä¸ªéƒ½ç›¸åŒï¼›ä»»ä½•èµ›è½¦ä¸Šçš„ 2 ä¸ªç»ˆç«¯å¯¹åº”çš„ GP æ™¶ç‰‡éƒ½æ˜¯ä¸åŒçš„ï¼‰ æ¯”èµ›å¼€å§‹æ—¶ï¼Œğ‘›ä¸ªé˜Ÿå‘˜ä¾æ¬¡é€‰æ‹©è‡ªå·±çš„èµ›è½¦ã€‚å¯¹äºæ¯ä¸ªé˜Ÿå‘˜ï¼Œä»–å¯ä»¥é€‰æ‹©å¼€ å¯ GP æ™¶ç‰‡åŠŸèƒ½æˆ–ä¸å¼€å¯ã€‚å¦‚æœå¼€å¯ï¼Œé‚£ä¹ˆ 2 ä¸ªç»ˆç«¯å¯¹åº”çš„ GP æ™¶ç‰‡å°±ä¼šå»ºç«‹è¿ æ¥ï¼Œä¸”è¿™ä¸ªèµ›è½¦çš„æ¯”èµ›ç”¨æ—¶å°±æ˜¯é¢„æœŸæ—¶é—´ğ‘ğ‘–ï¼›å¦‚æœä¸å¼€å¯ï¼Œé‚£ä¹ˆ GP æ™¶ç‰‡ä¸ä¼š å»ºç«‹è¿æ¥ï¼Œä½†æ˜¯è¿™ä¸ªèµ›è½¦çš„æ¯”èµ›ç”¨æ—¶å°†ä¼šéå¸¸é•¿ï¼ˆå¯ä»¥è®¤ä¸ºæ˜¯æ— ç©·ï¼‰ã€‚ç”šè‡³ï¼Œä»– å¯ä»¥æ”¾å¼ƒæ¯”èµ›ï¼Œè¿™æ ·ä»–ä¸ä¼šå ç”¨ä»»ä½•èµ›è½¦ï¼Œä½†æ˜¯å½“ç„¶æ¯”èµ›ç”¨æ—¶ä¹Ÿä¼šè¢«è®¤ä¸ºæ˜¯æ—  ç©·ã€‚ ä»»ä½•æ—¶å€™ï¼Œä¸€æ—¦å­˜åœ¨è‹¥å¹²ä¸ªï¼ˆè‡³å°‘ 3 ä¸ªï¼‰æ™¶ç‰‡ A,B,C,â€¦,X æ»¡è¶³ï¼šA ä¸ B å»º ç«‹äº†è¿æ¥ï¼ŒB ä¸ C å»ºç«‹äº†è¿æ¥ï¼Œâ€¦â€¦ï¼ŒX ä¸ A å»ºç«‹äº†è¿æ¥ï¼ˆå³å½¢æˆäº†å¾ªç¯è¿æ¥ çš„æƒ…å†µï¼‰ ï¼Œé‚£ä¹ˆå¤„ç†ç³»ç»Ÿå°±ä¼šå´©æºƒã€‚è¿™æ˜¯éå¸¸å¯æ€•çš„ï¼Œæˆ‘ä»¬å®å¯è®©æ¯”èµ›ç”¨æ—¶å˜ä¸º æ— ç©·ä¹Ÿä¸èƒ½è®©ç³»ç»Ÿå´©æºƒã€‚ ç°åœ¨ç»™å‡ºé˜Ÿå‘˜å’Œèµ›è½¦çš„ä¿¡æ¯ï¼Œè¯·è¾“å‡ºæœ€ä¼˜æƒ…å†µä¸‹çš„æˆç»©ï¼ˆå³ç¬¬ğ‘˜å°çš„æ¯”èµ›æ—¶ é—´çš„æœ€å°å€¼ï¼‰ã€‚ ä¸ºäº†å¢å¤§éš¾åº¦ï¼Œğ‘˜å¹¶ä¸æ˜¯ç»™å‡ºçš„ï¼Œè€Œæ˜¯ä½ éœ€è¦å¯¹äº1 â‰¤ ğ‘˜ â‰¤ ğ‘›çš„æ‰€ æœ‰çš„ğ‘˜è¾“å‡ºç­”æ¡ˆã€‚ ã€è¾“å…¥æ–‡ä»¶ã€‘ç¬¬ä¸€è¡Œä¸ºä¸¤ä¸ªæ•´æ•°ğ‘› ğ‘šã€‚ æ¥ä¸‹æ¥ğ‘šè¡Œï¼Œæ¯è¡Œæè¿°äº†ä¸€ä¸ªèµ›è½¦ï¼Œæ ¼å¼ä¸ºç©ºæ ¼éš”å¼€çš„ä¸€ä¸ªæ•´æ•°å’Œä¸¤ä¸ªå­—ç¬¦ ä¸²ï¼Œåˆ†åˆ«æ˜¯ğ‘ğ‘–å’Œå®ƒçš„ä¸¤ä¸ªç»ˆç«¯å¯¹åº”çš„ GP æ™¶ç‰‡åã€‚ ã€è¾“å‡ºæ–‡ä»¶ã€‘ğ‘›è¡Œï¼Œæ¯è¡Œä¸€ä¸ªæ•´æ•°ï¼Œç¬¬ğ‘–è¡Œè¡¨ç¤ºğ‘– = ğ‘˜æ—¶çš„ç­”æ¡ˆã€‚ç‰¹åˆ«åœ°ï¼Œå¦‚æœç­”æ¡ˆæ˜¯æ— ç©·ï¼Œ è¾“å‡º INFã€‚ ã€è¾“å…¥æ ·ä¾‹ã€‘3 395 GP_1 GP_2100 GP_1 gp@3100 gp@3 GP_2 Solutionæ‰“çš„èˆ’èˆ’æœæœï¼Œæ˜¯å¼€å§‹çœ‹è¿™é“é¢˜çš„æ—¶å€™ï¼Œå°±æ„Ÿè§‰åˆ°äº†è¿™ä¸ªç³»åˆ—èµ›çš„å…¸å‹ç‰¹ç‚¹ï¼Œé¢˜ç›®èƒŒæ™¯æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿï¼Ÿå¼ºè¡Œå››é©±è½¦ä¸€æ³¢â€¦.åæ§½å®Œæ¯•ï¼Œè¿˜æ˜¯æ¯”è¾ƒè£¸çš„ä¸€é“é¢˜ï¼Œéƒ½å·²ç»è¯´äº†æ— ç¯ï¼Œä»¥æˆ‘ç°åœ¨è¿™ä¸ªçŸ¥è¯†æ°´å¹³ä¹Ÿå°±æœ€å°ç”Ÿæˆæ ‘äº†.è¿˜æœ‰ä»€ä¹ˆhash ç¦»æ•£åŒ–çš„ã€‚1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798#include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;algorithm&gt;#include &lt;iostream&gt;#include &lt;vector&gt;#define ULL unsigned long long#define LL long long using namespace std;struct node&#123; ULL a,b; LL w; int gp1,gp2; friend bool operator &lt; (node a,node b)&#123; return a.w&lt;b.w; &#125;&#125;car[100010];char gp[2][100];int fa[100010];ULL c[200010];int findf(int x)&#123; if(fa[x]==x)return fa[x]; else return fa[x]=findf(fa[x]);&#125;void mergef(int x,int y)&#123; int tx=findf(x),ty=findf(y); fa[tx]=ty;&#125;int main()&#123; freopen(\"letsandgo.in\",\"r\",stdin); freopen(\"letsandgo.out\",\"w\",stdout); int n,m; scanf(\"%d%d\",&amp;n,&amp;m); for(int i=1;i&lt;=m;i++) &#123; scanf(\"%lld\",&amp;car[i].w); scanf(\"%s%s\",gp[0],gp[1]); ULL gp1=0,gp2=0; int len=strlen(gp[0]); for(int j=0;j&lt;len;j++)gp1=gp1*255+gp[0][j]; len=strlen(gp[1]); for(int j=0;j&lt;len;j++)gp2=gp2*255+gp[1][j]; c[++c[0]]=gp1; c[++c[0]]=gp2; car[i].a=gp1,car[i].b=gp2; &#125; sort(car+1,car+1+m); sort(c+1,c+c[0]+1); int tot=0; for(int i=1;i&lt;=c[0];i++)if(c[i]!=c[i-1])c[++tot]=c[i]; for(int i=1;i&lt;=m;i++) &#123; ULL x=car[i].a,y=car[i].b; int g1=lower_bound(c+1,c+1+tot,x)-c; int g2=lower_bound(c+1,c+1+tot,y)-c; car[i].gp1=g1,car[i].gp2=g2; &#125; for(int i=1;i&lt;=tot;i++)fa[i]=i; for(int i=1;i&lt;=m&amp;&amp;n&gt;0;i++) &#123; if(findf(car[i].gp1)!=findf(car[i].gp2)) &#123; mergef(car[i].gp1,car[i].gp2); printf(\"%lld\\n\",car[i].w); n--; &#125; &#125; while(n--) &#123; printf(\"INF\\n\"); &#125; //printf(\"%d\",(sizeof(car)+sizeof(fa)+sizeof(c))/1024/1024); return 0;&#125;/*3 3 95 GP_1 GP_2 100 GP_1 gp@3 100 gp@3 GP_2 10 10100 a b165 asd df98 sdg gsfd12 fsa er948 stf th126 sdf hg16 srdy gd546 fgh ty46 dr jgh945 ah ty*/","categories":[],"tags":[{"name":"æ•°å­¦ä¹‹ç¾","slug":"æ•°å­¦ä¹‹ç¾","permalink":"https://dextertyw.github.io/tags/æ•°å­¦ä¹‹ç¾/"},{"name":"æ¨¡æ‹Ÿèµ›","slug":"æ¨¡æ‹Ÿèµ›","permalink":"https://dextertyw.github.io/tags/æ¨¡æ‹Ÿèµ›/"},{"name":"ä¼˜ç§€","slug":"ä¼˜ç§€","permalink":"https://dextertyw.github.io/tags/ä¼˜ç§€/"},{"name":"hash","slug":"hash","permalink":"https://dextertyw.github.io/tags/hash/"},{"name":"æ ‘ä¸Šdfs","slug":"æ ‘ä¸Šdfs","permalink":"https://dextertyw.github.io/tags/æ ‘ä¸Šdfs/"}]},{"title":"noipæ¨¡æ‹Ÿèµ›2017.7.27","slug":"[noipæ¨¡æ‹Ÿèµ›2017.7.27]","date":"2017-07-27T10:40:35.981Z","updated":"2017-07-27T10:48:22.054Z","comments":true,"path":"2017/07/27/[noipæ¨¡æ‹Ÿèµ›2017.7.27]/","link":"","permalink":"https://dextertyw.github.io/2017/07/27/[noipæ¨¡æ‹Ÿèµ›2017.7.27]/","excerpt":"Streaming #5 (NOIP æ¨¡æ‹Ÿèµ› Day 1) é¢˜ç›®åç§° ç  å…å†œ é«˜ç»´ç½‘ç»œ ç›®å½• beads rabit cube å¯æ‰§è¡Œæ–‡ä»¶å beads rabit cube è¾“å…¥æ–‡ä»¶å æ ‡å‡†è¾“å…¥ è¾“å‡ºæ–‡ä»¶å æ ‡å‡†è¾“å‡º æ¯ä¸ªæµ‹è¯•ç‚¹æ—¶é™ 1s 1s 1s å†…å­˜é™åˆ¶ 128M 128M 128M æµ‹è¯•ç‚¹æ•°ç›® 10 10 10 æ¯ä¸ªæµ‹è¯•ç‚¹åˆ†å€¼ 10 10 10 æ˜¯å¦æœ‰éƒ¨åˆ†åˆ† æ—  æ—  æ—  é¢˜ç›®ç±»å‹ ä¼ ç»Ÿ ä¼ ç»Ÿ ä¼ ç»Ÿ","text":"Streaming #5 (NOIP æ¨¡æ‹Ÿèµ› Day 1) é¢˜ç›®åç§° ç  å…å†œ é«˜ç»´ç½‘ç»œ ç›®å½• beads rabit cube å¯æ‰§è¡Œæ–‡ä»¶å beads rabit cube è¾“å…¥æ–‡ä»¶å æ ‡å‡†è¾“å…¥ è¾“å‡ºæ–‡ä»¶å æ ‡å‡†è¾“å‡º æ¯ä¸ªæµ‹è¯•ç‚¹æ—¶é™ 1s 1s 1s å†…å­˜é™åˆ¶ 128M 128M 128M æµ‹è¯•ç‚¹æ•°ç›® 10 10 10 æ¯ä¸ªæµ‹è¯•ç‚¹åˆ†å€¼ 10 10 10 æ˜¯å¦æœ‰éƒ¨åˆ†åˆ† æ—  æ—  æ—  é¢˜ç›®ç±»å‹ ä¼ ç»Ÿ ä¼ ç»Ÿ ä¼ ç»Ÿ ç‰¹åˆ«æç¤ºï¼šè¯„æµ‹åœ¨ Linux ä¸‹è¿›è¡Œï¼ŒC/C++è¯­è¨€å¼€å¯-O2 ä¼˜åŒ–å¼€å…³ï¼ŒPascalè¯­è¨€å¼€å¯-O1 ä¼˜åŒ–å¼€å…³ã€‚ ç ã€é—®é¢˜æè¿°ã€‘èŒè›‹æœ‰ğ‘›é¢—ç å­ï¼Œæ¯ä¸€é¢—ç å­éƒ½å†™æœ‰ä¸€ä¸ªæ•°å­—ã€‚èŒè›‹æŠŠå®ƒä»¬ç”¨çº¿ä¸²æˆäº†ç¯ã€‚ æˆ‘ä»¬ç§°ä¸€ä¸ªæ•°å­—ä¸²æ˜¯æœ‰è¶£çš„ï¼Œå½“ä¸”ä»…å½“å®ƒçš„ç¬¬ 1 ä½æ˜¯ 2ï¼Œä¸”é™¤äº†ç¬¬ 1 ä½ä»¥å¤– çš„æ¯ä¸€ä½éƒ½æ˜¯ 3ã€‚ä¾‹å¦‚ï¼Œ2ï¼Œ233ï¼Œ2333333 éƒ½æ˜¯æœ‰è¶£çš„æ•°å­—ä¸²ã€‚ ç°åœ¨ï¼Œä½ å¯ä»¥ä»è¿™ä¸²ç å­çš„ä»»æ„ä¸€é¢—å¼€å§‹è¯»ï¼Œæ²¿ç€é¡ºæ—¶é’ˆæˆ–é€†æ—¶é’ˆæ–¹å‘ï¼Œåˆ° ä»»æ„ä¸€é¢—ç å­åœæ­¢ã€‚è¿™æ ·ï¼Œä½ å°±å¯ä»¥è¯»å‡ºä¸€ä¸ªæ•°å­—ä¸²æ¥ã€‚ èŒè›‹æƒ³çŸ¥é“ï¼Œæ‰€æœ‰èƒ½è¯»å‡ºçš„æœ‰è¶£çš„æ•°å­—ä¸²å½“ä¸­ï¼Œæœ€é•¿çš„æ˜¯å“ªä¸€ä¸ªæ•°å­—ä¸²ã€‚å½“ ç„¶ï¼Œä½ ä¹Ÿå¯èƒ½è¯»ä¸å‡ºä»»ä½•ä¸€ä¸ªæœ‰è¶£çš„æ•°å­—ä¸²ï¼Œä½ ä¹Ÿéœ€è¦å¯¹è¿™ç§æƒ…å†µåšå‡ºåˆ¤æ–­ã€‚ ã€è¾“å…¥æ–‡ä»¶ã€‘è¾“å…¥åªæœ‰ä¸€è¡Œï¼Œæ˜¯ä¸€ä¸ªæ•°å­—ä¸²ã€‚è¿™æ˜¯ä»è¿™ä¸²ç å­çš„æŸä¸€é¢—å¼€å§‹ï¼Œé¡ºæ—¶é’ˆè¯»å– æ°å¥½ä¸€åœˆå¾—åˆ°çš„ã€‚ ã€è¾“å‡ºæ–‡ä»¶ã€‘ è¾“å‡ºåªæœ‰ä¸€è¡Œï¼Œæ˜¯èƒ½è¯»å‡ºçš„æœ€é•¿æœ‰è¶£çš„æ•°å­—ä¸²ã€‚ç‰¹æ®Šåœ°ï¼Œå¦‚æœæ‰¾ä¸åˆ°ä»»ä½•æœ‰ è¶£çš„æ•°å­—ä¸²ï¼Œåº”è¾“å‡ºâ€œTvTâ€ï¼ˆä¸å«å¼•å·ï¼‰ã€‚ ã€è¾“å…¥æ ·ä¾‹ 1ã€‘323 ã€è¾“å‡ºæ ·ä¾‹ 1ã€‘233 ã€è¾“å…¥æ ·ä¾‹ 2ã€‘333 ã€è¾“å‡ºæ ·ä¾‹ 2ã€‘TvT ã€æ•°æ®è§„æ¨¡å’Œçº¦å®šã€‘å¯¹äº20%çš„æ•°æ®ï¼Œğ‘› â‰¤ 3ã€‚å¯¹äº 40%çš„æ•°æ®ï¼Œğ‘› â‰¤ 100ã€‚å¯¹äº 60%çš„æ•°æ®ï¼Œğ‘› â‰¤ 1,000ã€‚å¦æœ‰ 20%çš„æ•°æ®ï¼Œè¾“å…¥çš„æ•°å­—ä¸²ä¸­ä¸å« 3ã€‚å¯¹äº 100%çš„æ•°æ®ï¼Œğ‘› â‰¤ 100,000ã€‚ Solutionç­¾åˆ°é¢˜ï¼Œä»2å¼€å§‹åˆ†ä¸¤å¤´æ‰«æï¼ŒO(n)ç»“æŸã€‚123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960#include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;algorithm&gt;#include &lt;cmath&gt;#include &lt;iostream&gt;using namespace std;char ch[1000100];int cnt=0,ans=0,pos,flag;int main()&#123; freopen(\"beads.in\",\"r\",stdin); freopen(\"beads.out\",\"w\",stdout); scanf(\"%s\",ch+1); int len=strlen(ch+1); for(int i=1;i&lt;=len;i++)ch[i+len]=ch[i]; for(int i=1;i&lt;=len;i++) &#123; cnt=0; if(ch[i]!='2')continue; cnt++; int j=i+1; while(true) &#123; if(ch[j]=='3')cnt++,j++; else break; &#125; if(cnt&gt;ans)ans=cnt,pos=i,flag=1; &#125; for(int i=len*2;i&gt;len;i--) &#123; cnt=0; if(ch[i]!='2')continue; cnt++; int j=i-1; while(true) &#123; if(ch[j]=='3')cnt++,j--; else break; &#125; if(cnt&gt;ans)ans=cnt,pos=i,flag=2; &#125; if(flag==1)&#123; for(int i=pos;i;i++) &#123; if(i!=pos&amp;&amp;ch[i]!='3')break; else printf(\"%c\",ch[i]); &#125; &#125; if(flag==2)&#123; for(int i=pos;i;i--) &#123; if(i!=pos&amp;&amp;ch[i]!='3')break; else printf(\"%c\",ch[i]); &#125; &#125; if(flag==0)printf(\"TvT\"); return 0;&#125; å…å†œã€é—®é¢˜æè¿°ã€‘ï¼ˆå¦‚æœä½ æƒ³æ›´å¥½åœ°ç†è§£æœ¬é¢˜ï¼Œè¯·å…ˆé˜…è¯» NOI2011 ç¬¬ä¸€è¯•â€œå…”å†œâ€ä¸€é¢˜ï¼‰ èŒè›‹è¿‘å¹´æ”¶å…¥ä¸æ™¯æ°”ï¼Œæ­£åœ¨å¥¹å‘æ„å¦‚ä½•èƒ½å¤šèµšç‚¹é’±æ—¶ï¼Œå¥¹å¬åˆ°éš”å£çš„å°æœ‹å‹ åœ¨è®¨è®ºå…å­ç¹æ®–çš„é—®é¢˜ã€‚ï¼ˆæ³¨ï¼šå…å­æ˜¯ä¸€ç§ç®€å•çš„å•ç»†èƒç”Ÿç‰©ï¼‰ é—®é¢˜æ˜¯è¿™æ ·çš„ï¼šæ—¶åˆ» 0 æœ‰ 2 åªåˆšå‡ºç”Ÿçš„å…å­ã€‚æ¯ä¸€æ—¶åˆ»ï¼Œæ¯åªå…å­éƒ½ä¼šåˆ†è£‚ æˆä¸º 2 åªå…å­ã€‚é—®æ—¶åˆ»ğ‘›å…±æœ‰å¤šå°‘åªå…å­ï¼Ÿ èªæ˜çš„ä½ å¯èƒ½å·²ç»å‘ç°ï¼Œæ—¶åˆ»ğ‘›çš„å…å­æ•°æ­£å¥½æ˜¯ç¬¬ğ‘› + 1ä¸ª 2 çš„å¹‚æ¬¡ã€‚èŒè›‹ä¸ æ‡‚ä»€ä¹ˆå«å¹‚ï¼Œä½†å¥¹ä¹Ÿå‘ç°äº†è§„å¾‹ï¼šæ—¶åˆ»ğ‘› + 1çš„å…å­æ•°ç­‰äºæ—¶åˆ»ğ‘›çš„å…å­æ•°çš„ 2 å€ã€‚ å‰å‡ ä¸ªæ—¶åˆ»ï¼ˆä» 0 å¼€å§‹ï¼‰çš„å…å­æ•°ä¾æ¬¡ä¸ºï¼š 2 4 8 16 32 64 128 256 512 â€¦ èŒè›‹å‘ç°è¶Šåˆ°åé¢å…å­æ•°å¢é•¿çš„è¶Šå¿«ï¼ŒæœŸå¾…å…»å…å­ä¸€å®šèƒ½èµšå¤§é’±ï¼Œäºæ˜¯èŒè›‹ åœ¨æ—¶åˆ» 0 ä¹°äº† 2 åªå…å­å¼€å§‹åŸ¹å…»ã€‚ æ¯å¤©ï¼ŒèŒè›‹éƒ½è¦ç»™å…å­ä»¬æä¾›è¥å…»ã€‚å…å­çš„åŸ¹å…»åŸºéå¸¸ç‰¹åˆ«ï¼Œæ¯ğ‘˜åªå…å­å  æ®ä¸€ä¸ªåŸ¹å…»åŸºï¼Œæœ€åå‰©ä¸‹çš„ä¸è¶³ğ‘˜åªå æ®ä¸€ä¸ªåŸ¹å…»åŸºã€‚ç”±äºå…å­ç‰¹åˆ«å®³æ€•å­¤ç‹¬ï¼Œ å¦‚æœæŸä¸ªåŸ¹å…»åŸºåªæœ‰ 1 åªå…å­ï¼Œè¿™åªå…å­å°±ä¼šå¾ˆå¿«æ­»æ‰ã€‚ ç„¶è€Œï¼Œæ¯ä¸ªæ—¶åˆ»çš„å…å­æ•°ä»ç„¶æ˜¯å¯ä»¥è®¡ç®—çš„ã€‚ä¾‹å¦‚ï¼Œå½“ğ‘˜ = 7æ—¶ï¼Œå‰å‡ ä¸ªæ—¶ åˆ»ï¼ˆä» 0 å¼€å§‹ï¼‰çš„å…å­æ•°ä¾æ¬¡ä¸ºï¼š 2 4 7 14 28 56 112 224 448 â€¦ ç»™å®šğ‘›ï¼Œä½ èƒ½å¸®åŠ©èŒè›‹è®¡ç®—æ—¶åˆ»ğ‘›å¥¹æœ‰å¤šå°‘åªå…å­ä¹ˆï¼Ÿç”±äºç­”æ¡ˆå¯èƒ½éå¸¸å¤§ï¼Œ ä½ åªéœ€è¦å‘Šè¯‰èŒè›‹æ—¶åˆ»ğ‘›çš„å…å­åªæ•°å¯¹ğ‘çš„ä½™æ•°å³å¯ã€‚ ã€è¾“å…¥æ–‡ä»¶ã€‘ è¾“å…¥åªæœ‰ä¸€è¡Œï¼ŒåŒ…å«ä¸‰ä¸ªæ•´æ•°ğ‘› ğ‘˜ ğ‘ã€‚ ã€è¾“å‡ºæ–‡ä»¶ã€‘ è¾“å‡ºåªæœ‰ä¸€è¡Œï¼Œä¸ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ—¶åˆ»ğ‘›çš„å…å­åªæ•°å¯¹ğ‘çš„ä½™æ•°ã€‚ ã€è¾“å…¥æ ·ä¾‹ã€‘6 7 10086 ã€è¾“å‡ºæ ·ä¾‹ã€‘112 ã€æ•°æ®è§„æ¨¡å’Œçº¦å®šã€‘å¯¹äº 30%çš„æ•°æ®ï¼Œğ‘› â‰¤ 1,000,000ã€‚å¦æœ‰ 30%çš„æ•°æ®ï¼Œğ‘˜æ˜¯ğ‘çš„æ­£æ•´æ•°å€ã€‚å¯¹äº 100%çš„æ•°æ®ï¼Œ ğ‘› â‰¤ 1,000,000,000,2 â‰¤ ğ‘˜ â‰¤ 1,000,000,1 â‰¤ ğ‘ â‰¤ 1,000,000ã€‚ Solutionè¿™é“é¢˜ä¹Ÿå¾ˆå‚»é€¼å§ã€‚md2011nNOIé‚£ä¸€é¢˜ä¸çŸ¥é“æ¯”è¿™é«˜åˆ°å“ªé‡Œå»äº†ï¼Œè¿˜æœ‰åŠ©äºç†è§£ï¼Œè¿·é†‰ã€‚å¾ˆæ˜æ˜¾ç¬¬ä¸€æ¬¡æ­»äº¡ä¹‹åï¼Œå…å­å°±ä¸ä¼šå†æ­»äº†ï¼Œæ‰€ä»¥åªè¦æ±‚å‡ºå…å­ä»€ä¹ˆæ—¶å€™ç¬¬ä¸€æ¬¡æ­»ã€‚åˆå¾ˆæ˜æ˜¾ï¼šè¯æ˜äº†æšä¸¾æ¬¡æ•°ä¸ä¼šè¶…è¿‡kæ¬¡ã€‚1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;algorithm&gt;#include &lt;cstring&gt;#include &lt;cmath&gt;using namespace std;int n,k,p;int Quick_Pow(int x,int y,int mod)&#123; int rtn=1; while(y) &#123; if(y&amp;1)rtn=((1ll)*rtn*x)%mod; x=((1ll)*x*x)%mod; y&gt;&gt;=1; &#125; return rtn;&#125;void Pre_Check()&#123; if(k%2==0)&#123; printf(\"%d\",Quick_Pow(2,n+1,p)); exit(0); &#125;&#125;int main()&#123; freopen(\"rabit.in\",\"r\",stdin); freopen(\"rabit.out\",\"w\",stdout); scanf(\"%d%d%d\",&amp;n,&amp;k,&amp;p); Pre_Check(); int cnt=1,pos=-1; for(int i=0;i&lt;=n;i++)&#123; cnt=(cnt&lt;&lt;1)%k; if(cnt==1)&#123; pos=i; break; &#125; &#125; if(pos&gt;=0)printf(\"%d\",((1ll)*(Quick_Pow(2,pos+1,p)-1+p)%p*Quick_Pow(2,n-pos,p))%p); else printf(\"%d\",Quick_Pow(2,n+1,p)); return 0;&#125;/*printf(\"%d\",((1ll)**Quick_Pow(2,n-i,p))%p);1000000000 1000009 1000007*/ é«˜ç»´ç½‘ç»œã€é—®é¢˜æè¿°ã€‘ç°åœ¨æœ‰ä¸€ä¸ªğ‘‘ç»´çš„åæ ‡ç½‘æ ¼ï¼Œå…¶ä¸­ç¬¬ğ‘–ç»´åæ ‡çš„èŒƒå›´æ˜¯[0,ğ‘ğ‘–]ã€‚ åœ¨è¿™ä¸ªèŒƒå›´å†…å»ºç«‹ä¸€ä¸ªæœ‰å‘å›¾ï¼šæˆ‘ä»¬æŠŠèŒƒå›´å†…çš„æ¯ä¸ªæ•´ç‚¹ï¼ˆæ¯ä¸€ç»´åæ ‡å‡ä¸º æ•´æ•°çš„ç‚¹ï¼‰å½“åšå›¾ä¸Šçš„é¡¶ç‚¹ã€‚è®¾ç‚¹ğ´(0,0,â‹¯,0),ğµ(ğ‘1,ğ‘2,â‹¯,ğ‘ğ‘‘)ã€‚ å¯¹äºèŒƒå›´å†…çš„ç‚¹(ğ‘¥1,ğ‘¥2,â‹¯,ğ‘¥ğ‘‘)ï¼Œå®ƒä¼šå‘ä»¥ä¸‹è¿™äº›ç‚¹ï¼ˆå¦‚æœç›®æ ‡ç‚¹åœ¨èŒƒå›´å†…ï¼‰ï¼š (ğ‘¥1 + 1,ğ‘¥2,â‹¯,ğ‘¥ğ‘‘),(ğ‘¥1,ğ‘¥2 + 1,â‹¯,ğ‘¥ğ‘‘),â‹¯,(ğ‘¥1,ğ‘¥2,â‹¯,ğ‘¥ğ‘‘ + 1)è¿æœ‰å‘è¾¹ã€‚ ç°åœ¨ä»ç‚¹ğ´åˆ°ç‚¹ğµä¼šæœ‰è‹¥å¹²æ¡è·¯å¾„ï¼Œè·¯å¾„çš„æ¡æ•°å¯ä»¥ååˆ†ç®€å•åœ°ç®—å‡ºã€‚ç„¶è€Œ ä¸å¹¸çš„æ˜¯ï¼ŒèŒƒå›´å†…æœ‰ğ‘ä¸ªç‚¹è¢«ç ´åäº†ï¼ˆç‚¹ğ´å’Œç‚¹ğµä¸ä¼šè¢«ç ´åï¼‰ï¼Œå…¶ä¸­ç¬¬ğ‘–ä¸ªç‚¹çš„å æ ‡ä¸º(ğ‘¥ğ‘–,1,ğ‘¥ğ‘–,2,â‹¯,ğ‘¥ğ‘–,ğ‘‘)ã€‚ä½ éœ€è¦ç®—å‡ºä»ç‚¹ğ´åˆ°ç‚¹Bå‰©ä½™çš„è·¯å¾„æ¡æ•°ã€‚ ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œä½ åªéœ€è¦è¾“å‡ºå®ƒå¯¹1,000,000,007å–æ¨¡çš„ç»“æœã€‚ ã€è¾“å…¥æ–‡ä»¶ã€‘ç¬¬ä¸€è¡Œä¸ºä¸¤ä¸ªæ•´æ•°ğ‘‘ ğ‘ã€‚ ç¬¬äºŒè¡Œä¸ºğ‘‘ä¸ªæ•´æ•°ï¼Œå…¶ä¸­ç¬¬ğ‘–ä¸ªæ•°æ˜¯ğ‘ğ‘–ã€‚ æ¥ä¸‹æ¥ğ‘è¡Œï¼Œæ¯è¡Œğ‘‘ä¸ªæ•´æ•°ï¼Œå…¶ä¸­ç¬¬ğ‘–è¡Œç¬¬ğ‘—ä¸ªæ•°æ˜¯ğ‘¥ğ‘–,ğ‘—ã€‚ ã€è¾“å‡ºæ–‡ä»¶ã€‘ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºä»ç‚¹ğ´åˆ°ç‚¹ğµå‰©ä½™çš„è·¯å¾„æ¡æ•°å¯¹1,000,000,007å–æ¨¡çš„ç»“æœã€‚ ã€è¾“å…¥æ ·ä¾‹ã€‘2 12 11 0ã€è¾“å‡ºæ ·ä¾‹ã€‘1 ã€æ ·ä¾‹è§£é‡Šã€‘å¦‚å›¾æ‰€ç¤ºï¼Œå½“åˆ æ‰ç‚¹(1,0)åï¼Œä»ç‚¹ğ´åˆ°ç‚¹ğµçš„ 3 æ¡è·¯å¾„åªå‰©ä¸‹äº† 1 æ¡ã€‚ ã€æ•°æ®è§„æ¨¡å’Œçº¦å®šã€‘ Solutionè¿™é“é¢˜è¿˜æ˜¯ä¸€é“å¥½é¢˜ï¼Œæš´åŠ›æ‹¿äº†60ï¼Œä¹Ÿåªèƒ½æ‹¿å…­åã€‚é¦–å…ˆæˆ‘ä»¬å¯ä»¥è€ƒè™‘å¦‚æœæ²¡æœ‰é™åˆ¶ç‚¹çš„å­˜åœ¨ã€‚ä¹Ÿå°±æ˜¯è¯´æ¯ä¸ªç»´çš„çŠ¶æ€ä»0åˆ°aiæœ‰å¤šå°‘ç§æ–¹æ¡ˆã€‚è¿ç”¨ä¸€äº›ç»„åˆæ•°å­¦çš„çŸ¥è¯†å¯ä»¥çŸ¥é“ï¼ˆç„¶è€Œæˆ‘å¹¶ä¸ä¼šè¯æ˜ï¼‰ï¼šå¯¹äºæ•´é“é¢˜æˆ‘ä»¬å†æ¥ä½¿ç”¨dpï¼Œè®°dp[i]æ¥è¡¨ç¤ºä»èµ·ç‚¹(0,0)èµ°åˆ°ç¬¬iä¸ªé™åˆ¶ç‚¹çš„åˆæ³•æ–¹æ¡ˆæ•°ï¼Œå¦‚æœåˆ°è¾¾äº†ié‚£ä¹ˆåé¢çš„æ‰€æœ‰è·¯å¾„å‡ä¸åˆæ³•ç›´æ¥è¿ç”¨æˆ‘ä»¬ä¸Šé¢æ¨çš„ç®—æ³•å°±å¯ä»¥å¾—åˆ°æ–¹æ¡ˆæ•°,ç”¨Aåˆ°Bçš„æ€»æ–¹æ¡ˆæ•°å‡å»ä¸¤è€…çš„ä¹˜ç§¯å³å¯ã€‚é‚£ä¹ˆæˆ‘ä»¬æ³¨æ„åˆ°è¿™ç§æ–¹æ³•å¯ä»¥å¯¹æ‰€æœ‰æƒ…å†µè¿›è¡Œå¤„ç†ï¼Œå…³é”®åœ¨äºæˆ‘ä»¬å¦‚ä½•å¾—åˆ°dp[i]çš„å€¼ï¼Œé‚£ä¹ˆå…¶å®å·²ç»è¯´çš„å¾ˆæ˜¾ç„¶äº†ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠiå½“æˆç»ˆç‚¹è¿›è¡Œåˆ†æ²»ï¼Œæ‰€æœ‰åœ¨å…¶å·¦ä¸‹æ–¹çš„ç‚¹éƒ½è¦è¢«ç»Ÿè®¡ä»¥ä¸Šã€‚12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879#include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;cmath&gt;#include &lt;algorithm&gt;#include &lt;iostream&gt;#define LL long long#define mod 1000000007using namespace std;int d,p[510][510],P;LL fac[10000007],inv[100007],a[110],dp[10000007]; LL Quick_Pow(LL x,LL y)&#123; LL rtn=1; while(y) &#123; if(y&amp;1)rtn=(rtn*x)%mod; x=(x*x)%mod; y&gt;&gt;=1; &#125; return rtn;&#125;void Pre()&#123; fac[0]=1;inv[0]=1; for(int i=1;i&lt;=10000007;i++) fac[i]=(fac[i-1]*i)%mod; for(int i=1;i&lt;=100007;i++) inv[i]=Quick_Pow(fac[i],mod-2);&#125;LL Count(int x,int y)&#123; LL rtn=1,sum=0; for(int i=1;i&lt;=d;i++) &#123; int dx=p[y][i]-p[x][i]; if(dx&lt;0)return -1; sum+=dx,rtn=(rtn*inv[dx])%mod; &#125; rtn=(rtn*fac[sum])%mod; return rtn;&#125; LL dfs(int pos)&#123; LL rtn=0; if(dp[pos]!=-1)return dp[pos]; rtn+=Count(0,pos); for(int i=1;i&lt;=P+1;i++)if(pos!=i) &#123; LL c=Count(i,pos); if(c==-1)continue; rtn=(rtn+mod-dfs(i)*c%mod)%mod; &#125; return dp[pos]=rtn;&#125;int main()&#123; //freopen(\"cube.in\",\"r\",stdin); //freopen(\"cube.out\",\"w\",stdout); scanf(\"%d%d\",&amp;d,&amp;P); for(int i=1;i&lt;=d;i++)scanf(\"%d\",&amp;a[i]); for(int i=1;i&lt;=P;i++)for(int j=1;j&lt;=d;j++) scanf(\"%d\",&amp;p[i][j]); Pre(); for(int i=1;i&lt;=d;i++) p[0][i]=0,p[P+1][i]=a[i]; memset(dp,-1,sizeof(dp)); printf(\"%lld\",dfs(P+1)); return 0;&#125;/*2 1 2 1 1 0 */","categories":[],"tags":[{"name":"æ•°å­¦ä¹‹ç¾","slug":"æ•°å­¦ä¹‹ç¾","permalink":"https://dextertyw.github.io/tags/æ•°å­¦ä¹‹ç¾/"},{"name":"æ¨¡æ‹Ÿèµ›","slug":"æ¨¡æ‹Ÿèµ›","permalink":"https://dextertyw.github.io/tags/æ¨¡æ‹Ÿèµ›/"},{"name":"ä¼˜ç§€","slug":"ä¼˜ç§€","permalink":"https://dextertyw.github.io/tags/ä¼˜ç§€/"},{"name":"ä¼˜ç§€dp","slug":"ä¼˜ç§€dp","permalink":"https://dextertyw.github.io/tags/ä¼˜ç§€dp/"}]},{"title":"CDQå­¦ä¹ ç¬”è®°","slug":"CDQåˆ†æ²»å­¦ä¹ ç¬”è®°","date":"2017-07-25T14:19:51.909Z","updated":"2017-07-25T14:53:32.017Z","comments":true,"path":"2017/07/25/CDQåˆ†æ²»å­¦ä¹ ç¬”è®°/","link":"","permalink":"https://dextertyw.github.io/2017/07/25/CDQåˆ†æ²»å­¦ä¹ ç¬”è®°/","excerpt":"CDQ åˆ†æ²»å­¦ä¹ ç¬”è®°å­¦ä¹ çš„ç›®çš„åœ¨ä»»ä½•ä¸€ä¸ªOIerçš„èŒä¸šç”Ÿæ¶¯ä¸­ï¼Œéƒ½ä¼šç¢°åˆ°ä¸€äº›ç¹ççš„æ•°æ®ç»“æ„é¢˜ï¼Œè€Œç°åœ¨çš„çœé€‰æœ‰åŸºæœ¬æ˜¯æ•°æ®ç»“æ„å¤§æˆ˜ï¼Œå¯è§æ•°æ®ç»“æ„çš„é‡è¦æ€§ï¼Œä½†æ˜¯å’Œæˆ‘è¯´çš„CDQæœ‰ä»€ä¹ˆå…³ç³»QAQï¼Ÿï¼Ÿï¼Ÿæ•°æ®ç»“æ„å†™èµ·æ¥ï¼ŒåŸºæœ¬ä¸Šå°±å‘µå‘µäº†ï¼ŒåŠ¨ä¸åŠ¨ä¸¤ä¸‰ç™¾è¡Œçš„ä»£ç ï¼Œè°ƒè¯•æ—¶åŸºæœ¬ä¸‡å¿µä¿±ç°ã€‚ã€‚ã€‚ï¼ˆå¯èƒ½æ˜¯æˆ‘æ¯”è¾ƒèœQAQï¼‰è¿™ä¸ªæ—¶å€™CDQçš„ç”¨å¤„å°±å¾ˆæ˜æ˜¾çš„ï¼Œå†™èµ·æ¥ç®€å•ï¼Œå†™èµ·æ¥ç®€å•ï¼Œå†™èµ·æ¥ç®€å•ï¼ï¼ï¼","text":"CDQ åˆ†æ²»å­¦ä¹ ç¬”è®°å­¦ä¹ çš„ç›®çš„åœ¨ä»»ä½•ä¸€ä¸ªOIerçš„èŒä¸šç”Ÿæ¶¯ä¸­ï¼Œéƒ½ä¼šç¢°åˆ°ä¸€äº›ç¹ççš„æ•°æ®ç»“æ„é¢˜ï¼Œè€Œç°åœ¨çš„çœé€‰æœ‰åŸºæœ¬æ˜¯æ•°æ®ç»“æ„å¤§æˆ˜ï¼Œå¯è§æ•°æ®ç»“æ„çš„é‡è¦æ€§ï¼Œä½†æ˜¯å’Œæˆ‘è¯´çš„CDQæœ‰ä»€ä¹ˆå…³ç³»QAQï¼Ÿï¼Ÿï¼Ÿæ•°æ®ç»“æ„å†™èµ·æ¥ï¼ŒåŸºæœ¬ä¸Šå°±å‘µå‘µäº†ï¼ŒåŠ¨ä¸åŠ¨ä¸¤ä¸‰ç™¾è¡Œçš„ä»£ç ï¼Œè°ƒè¯•æ—¶åŸºæœ¬ä¸‡å¿µä¿±ç°ã€‚ã€‚ã€‚ï¼ˆå¯èƒ½æ˜¯æˆ‘æ¯”è¾ƒèœQAQï¼‰è¿™ä¸ªæ—¶å€™CDQçš„ç”¨å¤„å°±å¾ˆæ˜æ˜¾çš„ï¼Œå†™èµ·æ¥ç®€å•ï¼Œå†™èµ·æ¥ç®€å•ï¼Œå†™èµ·æ¥ç®€å•ï¼ï¼ï¼ ç®—æ³•è¦æ±‚ä¸ä½¿ç”¨å¤§å‰æ:CDQä¸€å®šæ˜¯å¤„ç†ç¦»çº¿ç®—æ³•ï¼Œå¦‚æœå¼ºåˆ¶åœ¨çº¿ï¼Œè¿˜æ˜¯è¦ä¹ˆæš´åŠ›ï¼Œè¦ä¹ˆåˆšæ•°æ®ç»“æ„ã€‚ ä½¿ç”¨ï¼š1.åŒºé—´ç»´æŠ¤ä»€ä¹ˆçš„å°±ä¹±æäº†ï¼Œå…¶å®ä¹Ÿç”¨ä¸åˆ°CDQï¼Œä½†æˆ‘ä»¬è¦æ¸…æ¥šï¼ŒåŒºé—´ç»´æŠ¤å…¶å®å°±æ˜¯ç»´æŠ¤ä¸€ä¸ªäºŒç»´ååºï¼Œå…·ä½“åšæ³•æˆ‘ä»¬ç¨åå†è¯´ã€‚2.CDQçš„çœŸæ­£ç”¨å¤„åœ¨äºç»´æŠ¤ä¸€ä¸ªä¸‰ç»´ååºï¼Œä¸€èˆ¬çš„åšæ³•æ˜¯å¥—ç”¨ä¸€ä¸ªæ ‘çŠ¶æ•°ç»„ç»´æŠ¤ç¬¬ä¸‰ç»´ã€‚ä¸‰ç»´ååºçš„ç†è§£ï¼Œä¸¾ä¸ªä¾‹å­ç»™ä½ å¾ˆå¤šä¸‰ç»´åæ ‡å¦‚(a,b,c),å¸Œæœ›ä½ æ±‚åæ ‡æ»¡è¶³:a&lt;x&amp;&amp;b&lt;y&amp;&amp;c&lt;zçš„ç‚¹çš„ä¸ªæ•°æœ‰å¤šå°‘ä¸ªï¼› å…·ä½“å®ç°å¾ˆå¤šå‰è¾ˆéƒ½è¯´CDQçš„å†™æ³•ä¸å½’å¹¶æ’åºè¶…çº§åƒï¼Œå…¶å®ä¹ŸçœŸçš„æ˜¯è¶…çº§åƒã€‚å…ˆè¯´ä¸€ä¸‹äºŒç»´çš„å®ç°ï¼šå¦‚æœç»™ä½ ä¸€ä¸ªåŒºé—´ï¼Œæœ‰å¾ˆå¤šç‚¹æƒå€¼ï¼Œæ”¯æŒå•ç‚¹ä¿®æ”¹å’ŒåŒºé—´æŸ¥è¯¢ã€‚å…¶å®æ ‘çŠ¶æ•°ç»„ä¹±ç§’ï¼Œè€ƒè™‘CDQæ€ä¹ˆåšã€‚å¯¹äºæ¯ä¸ªæ“ä½œæˆ‘ä»¬å¿…é¡»è¦ç»´æŠ¤ä¸€ä¸ªæ—¶é—´åºï¼Œå¦åˆ™ä¼šä¹±å¥—ã€‚é‚£ä¹ˆè€ƒè™‘è¿™ä¹ˆä¸€ä¸ªäº‹å®ï¼Œæ¯æ¬¡ä¿®æ”¹æ“ä½œä¸€å®šæ˜¯å¯¹åé¢å‘ç”Ÿçš„è¯¢é—®æœ‰å½±å“ï¼Œè€Œæˆ‘ä»¬å·²ç»å°†æ“ä½œä»¬æŒ‰ç…§æ—¶é—´æ’äº†åºï¼Œåˆ†æ²»çš„æ¨¡å‹å¯èƒ½å°±å‡ºæ¥äº†å§QAQã€‚æˆ‘ä»¬é€’å½’æšä¸¾å·¦åŒºé—´å’Œå³åŒºé—´ï¼Œåªæ˜¯åœ¨åˆå¹¶å‰è¦å¤šä¸€æ­¥ï¼Œè€ƒè™‘å·¦åŒºé—´ä¸­å…ƒç´ å¯¹å³åŒºé—´çš„å½±å“ï¼šè®°æ“ä½œçš„åŒºé—´çš„å·¦ç«¯ç‚¹æ˜¯xï¼Œå³ç«¯ç‚¹æ˜¯y;é‚£ä¹ˆæ»¡è¶³ q[i].x&lt;q[j].xéƒ½ä¼šå¯¹æŸ¥è¯¢æœ‰å½±å“ï¼Œæ³¨æ„æˆ‘ä»¬æŸ¥è¯¢çš„æ˜¯ä¸¤ä¸ªå‰ç¼€å’Œï¼šsum[x-1],sum[y];é‚£ä¹ˆæˆ‘ä»¬å¾ˆæ¸…æ¥šæŸ¥è¯¢åˆ°x-1æ—¶ï¼Œå¯¹è¿™æ¬¡åŒºé—´è¯¢é—®çš„ç­”æ¡ˆåº”è¯¥æ˜¯å‡å»sum[x-1]çš„ï¼Œè€Œåˆ°yæ—¶ï¼Œä¾¿æ˜¯åŠ ä¸Šsum[y]ã€‚å¥½äº†å¯ä»¥æ€»ç»“ä¸€ä¸‹ï¼ŒCDQçš„åŸºæœ¬æ€è·¯å°±æ˜¯ä¿è¯å·¦åŒºé—´ä¸å³åŒºé—´çš„ä¿®æ”¹å’ŒæŸ¥è¯¢ç‹¬ç«‹åè°ƒåï¼Œå¤„ç†å·¦åŒºé—´å¯¹å³åŒºé—´çš„å½±å“ã€‚å¦‚æœå·¦åŒºé—´çš„æ‰€æœ‰å…ƒç´ éƒ½ä¸æ»¡è¶³äºä¿®æ”¹æ¡ä»¶ï¼ˆè§ä¸Šï¼‰ï¼Œé‚£ä¹ˆè¯´æ˜å³åŒºé—´çš„æŸ¥è¯¢éƒ¨åˆ†æ˜¯ä¸å—é™åˆ¶çš„ï¼Œå¯ä»¥ç›´æ¥æ›´æ–°ç­”æ¡ˆã€‚å¥½äº†å·®ä¸å¤šå°±è¿™æ ·äº†ï¼Œå¦‚æœè¿˜æ˜¯ä¸æ¸…æ¥šçš„è¯ï¼Œå¯ä»¥åœ¨çœ‹å‡ ç¯‡åšå®¢ï¼ŒçŸ¥è¯†ç‚¹ä¸å¯èƒ½çœ‹ä¸€ç¯‡æ–‡ç« å°±èƒ½å­¦ä¼šçš„ã€‚ ä¸‰ç»´ååºä¸‰ç»´ååºå…¶å®æ˜¯å¯¹äºŒä½ååºçš„æ‹“å±•ã€‚æˆ‘ä»¬å¯ä»¥ä¿è¯é»˜è®¤åºæ—¶é—´åºæ˜¯æœ‰åºçš„ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½ä¿è¯ç¬¬äºŒç»´åœ¨ç»´æŠ¤çš„æ—¶å€™å¯ä»¥æœ‰åºï¼Œä½†æ˜¯ç¬¬ä¸‰ç»´æˆ‘ä»¬åªèƒ½æ”¾å¼ƒï¼Œå¦åˆ™ä¼šå†²çªã€‚è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥å€ŸåŠ©ä¸€ä¸ªç®€å•çš„æ•°æ®ç»“æ„ï¼Œæ¯”å¦‚è¯´æ ‘çŠ¶æ•°ç»„æ¥ç»´æŠ¤ã€‚ å…ˆæ”¾ä¸€é“å…¥é—¨é¢˜æ¯”æ¨¡æ¿é¢˜å¤šä¸€ç‚¹ç‚¹æ“ä½œåœ¨äºåªç”¨å®¹æ–¥æŠŠæŸ¥è¯¢ç¨å¾®è½¬åŒ–ä¸€ä¸‹å°±è¡Œäº†å› ä¸ºæœ‰äº›æŸ¥è¯¢æ˜¯å¯¹ç­”æ¡ˆæœ‰åˆ©ï¼Œæœ‰äº›ä¸æ˜¯ï¼Œæ‰€ä»¥å®šä¹‰çš„æ—¶å€™å¯ä»¥åº”å…¥ä¸€ä¸ªwå˜é‡=1||-1æ¥è®°å½•çŠ¶æ€ã€‚è´´ä¸€æ³¢åŒç»„å†™çš„é¢˜è§£ ä¼ é€é—¨123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100#include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;cstdlib&gt;#include &lt;algorithm&gt;#define lowbit(x) (x&amp;(-x))using namespace std;int s,w,sz[2000100];struct node&#123; int type,x,y,num,w; node(int _type=0,int _x=0,int _y=0,int _num=0,int _w=0)&#123; type=_type,x=_x,y=_y,num=_num,w=_w; &#125; friend bool operator &lt;= (node a,node b)&#123; return a.x&lt;=b.x; &#125;&#125;q[500500],tmp[2000100];int cnt,tot,ans[100010];void update(int x,int y)&#123; for(int i=x;i&lt;=w;i+=lowbit(i)) sz[i]+=y;&#125;int query(int x)&#123; int rtn=0; for(int i=x;i;i-=lowbit(i)) rtn+=sz[i]; return rtn;&#125;void CDQ(int l,int r)&#123; if(l==r)return; int mid=(l+r)&gt;&gt;1; CDQ(l,mid),CDQ(mid+1,r); int i=l,j=mid+1,o=0; while(i&lt;=mid&amp;&amp;j&lt;=r) &#123; if(q[i]&lt;=q[j]) &#123; if(q[i].type==1) update(q[i].y,q[i].w); tmp[o++]=q[i++]; &#125; else &#123; if(q[j].type==2) ans[q[j].num]+=query(q[j].y)*q[j].w; tmp[o++]=q[j++]; &#125; &#125; while(i&lt;=mid) &#123; if(q[i].type==1)update(q[i].y,q[i].w); tmp[o++]=q[i++]; &#125; while(j&lt;=r) &#123; if(q[j].type==2)ans[q[j].num]+=query(q[j].y)*q[j].w; tmp[o++]=q[j++]; &#125; for(int i=l;i&lt;=mid;i++) if(q[i].type==1)update(q[i].y,-q[i].w); for(int i=0;i&lt;o;i++) q[i+l]=tmp[i];&#125;int main()&#123; scanf(\"%d%d\",&amp;s,&amp;w); while(true) &#123; int x,y,x1,y1,w; int opt;scanf(\"%d\",&amp;opt); if(opt==3)break; if(opt==1)&#123; scanf(\"%d%d%d\",&amp;x,&amp;y,&amp;w); q[++cnt]=node(1,x,y,0,w); &#125; if(opt==2)&#123; scanf(\"%d%d%d%d\",&amp;x,&amp;y,&amp;x1,&amp;y1); q[++cnt]=node(2,x-1,y-1,++tot,1); q[++cnt]=node(2,x1,y1,tot,1); q[++cnt]=node(2,x-1,y1,tot,-1); q[++cnt]=node(2,x1,y-1,tot,-1); ans[tot]+=s*(x1-x+1)*(y1-y+1); &#125; &#125; CDQ(1,cnt); for(int i=1;i&lt;=tot;i++)printf(\"%d\\n\",ans[i]); return 0;&#125; /*0 21 1 1 12 1 1 1 13 */","categories":[],"tags":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://dextertyw.github.io/tags/å­¦ä¹ ç¬”è®°/"},{"name":"CDQ","slug":"CDQ","permalink":"https://dextertyw.github.io/tags/CDQ/"}]},{"title":"noipæ¨¡æ‹Ÿèµ›2017.7.25","slug":"[noipæ¨¡æ‹Ÿèµ›2017.7.25]","date":"2017-07-25T06:42:14.823Z","updated":"2017-07-25T07:21:29.999Z","comments":true,"path":"2017/07/25/[noipæ¨¡æ‹Ÿèµ›2017.7.25]/","link":"","permalink":"https://dextertyw.github.io/2017/07/25/[noipæ¨¡æ‹Ÿèµ›2017.7.25]/","excerpt":"Thinking Bear #1â€”â€”NOIP 2014 æé«˜ç»„æ¨¡æ‹Ÿèµ›ç«èµ›æ—¶é—´ï¼š2014 å¹´ 8 æœˆ 17 æ—¥ 18:30ï¼22:00 ä¸­æ–‡é¢˜ç›®åç§° æ‹†åœ°æ¯¯ è¿˜æ•™å®¤ çš‡åæ¸¸æˆ è‹±æ–‡é¢˜ç›®åç§° carpet classroom game æ¯ä¸ªæµ‹è¯•ç‚¹æ—¶é™ 1 ç§’ 1 ç§’ 1 ç§’ å†…å­˜é™åˆ¶ 512MB 512MB 512MB æµ‹è¯•ç‚¹æ•°ç›® 10 20 20 æ¯ä¸ªæµ‹è¯•ç‚¹åˆ†å€¼ 10 5 5 æ˜¯å¦æœ‰éƒ¨åˆ†åˆ† å¦ å¦ å¦ é¢˜ç›®ç±»å‹ ä¼ ç»Ÿå‹ ä¼ ç»Ÿå‹ ä¼ ç»Ÿå‹","text":"Thinking Bear #1â€”â€”NOIP 2014 æé«˜ç»„æ¨¡æ‹Ÿèµ›ç«èµ›æ—¶é—´ï¼š2014 å¹´ 8 æœˆ 17 æ—¥ 18:30ï¼22:00 ä¸­æ–‡é¢˜ç›®åç§° æ‹†åœ°æ¯¯ è¿˜æ•™å®¤ çš‡åæ¸¸æˆ è‹±æ–‡é¢˜ç›®åç§° carpet classroom game æ¯ä¸ªæµ‹è¯•ç‚¹æ—¶é™ 1 ç§’ 1 ç§’ 1 ç§’ å†…å­˜é™åˆ¶ 512MB 512MB 512MB æµ‹è¯•ç‚¹æ•°ç›® 10 20 20 æ¯ä¸ªæµ‹è¯•ç‚¹åˆ†å€¼ 10 5 5 æ˜¯å¦æœ‰éƒ¨åˆ†åˆ† å¦ å¦ å¦ é¢˜ç›®ç±»å‹ ä¼ ç»Ÿå‹ ä¼ ç»Ÿå‹ ä¼ ç»Ÿå‹ æ³¨æ„ï¼šæœ€ç»ˆæµ‹è¯•æ—¶ï¼Œå°†å¼€å¯-O2 ä¼˜åŒ–å¼€å…³ã€‚Thinking Bear #1 æ‹†åœ°æ¯¯ã€å¼•å­ã€‘è¿˜è®°å¾— NOIP 2011 æé«˜ç»„ Day1 ä¸­çš„é“ºåœ°æ¯¯å—ï¼Ÿæ—¶å…‰é£é€ï¼Œå…‰é˜´èè‹’ï¼Œä¸‰å¹´ è¿‡å»äº†ã€‚ç»„ç»‡è€…ç²¾å¿ƒå‡†å¤‡çš„é¢å¥–å…¸ç¤¼æ—©å·²ç»“æŸï¼Œç•™ä¸‹çš„åˆ™æ˜¯è¢«äººä»¬è¸©è¿‡çš„åœ°æ¯¯ã€‚ è¯·ä½ æ¥è§£å†³ç±»ä¼¼äºé“ºåœ°æ¯¯çš„å¦ä¸€ä¸ªé—®é¢˜ã€‚ ã€é—®é¢˜æè¿°ã€‘ä¼šåœºä¸Šæœ‰ n ä¸ªå…³é”®åŒºåŸŸï¼Œä¸åŒçš„å…³é”®åŒºåŸŸç”± m æ¡æ— å‘åœ°æ¯¯å½¼æ­¤è¿æ¥ã€‚æ¯æ¡ åœ°æ¯¯å¯ç”±ä¸‰ä¸ªæ•´æ•° uã€vã€w è¡¨ç¤ºï¼Œå…¶ä¸­ u å’Œ v ä¸ºåœ°æ¯¯è¿æ¥çš„ä¸¤ä¸ªå…³é”®åŒºåŸŸç¼–å·ï¼Œ w ä¸ºè¿™æ¡åœ°æ¯¯çš„ç¾ä¸½åº¦ã€‚ ç”±äºé¢å¥–å…¸ç¤¼å·²ç»ç»“æŸï¼Œé“ºè¿‡çš„åœ°æ¯¯ä¸å¾—ä¸æ‹†é™¤ã€‚ä¸º äº†è´¯å½»å‹¤ä¿­èŠ‚çº¦çš„åŸåˆ™ï¼Œ ç»„ç»‡è€…è¢«è¦æ±‚åªèƒ½ä¿ç•™ K æ¡åœ°æ¯¯ï¼Œä¸”ä¿ç•™çš„åœ°æ¯¯æ„æˆçš„å›¾ä¸­ï¼Œä»»æ„å¯äº’ç›¸åˆ°è¾¾ çš„ä¸¤ç‚¹é—´åªèƒ½æœ‰ä¸€ç§æ–¹å¼äº’ç›¸åˆ°è¾¾ã€‚æ¢è¨€ä¹‹ï¼Œç»„ç»‡è€…è¦æ±‚æ–°å›¾ä¸­ä¸èƒ½æœ‰ç¯ã€‚ç°åœ¨ ç»„ç»‡è€…æ±‚åŠ©ä½ ï¼Œæƒ³è¯·ä½ å¸®å¿™ç®—å‡ºè¿™ K æ¡åœ°æ¯¯çš„ç¾ä¸½åº¦ä¹‹å’Œæœ€å¤§ä¸ºå¤šå°‘ã€‚ ã€è¾“å…¥æ ¼å¼ã€‘ç¬¬ä¸€è¡ŒåŒ…å«ä¸‰ä¸ªæ­£æ•´æ•° nã€mã€Kã€‚ æ¥ä¸‹æ¥ m è¡Œä¸­æ¯è¡ŒåŒ…å«ä¸‰ä¸ªæ­£æ•´æ•° uã€vã€wã€‚ ã€è¾“å‡ºæ ¼å¼ã€‘åªåŒ…å«ä¸€ä¸ªæ­£æ•´æ•°ï¼Œè¡¨ç¤ºè¿™ K æ¡åœ°æ¯¯çš„ç¾ä¸½åº¦ä¹‹å’Œçš„æœ€å¤§å€¼ã€‚ ã€æ ·ä¾‹è¾“å…¥ã€‘5 4 31 2 101 3 92 3 74 5 3 ã€æ ·ä¾‹è¾“å‡ºã€‘22 ã€æ ·ä¾‹è¯´æ˜ã€‘é€‰æ‹©ç¬¬ 1ã€2ã€4 æ¡åœ°æ¯¯ï¼Œç¾ä¸½åº¦ä¹‹å’Œä¸º 10 + 9 + 3 = 22ã€‚ è‹¥é€‰æ‹©ç¬¬ 1ã€2ã€3 æ¡åœ°æ¯¯ï¼Œè™½ç„¶ç¾ä¸½åº¦ä¹‹å’Œå¯ä»¥è¾¾åˆ° 10 + 9 + 7 = 26ï¼Œä½†è¿™ å°†å¯¼è‡´å…³é”®åŒºåŸŸ 1ã€2ã€3 æ„æˆä¸€ä¸ªç¯ï¼Œè¿™æ˜¯é¢˜ç›®ä¸­ä¸å…è®¸çš„ã€‚Thinking Bear #1 æ‹†åœ°æ¯¯ç¬¬ 3 é¡µ å…± 8 é¡µ ã€æ•°æ®è§„æ¨¡ä¸çº¦å®šã€‘æ‰€æœ‰æµ‹è¯•ç‚¹çš„æ•°æ®è§„æ¨¡å¦‚ä¸‹ï¼šä¿è¯è‡³ å°‘å­˜åœ¨ä¸€ç§æ–¹æ¡ˆä½¿å¾—åœ¨åŸå›¾ä¸­å¯ä»¥é€‰å‡ºKæ¡è¾¹ï¼Œè¿™Kæ¡è¾¹æ„æˆçš„æ–°å›¾ç¯ã€‚ Solutionå¾ˆè£¸çš„æœ€å¤§ç”Ÿæˆæ ‘ä¿è¯é€‰æ»¡kæ¡è¾¹å°±ä¸ç”¨æ‹…å¿ƒäº†â€¦.1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556#include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;cmath&gt;#include &lt;algorithm&gt;#include &lt;iostream&gt;using namespace std;int n,m,k,fa[100100];struct node&#123; int a,b,w;&#125;e[100100];bool cmp(node a,node b)&#123; return a.w&gt;b.w;&#125;int findf(int x)&#123; if(fa[x]==x)return x; else return fa[x]=findf(fa[x]);&#125;int main()&#123; freopen(\"carpet.in\",\"r\",stdin); freopen(\"carpet.out\",\"w\",stdout); scanf(\"%d%d%d\",&amp;n,&amp;m,&amp;k); for(register int i=1;i&lt;=n;i++)&#123;fa[i]=i;&#125; for(register int i=1;i&lt;=m;i++) scanf(\"%d%d%d\",&amp;e[i].a,&amp;e[i].b,&amp;e[i].w); sort(e+1,e+1+m,cmp); int cc=1,ans=0; while(k) &#123; int from=e[cc].a,to=e[cc].b,w=e[cc].w; int fa_from=findf(from); int fa_to=findf(to); if(fa_from!=fa_to) &#123; ans+=w; fa[fa_from]=fa_to; k--; &#125; cc++; &#125; printf(\"%d\",ans); return 0;&#125; /*5 4 31 2 10 1 3 9 2 3 7 4 5 3 */ Thinking Bear #1 è¿˜æ•™å®¤ã€å¼•å­ã€‘è¿˜è®°å¾— NOIP 2012 æé«˜ç»„ Day2 ä¸­çš„å€Ÿæ•™å®¤å—ï¼Ÿæ—¶å…‰é£é€ï¼Œå…‰é˜´èè‹’ï¼Œä¸¤å¹´ è¿‡å»äº†ï¼Œæ›¾ç»å€Ÿæ•™å®¤çš„åŒå­¦ä»¬çº·çº·å½’è¿˜è‡ªå·±å½“åˆç§Ÿå€Ÿçš„æ•™å®¤ã€‚è¯·ä½ æ¥è§£å†³ç±»ä¼¼äº å€Ÿæ•™å®¤çš„å¦ä¸€ä¸ªé—®é¢˜ã€‚ ã€é—®é¢˜æè¿°ã€‘åœ¨æ¥å—å€Ÿæ•™å®¤è¯·æ±‚çš„ n å¤©ä¸­ï¼Œç¬¬ i å¤©å‰©ä½™çš„æ•™å®¤ä¸º aiä¸ªã€‚ä½œä¸ºå¤§å­¦å€Ÿæ•™å®¤æœ åŠ¡çš„è´Ÿè´£äººï¼Œä½ éœ€è¦å®Œæˆå¦‚ä¸‹ä¸‰ç§æ“ä½œå…± m æ¬¡ï¼š â‘  ç¬¬ l å¤©åˆ°ç¬¬ r å¤©ï¼Œæ¯å¤©è¢«å½’è¿˜ d ä¸ªæ•™å®¤ã€‚ â‘¡ è¯¢é—®ç¬¬ l å¤©åˆ°ç¬¬ r å¤©æ•™å®¤ä¸ªæ•°çš„å¹³å‡æ•°ã€‚ â‘¢ è¯¢é—®ç¬¬ l å¤©åˆ°ç¬¬ r å¤©æ•™å®¤ä¸ªæ•°çš„æ–¹å·®ã€‚ ã€è¾“å…¥æ ¼å¼ã€‘ç¬¬ä¸€è¡ŒåŒ…æ‹¬ä¸¤ä¸ªæ­£æ•´æ•° n å’Œ mï¼Œå…¶ä¸­ n ä¸ºå€Ÿæ•™å®¤çš„å¤©æ•°ï¼Œm ä¸ºæ“ä½œæ¬¡æ•°ã€‚ æ¥ä¸‹æ¥ä¸€è¡Œï¼Œå…± åŒ…å« n ä¸ªæ•´æ•°ï¼Œç¬¬ i ä¸ªæ•´æ•°è¡¨ç¤ºç¬¬ i å¤©å‰©ä½™æ•™å®¤æ•°ç›®ä¸º aiä¸ªã€‚ æ¥ä¸‹æ¥ m è¡Œï¼Œæ¯è¡Œçš„ç¬¬ä¸€ä¸ªæ•´æ•°ä¸ºæ“ä½œç¼–å·ï¼ˆåªèƒ½ä¸º 1 æˆ– 2 æˆ– 3ï¼‰ï¼Œæ¥ä¸‹æ¥ åŒ…å«ä¸¤ä¸ªæ­£æ•´æ•° l å’Œ rï¼Œè‹¥æ“ä½œç¼–å·ä¸º 1ï¼Œåˆ™æ¥ä¸‹æ¥å†åŒ…å«ä¸€ä¸ªæ­£æ•´æ•° dã€‚ ã€è¾“å‡ºæ ¼å¼ã€‘å¯¹äºæ¯ä¸ªæ“ä½œ 2 å’Œæ“ä½œ 3ï¼Œè¾“å‡ºä¸€ä¸ªæ—¢çº¦åˆ†æ•°ï¼ˆåˆ†å­ä¸åˆ†æ¯äº’è´¨ï¼‰è¡¨ç¤ºè¯¢é—® çš„ç­”æ¡ˆï¼ˆè¯¦è§æ ·ä¾‹ï¼‰ã€‚ è‹¥ ç­” æ¡ˆ ä¸º 0 ï¼Œ è¯· è¾“å‡ºâ€œ0/1â€ï¼ˆä¸å«å¼•å·ï¼‰ã€‚ã€æ ·ä¾‹è¾“å…¥ã€‘5 4 1 2 3 4 5 1 1 2 3 2 2 4 3 2 4 3 1 5 ã€æ ·ä¾‹è¾“å‡ºã€‘4/1 2/3 14/25Thinking Bear #1 è¿˜æ•™å®¤ç¬¬ 5 é¡µ å…± 8 é¡µ ã€æ ·ä¾‹è¯´æ˜ã€‘ ã€æ•°å­¦å°è´´å£«ã€‘ ã€æ•°æ®è§„æ¨¡ä¸çº¦å®šã€‘æ‰€æœ‰æµ‹è¯•ç‚¹çš„æ•°æ®è§„æ¨¡å¦‚ä¸‹ï¼š å¯¹äºå…¨éƒ¨æµ‹è¯•æ•°æ®æ»¡è¶³ï¼š1 â‰¤ l â‰¤ r â‰¤ nï¼Œ0 â‰¤ ai â‰¤ 10ï¼Œ1 â‰¤ d â‰¤ 3ï¼Œæ“ä½œ 1 çš„æ•°é‡ ä¸è¶…è¿‡ 10%ã€‚æ³¨æ„ï¼šaiå’Œ d çš„èŒƒå›´å¾ˆå°åŠæ“ä½œ 1 æ•°é‡å¾ˆå°‘çš„åŸå› æ˜¯ä¸ºäº†ä¿è¯ç­”æ¡ˆ çš„åˆ†å­ä¸ä¼šå¾ˆå¤§ï¼Œä»¥é˜²æ­¢ç­”æ¡ˆçš„åˆ†å­æº¢å‡º 64 ä½æ•´æ•°çš„èŒƒå›´ï¼Œè¿™ä¸é¢˜ç›®åšæ³•æ— å…³ã€‚ Solutionå¾ˆè£¸çš„çº¿æ®µæ ‘ï¼Œè¿™äº›é¢˜çš„é¢˜é¢éƒ½å¾ˆè¿·ï¼Œè´¼å°´å°¬çš„èƒŒæ™¯ï¼Œæ—¢ç„¶æ˜¯åˆ†æ•°è¾“å‡ºï¼Œé‚£ä¹ˆæˆ‘ä»¬è‚¯å®šä¸æ˜¯ç›´æ¥å¯¹ç­”æ¡ˆè¿›è¡Œç»´æŠ¤ï¼Œç¬¬ä¸€é—®å¥½è¯´ä»…ç»´æŠ¤ä¸€ä¸ªåŒºé—´å’Œï¼Œè€Œç¬¬äºŒé—®æˆ‘ä»¬å¯ä»¥æ¨æ¨å…¬å¼ï¼šdä»£è¡¨çš„æ˜¯åŒºé—´åŠ å€¼ï¼Œä»£è¡¨çš„æ˜¯åŒºé—´é•¿åº¦è€Œè§‚å¯Ÿåˆ°æˆ‘ä»¬å·²ç»ç»´æŠ¤äº†åŒºé—´çš„æ±‚å’Œï¼Œé‚£ä¹ˆå†ç»´æŠ¤ä¸€ä¸ªå¹³æ–¹å’Œå°±å¯ä»¥äº†QAQ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;algorithm&gt;#include &lt;cstring&gt;#define LL long longusing namespace std;int n,q;struct node&#123; int l,r; LL s1,s2,d;&#125;T[400100];inline int read()&#123; char c=getchar();int rtn=0,f=1; while(c&lt;'0'||c&gt;'9')&#123;if(c=='-')f=-1;c=getchar();&#125; while(c&gt;='0'&amp;&amp;c&lt;='9')&#123;rtn=rtn*10+c-'0';c=getchar();&#125; return rtn*f;&#125;void Build_Tree(int p,int l,int r)&#123; T[p].l=l,T[p].r=r; if(l==r)return; int mid=(l+r)&gt;&gt;1; Build_Tree(p&lt;&lt;1,l,mid); Build_Tree(p&lt;&lt;1|1,mid+1,r);&#125;inline void deal(int p,int c)&#123; int ll=T[p].l,rr=T[p].r; T[p].d+=c; T[p].s2=T[p].s2+(rr-ll+1)*c*c+2*c*T[p].s1; T[p].s1=T[p].s1+(rr-ll+1)*c;&#125;inline void pushdown(int p)&#123; int ls=p&lt;&lt;1,rs=p&lt;&lt;1|1; deal(ls,T[p].d);deal(rs,T[p].d); T[p].d=0;&#125;inline void pushup(int p)&#123; T[p].s1=T[p&lt;&lt;1].s1+T[p&lt;&lt;1|1].s1; T[p].s2=T[p&lt;&lt;1].s2+T[p&lt;&lt;1|1].s2;&#125;void update(int p,int l,int r,int c)&#123; int ll=T[p].l,rr=T[p].r; if(ll==l&amp;&amp;rr==r) &#123; deal(p,c); return; &#125; pushdown(p); int mid=(ll+rr)&gt;&gt;1; if(r&lt;=mid)update(p&lt;&lt;1,l,r,c); else if(l&gt;mid)update(p&lt;&lt;1|1,l,r,c); else&#123; update(p&lt;&lt;1,l,mid,c); update(p&lt;&lt;1|1,mid+1,r,c); &#125; pushup(p);&#125;LL query_aven(int p,int l,int r)&#123; int ll=T[p].l,rr=T[p].r; if(ll==l&amp;&amp;rr==r)return T[p].s1; pushdown(p); int mid=(ll+rr)&gt;&gt;1; if(r&lt;=mid)return query_aven(p&lt;&lt;1,l,r); else if(l&gt;mid)return query_aven(p&lt;&lt;1|1,l,r); else&#123; return query_aven(p&lt;&lt;1,l,mid)+ query_aven(p&lt;&lt;1|1,mid+1,r); &#125;&#125;LL query_cha(int p,int l,int r)&#123; int ll=T[p].l,rr=T[p].r; if(ll==l&amp;&amp;rr==r)return T[p].s2; pushdown(p); int mid=(ll+rr)&gt;&gt;1; if(r&lt;=mid)return query_cha(p&lt;&lt;1,l,r); else if(l&gt;mid)return query_cha(p&lt;&lt;1|1,l,r); else&#123; return query_cha(p&lt;&lt;1,l,mid)+ query_cha(p&lt;&lt;1|1,mid+1,r); &#125;&#125;LL gcd(LL a,LL b)&#123; if(b==0)return a; else return gcd(b,a%b);&#125;void print(LL x,LL y)&#123; LL gcd_div=gcd(x,y); LL o1=x/gcd_div,o2=y/gcd_div; printf(\"%lld/%lld\\n\",o1,o2);&#125;int main()&#123; freopen(\"classroom.in\",\"r\",stdin); freopen(\"classroom.out\",\"w\",stdout); scanf(\"%d%d\",&amp;n,&amp;q); Build_Tree(1,1,n); for(register int i=1;i&lt;=n;i++)&#123;int x=read();update(1,i,i,x);&#125; while(q--) &#123; int opt=read(),from=read(),to=read(); if(opt==1) &#123; int cc=read(); update(1,from,to,cc); continue; &#125; if(opt==2) &#123; LL ans=query_aven(1,from,to),len=to-from+1; print(ans,len); continue; &#125; if(opt==3) &#123; LL ans=query_cha(1,from,to); LL x_=query_aven(1,from,to); LL len=to-from+1; print(len*ans-x_*x_,len*len); continue; &#125; &#125; return 0;&#125;/*5 4 1 2 3 4 5 1 1 2 3 2 2 4 3 2 4 3 1 5*/ Thinking Bear #1 çš‡åæ¸¸æˆã€å¼•å­ã€‘è¿˜è®°å¾— NOIP 2012 æé«˜ç»„ Day1 çš„å›½ç‹æ¸¸æˆå—ï¼Ÿæ—¶å…‰é£é€ï¼Œå…‰é˜´èè‹’ï¼Œä¸¤å¹´ è¿‡å»äº†ã€‚å›½ç‹æ¸¸æˆæ—©å·²è¿‡æ—¶ï¼Œå¦‚ä»Šå·²è¢«çš‡åæ¸¸æˆå–ä»£ï¼Œè¯·ä½ æ¥è§£å†³ç±»ä¼¼äºå›½ç‹æ¸¸ æˆçš„å¦ä¸€ä¸ªé—®é¢˜ã€‚ ã€é—®é¢˜æè¿°ã€‘çš‡åæœ‰ n ä½å¤§è‡£ï¼Œæ¯ä½å¤§è‡£çš„å·¦å³æ‰‹ä¸Šé¢åˆ†åˆ«å†™ä¸Šäº†ä¸€ä¸ªæ­£æ•´æ•°ã€‚æ°é€¢å›½åº† èŠ‚æ¥ä¸´ï¼Œçš‡åå†³å®šä¸º n ä½å¤§è‡£é¢å‘å¥–é‡‘ï¼Œå…¶ä¸­ç¬¬ i ä½å¤§è‡£æ‰€è·å¾—çš„å¥–é‡‘æ•°ç›®ä¸ºç¬¬ iï¼1 ä½å¤§è‡£æ‰€è·å¾—å¥–é‡‘æ•°ç›®ä¸å‰ i ä½å¤§è‡£å·¦æ‰‹ä¸Šçš„æ•°çš„å’Œçš„è¾ƒå¤§å€¼å†åŠ ä¸Šç¬¬ i ä½ å¤§è‡£å³æ‰‹ä¸Šçš„æ•°ã€‚ å½¢å¼åŒ–åœ°è®²ï¼šæˆ‘ä»¬è®¾ç¬¬ i ä½å¤§è‡£å·¦æ‰‹ä¸Šçš„æ­£æ•´æ•°ä¸º aiï¼Œå³æ‰‹ä¸Šçš„æ­£æ•´æ•°ä¸º biï¼Œ åˆ™ç¬¬ i ä½å¤§è‡£è·å¾—çš„å¥–é‡‘æ•°ç›®ä¸º ciå¯ä»¥è¡¨è¾¾ä¸ºï¼šå½“ç„¶,åå•¬çš„çš‡åå¹¶ä¸å¸Œæœ›å¤ªå¤šçš„å¥–é‡‘è¢«å‘ç»™å¤§è‡£ï¼Œæ‰€ä»¥å¥¹æƒ³è¯·ä½ æ¥é‡æ–°å®‰ æ’ä¸€ä¸‹é˜Ÿä¼çš„é¡ºåºï¼Œä½¿å¾—è·å¾—å¥–é‡‘æœ€å¤šçš„å¤§è‡£ï¼Œæ‰€è·å¥–é‡‘æ•°ç›®å°½å¯èƒ½çš„å°‘ã€‚ æ³¨æ„ï¼šé‡æ–°å®‰æ’é˜Ÿä¼å¹¶ä¸æ„å‘³ç€ä¸€å®šè¦æ‰“ä¹±é¡ºåºï¼Œæˆ‘ä»¬å…è®¸ä¸æ”¹å˜ä»»ä½•ä¸€ ä½å¤§è‡£çš„ä½ç½®ã€‚ ã€è¾“å…¥æ ¼å¼ã€‘ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ­£æ•´æ•° Tï¼Œè¡¨ç¤ºæµ‹è¯•æ•°æ®çš„ç»„æ•°ã€‚ æ¥ä¸‹æ¥ T ä¸ªéƒ¨åˆ†ï¼Œæ¯ä¸ªéƒ¨åˆ†çš„ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ­£æ•´æ•° nï¼Œè¡¨ç¤ºå¤§è‡£çš„æ•°ç›®ã€‚ æ¯ä¸ªéƒ¨åˆ†æ¥ä¸‹æ¥ n è¡Œä¸­ï¼Œæ¯ è¡Œ ä¸¤ä¸ªæ­£æ•´æ•°ï¼Œåˆ† åˆ« ä¸º a i å’Œ b i ï¼Œå« ä¹‰ å¦‚ ä¸Šæ–‡æ‰€è¿°ã€‚ ã€è¾“å‡ºæ ¼å¼ã€‘å…± T è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºè·å¾—å¥–é‡‘æœ€å¤šçš„å¤§è‡£æ‰€è·å¾—çš„å¥–é‡‘æ•°ç›®ã€‚ ã€æ ·ä¾‹è¾“å…¥ 1ã€‘1 3 4 1 2 2 1 2Thinking Bear #1 çš‡åæ¸¸æˆç¬¬ 7 é¡µ å…± 8 é¡µ ã€æ ·ä¾‹è¾“å‡º 1ã€‘8 ã€æ ·ä¾‹è¯´æ˜ 1ã€‘æŒ‰ç…§ 1ã€2ã€3 è¿™æ ·æ’åˆ—é˜Ÿä¼ï¼Œè·å¾—æœ€å¤šå¥–é‡‘çš„å¤§è‡£è·å¾—å¥–é‡‘çš„æ•°ç›®ä¸º 10ï¼›æŒ‰ç…§ 1ã€3ã€2 è¿™æ ·æ’åˆ—é˜Ÿä¼ï¼Œè·å¾—æœ€å¤šå¥–é‡‘çš„å¤§è‡£è·å¾—å¥–é‡‘çš„æ•°ç›®ä¸º 9ï¼›æŒ‰ç…§ 2ã€1ã€3 è¿™æ ·æ’åˆ—é˜Ÿä¼ï¼Œè·å¾—æœ€å¤šå¥–é‡‘çš„å¤§è‡£è·å¾—å¥–é‡‘çš„æ•°ç›®ä¸º 9ï¼›æŒ‰ç…§ 2ã€3ã€1 è¿™æ ·æ’åˆ—é˜Ÿä¼ï¼Œè·å¾—æœ€å¤šå¥–é‡‘çš„å¤§è‡£è·å¾—å¥–é‡‘çš„æ•°ç›®ä¸º 8ï¼›æŒ‰ç…§ 3ã€1ã€2 è¿™æ ·æ’åˆ—é˜Ÿä¼ï¼Œè·å¾—æœ€å¤šå¥–é‡‘çš„å¤§è‡£è·å¾—å¥–é‡‘çš„æ•°ç›®ä¸º 9ï¼›æŒ‰ç…§ 3ã€2ã€1 è¿™æ ·æ’åˆ—é˜Ÿä¼ï¼Œè·å¾—æœ€å¤šå¥–é‡‘çš„å¤§è‡£è·å¾—å¥–é‡‘çš„æ•°ç›®ä¸º 8ã€‚å½“æŒ‰ç…§ 3ã€2ã€1 è¿™æ ·æ’åˆ—é˜Ÿä¼æ—¶ï¼Œä¸‰ä½å¤§è‡£å·¦å³æ‰‹çš„æ•°åˆ†åˆ«ä¸ºï¼š (1, 2)ã€(2, 2)ã€(4, 1) ç¬¬ 1 ä½å¤§è‡£è·å¾—çš„å¥–é‡‘ä¸º 1 + 2 = 3ï¼› ç¬¬ 2 ä½å¤§è‡£è·å¾—çš„å¥–é‡‘ä¸º max{3, 3} + 2 = 5ï¼› ç¬¬ 3 ä¸ºå¤§è‡£è·å¾—çš„å¥–é‡‘ä¸º max{5, 7} + 1 = 8ã€‚ ã€æ ·ä¾‹è¾“å…¥ 2ã€‘2 5 85 100 95 99 76 87 60 97 79 85 12 9 68 18 45 52 61 39 83 63 67 45 99 52 54 82 100 23 54 99 94 63 100 52 68 ã€æ ·ä¾‹è¾“å‡º 2ã€‘528 902Thinking Bear #1 çš‡åæ¸¸æˆç¬¬ 8 é¡µ å…± 8 é¡µ ã€æ•°æ®è§„æ¨¡ä¸çº¦å®šã€‘æ‰€æœ‰æµ‹è¯•ç‚¹çš„æ•°æ®è§„æ¨¡å¦‚ä¸‹ï¼šå¯¹äºå…¨éƒ¨æµ‹è¯•æ•°æ®æ»¡è¶³ï¼š1 â‰¤ ai, bi â‰¤ 109ã€‚ ã€ç‰¹åˆ«æç¤ºã€‘ç”±äºè¯„æµ‹åœ¨ Linux ä¸‹è¿›è¡Œï¼Œè¯· C++é€‰æ‰‹åŠ¡å¿…æ³¨æ„ Linux ç³»ç»Ÿä¸‹ rand()å‡½æ•°è¿” å›å€¼çš„å–å€¼èŒƒå›´æ˜¯[0, 231). Solutionè¿™ä¸ªå’Œå›½ç‹çš„æ¸¸æˆæ¯”èµ·æ¥å¯èƒ½æ²¡æœ‰é«˜ç²¾åº¦ï¼Œä½†æ˜¯å…¬å¼ä¸ªäººæ„Ÿè§‰æ˜¯è¦éº»çƒ¦ä¸€äº›ï¼Œè€ƒåœºä¸Šæ²¡æœ‰åšå‡ºæ¥â€¦.qwqã€‚å¤§æ¦‚å°±æ˜¯å¾ˆæ™®é€šçš„è´ªå¿ƒï¼Œè§‚å¯Ÿåˆ°åä¸€ä¸ªäººæ‹¿çš„é’±æ˜¯åœ¨é’±ä¸€ä¸ªäººæ‹¿çš„é’±çš„åŸºç¡€ä¸Šæœ‰æ‰€å¢åŠ ï¼Œæˆ‘ä»¬å¦‚æœèƒ½ä¿è¯åé¢çš„äººæ‹¿é’±æœ€å°‘é‚£ä¹ˆç­”æ¡ˆå°±è¶Šå°ï¼Œæ ¹æ®å…¬å¼è´ªå¿ƒï¼Œå‡è®¾å‰i-2ä¸ªäººéƒ½æ’å¥½é˜Ÿï¼Œç°åœ¨è¦æ’ç¬¬i-1å’Œç¬¬iä¸ªäººï¼šï¼ˆæ³¨æ„cçš„ä¸‹æ ‡æ„ä¹‰æ˜¯å’Œaï¼Œbçš„ä¸‹æ ‡æ„ä¹‰ä¸ä¸€æ ·ï¼‰1.è€ƒè™‘ç¬¬i-1ä¸ªäººæ”¾åœ¨å‰é¢ï¼š2.è€ƒè™‘ç¬¬iä¸ªäººæ”¾åœ¨å‰é¢ï¼šæˆ‘ä»¬æ’åºçš„æ—¶å€™åªç”¨æ¯”è¾ƒé‚£ç§çš„ciæ›´å°å°±å¯ä»¥äº†ä¸¤ä¸ªå…¬å¼æœ‰å…¬å…±éƒ¨åˆ†ï¼ŒåŒ–ç®€å¾—åˆ°ï¼š1.2.è¿™å°±æ˜¯æ’åºçš„æ ‡å‡†ï¼ï¼å½“ç„¶è¦æ˜¯æƒ³éª—åˆ†çš„è¯è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œå¯ä»¥é€‰æ‹©å¤šé‡æ’åºç»“æ„ï¼Œé€‰ä¸€ä¸ªæœ€å°ç­”æ¡ˆã€‚12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;cmath&gt;#include &lt;algorithm&gt;#define LL long longusing namespace std;inline int read()&#123; char c=getchar();int rtn=0,f=1; while(c&lt;'0'||c&gt;'9')&#123;if(c=='-')f=-1;c=getchar();&#125; while(c&gt;='0'&amp;&amp;c&lt;='9')&#123;rtn=rtn*10+c-'0';c=getchar();&#125; return rtn*f;&#125;LL c,sum;struct node&#123; LL l,r;&#125;p[505000];bool cmp(node a,node b)&#123; return max(a.l+a.r+b.r,a.l+b.l+b.r)&lt;max(b.l+b.r+a.r,b.l+a.l+a.r);&#125;int main()&#123; //freopen(\"game.in\",\"r\",stdin); //freopen(\"game.out\",\"w\",stdout); int T;T=read(); while(T--) &#123; c=0,sum=0; int n;n=read(); for(register int i=1;i&lt;=n;i++)p[i].l=read(),p[i].r=read(); sort(p+1,p+1+n,cmp); c=p[1].l+p[1].r;sum+=p[1].l; for(register int i=2;i&lt;=n;i++) &#123; sum+=p[i].l; c=max(c,sum)+p[i].r; &#125; printf(\"%lld\\n\",c); &#125; return 0;&#125;/*1 3 4 1 2 2 1 2 2 5 85 100 95 99 76 87 60 97 79 85 12 9 68 18 45 52 61 39 83 63 67 45 99 52 54 82 10023 54 99 9463 100 52 68*/","categories":[],"tags":[{"name":"æ¨¡æ‹Ÿèµ›","slug":"æ¨¡æ‹Ÿèµ›","permalink":"https://dextertyw.github.io/tags/æ¨¡æ‹Ÿèµ›/"},{"name":"ä¼˜ç§€","slug":"ä¼˜ç§€","permalink":"https://dextertyw.github.io/tags/ä¼˜ç§€/"},{"name":"çº¿æ®µæ ‘","slug":"çº¿æ®µæ ‘","permalink":"https://dextertyw.github.io/tags/çº¿æ®µæ ‘/"},{"name":"è´ªå¿ƒ","slug":"è´ªå¿ƒ","permalink":"https://dextertyw.github.io/tags/è´ªå¿ƒ/"}]},{"title":"äºŒç»´æ ‘çŠ¶æ•°ç»„å…¥é—¨é¢˜","slug":"Matrix","date":"2017-07-24T11:57:35.434Z","updated":"2017-07-24T12:06:18.418Z","comments":true,"path":"2017/07/24/Matrix/","link":"","permalink":"https://dextertyw.github.io/2017/07/24/Matrix/","excerpt":"Matrix (poj 2155)ä¼ é€é—¨Time Limit: 3000MSMemory Limit: 65536KDescriptionGiven an N*N matrix A, whose elements are either 0 or 1. A[i, j] means the number in the i-th row and j-th column. Initially we have A[i, j] = 0 (1 &lt;= i, j &lt;= N). We can change the matrix in the following way. Given a rectangle whose upper-left corner is (x1, y1) and lower-right corner is (x2, y2), we change all the elements in the rectangle by using â€œnotâ€ operation (if it is a â€˜0â€™ then change it into â€˜1â€™ otherwise change it into â€˜0â€™). To maintain the information of the matrix, you are asked to write a program to receive and execute two kinds of instructions. C x1 y1 x2 y2 (1 &lt;= x1 &lt;= x2 &lt;= n, 1 &lt;= y1 &lt;= y2 &lt;= n) changes the matrix by using the rectangle whose upper-left corner is (x1, y1) and lower-right corner is (x2, y2). Q x y (1 &lt;= x, y &lt;= n) querys A[x, y].","text":"Matrix (poj 2155)ä¼ é€é—¨Time Limit: 3000MSMemory Limit: 65536KDescriptionGiven an N*N matrix A, whose elements are either 0 or 1. A[i, j] means the number in the i-th row and j-th column. Initially we have A[i, j] = 0 (1 &lt;= i, j &lt;= N). We can change the matrix in the following way. Given a rectangle whose upper-left corner is (x1, y1) and lower-right corner is (x2, y2), we change all the elements in the rectangle by using â€œnotâ€ operation (if it is a â€˜0â€™ then change it into â€˜1â€™ otherwise change it into â€˜0â€™). To maintain the information of the matrix, you are asked to write a program to receive and execute two kinds of instructions. C x1 y1 x2 y2 (1 &lt;= x1 &lt;= x2 &lt;= n, 1 &lt;= y1 &lt;= y2 &lt;= n) changes the matrix by using the rectangle whose upper-left corner is (x1, y1) and lower-right corner is (x2, y2). Q x y (1 &lt;= x, y &lt;= n) querys A[x, y]. InputThe first line of the input is an integer X (X &lt;= 10) representing the number of test cases. The following X blocks each represents a test case. The first line of each block contains two numbers N and T (2 &lt;= N &lt;= 1000, 1 &lt;= T &lt;= 50000) representing the size of the matrix and the number of the instructions. The following T lines each represents an instruction having the format â€œQ x yâ€ or â€œC x1 y1 x2 y2â€, which has been described above.OutputFor each querying output one line, which has an integer representing A[x, y]. There is a blank line between every two continuous test cases.Sample Input12 10C 2 1 2 2Q 2 2C 2 1 2 1Q 1 1C 1 1 2 1C 1 2 1 2C 1 1 2 2Q 1 1C 1 1 2 1Q 2 1 Sample Output1001SourcePOJ Monthly,Lou Tiancheng é¢˜æ„å¯¹äºä¸€ä¸ª0,1çŸ©é˜µï¼Œæ”¯æŒå·¦ä¸‹(x1,y1)-å³ä¸Š(x2,y2)çŸ©å½¢åŒºåŸŸå†…çš„åè½¬ï¼Œç„¶åå¯¹å•ç‚¹(x,y)çš„æŸ¥è¯¢ã€‚ Solutionä»Šå¤©æ‰å­¦çš„äºŒç»´æ ‘çŠ¶æ•°ç»„ï¼ˆèœçš„ä¸€åŒ¹ï¼‰ï¼Œå…¶å®çœ‹åˆ°å¯¹äºä¸€ä¸ªäºŒç»´åŒºåŸŸçš„ç»´æŠ¤åº”è¯¥å°±èƒ½æƒ³åˆ°è¿™ç±»å‹çš„æ•°æ®ç»“æ„ã€‚é‚£ä¹ˆå¯¹äºå•ç‚¹æŸ¥è¯¢ï¼Œç»“åˆæ ‘çŠ¶æ•°ç»„å¯æƒ³åˆ°æ˜¯ç”±å·®åˆ†æ¥å®ç°çš„ï¼Œå› ä¸ºæ ‘çŠ¶æ•°ç»„åªèƒ½æå–å‰ç¼€å’Œã€‚ç„¶åå¯¹äºä¸€ä¸ªäºŒç»´å¹³é¢å¦‚ä½•åŠ å€¼ï¼Œç±»ä¼¼äºä¸€ç»´ä¸­çš„s[x]+v,s[y]-vã€‚æ¨å¹¿åˆ°äºŒç»´åˆ™æœ‰ï¼š å¯ä»¥çœ‹ä¸€ä¸‹è¿™ä¸ªå›¾ã€‚ å¦å¤–é¢˜é¢ä¸­çš„åŠ å¤§çš„å­—å„ä½å¯ä»¥å“å°..QAQ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172#include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;iostream&gt;#include &lt;cmath&gt;#include &lt;algorithm&gt;using namespace std;int s[2100][2100],n,q;int lowbit(int x)&#123;return x&amp;(-x);&#125;void add(int x,int y,int c)&#123; for(int i=x;i&lt;=n;i+=lowbit(i)) for(int j=y;j&lt;=n;j+=lowbit(j)) s[i][j]+=c;&#125;int query(int x,int y)&#123; int rtn=0; for(int i=x;i;i-=lowbit(i)) for(int j=y;j;j-=lowbit(j)) rtn+=s[i][j]; return rtn; &#125;int main()&#123; int T; scanf(\"%d\",&amp;T); while(T--) &#123; scanf(\"%d%d\",&amp;n,&amp;q); memset(s,0,sizeof(s)); while(q--) &#123; char ch[5]; scanf(\"%s\",ch); if(ch[0]=='C') &#123; int x1,y1,x2,y2; scanf(\"%d%d%d%d\",&amp;x1,&amp;y1,&amp;x2,&amp;y2); add(x2+1,y2+1,1); add(x1,y2+1,-1); add(x2+1,y1,-1); add(x1,y1,1); &#125; if(ch[0]=='Q') &#123; int x,y; scanf(\"%d%d\",&amp;x,&amp;y); printf(\"%d\\n\",query(x,y)%2); &#125; &#125; printf(\"\\n\"); &#125; return 0;&#125; /*12 10C 2 1 2 2Q 2 2C 2 1 2 1Q 1 1C 1 1 2 1C 1 2 1 2C 1 1 2 2Q 1 1C 1 1 2 1Q 2 1*/","categories":[],"tags":[{"name":"æ ‘çŠ¶æ•°ç»„","slug":"æ ‘çŠ¶æ•°ç»„","permalink":"https://dextertyw.github.io/tags/æ ‘çŠ¶æ•°ç»„/"},{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://dextertyw.github.io/tags/æ•°æ®ç»“æ„/"},{"name":"äºŒç»´","slug":"äºŒç»´","permalink":"https://dextertyw.github.io/tags/äºŒç»´/"}]},{"title":"noipæ¨¡æ‹Ÿèµ›2017.7.22","slug":"[noipæ¨¡æ‹Ÿèµ›2017.7.22]","date":"2017-07-23T06:10:22.003Z","updated":"2017-07-24T12:00:36.839Z","comments":true,"path":"2017/07/23/[noipæ¨¡æ‹Ÿèµ›2017.7.22]/","link":"","permalink":"https://dextertyw.github.io/2017/07/23/[noipæ¨¡æ‹Ÿèµ›2017.7.22]/","excerpt":"ã€è¯•é¢˜æ¦‚è§ˆã€‘ é¢˜ç›®åç§° æ•°7 æ­£æ–¹å½¢è®¡æ•° é€Ÿç®—æ¸¸æˆ å•äººçº¸ç‰Œ æäº¤æ–‡ä»¶ seven.* count.* fun.* double.* è¾“å…¥æ–‡ä»¶ seven.in count.in fun.in double.in è¾“å‡ºæ–‡ä»¶ seven.out count.out fun.out double.out æ—¶é—´é™åˆ¶ 1s 1s 1s 1s ç©ºé—´é™åˆ¶ 128MB 128MB 128MB 128MB","text":"ã€è¯•é¢˜æ¦‚è§ˆã€‘ é¢˜ç›®åç§° æ•°7 æ­£æ–¹å½¢è®¡æ•° é€Ÿç®—æ¸¸æˆ å•äººçº¸ç‰Œ æäº¤æ–‡ä»¶ seven.* count.* fun.* double.* è¾“å…¥æ–‡ä»¶ seven.in count.in fun.in double.in è¾“å‡ºæ–‡ä»¶ seven.out count.out fun.out double.out æ—¶é—´é™åˆ¶ 1s 1s 1s 1s ç©ºé—´é™åˆ¶ 128MB 128MB 128MB 128MB 1. æ•°7ã€é¢˜ç›®æè¿°ã€‘1337 ä¸ªäººæ’æˆä¸€ä¸ªåœˆï¼Œä» 1 å·äººå¼€å§‹æŠ¥æ•°ï¼Œåˆå§‹çš„æ–¹å‘æ˜¯ 1,2,3â€¦ã€‚å¦‚æœæŸä¸ªäººæŠ¥çš„æ•°æ˜¯ 7 çš„å€æ•°æˆ– è€…æ•°å­—ä¸­å«æœ‰ 7ï¼Œé‚£ä¹ˆæŠ¥æ•°çš„æ–¹å‘å°±åä¸€ä¸‹ã€‚é—®æŠ¥æ•°å­— X çš„æ˜¯å“ªä¸ªäººï¼Ÿ ã€è¾“å…¥æ ¼å¼ã€‘ä¸€è¡Œä¸€ä¸ªæ•° X ã€è¾“å‡ºæ ¼å¼ã€‘ä¸€è¡Œä¸€ä¸ªæ•°è¡¨ç¤ºæœ€ç»ˆæŠ¥æ•°å­— X çš„æ˜¯å“ªä¸ªäººã€‚ ã€æ•°æ®è§„æ¨¡ã€‘å¯¹äº 30%çš„æ•°æ®ï¼Œæ»¡è¶³ X&lt;=10^6;å¯¹äº 90%çš„æ•°æ®ï¼Œæ»¡è¶³ X&lt;=10^8;å¯¹äº 100%çš„æ•°æ®ï¼Œæ»¡è¶³ X&lt;=10^9ã€‚ ã€è¾“å…¥æ ·ä¾‹ã€‘1000 ã€è¾“å‡ºæ ·ä¾‹ã€‘1311 Solutioné¦–å…ˆéƒ½æƒ³åˆ°äº†nlognçš„åšæ³•ï¼Œå†æƒ³ç›´æ¥æ‰“è¡¨ï¼Œå¦‚æœæ‰“è¡¨çš„è¯ä¼°è®¡ä¹Ÿåªèƒ½è¿‡10^8 ,è€Œä¸”è¿˜ä¸ç¨³å®šã€‚å…ˆæƒ³æƒ³90åˆ†æ€ä¹ˆåšï¼Œè€ƒè™‘åˆ°ä¸»è¦çš„æ—¶é—´æ¶ˆè€—åœ¨äºå¯¹%7çš„åˆ¤æ–­ä»¥åŠå¯¹æ˜¯å¦å«æœ‰7çš„åˆ¤æ–­ï¼Œä¸å…¶å–è†œå’Œåˆ†è§£åˆ¤æ–­ï¼Œå€’ä¸å¦‚ç”¨ä¸ªè®¡æ•°å™¨å’Œåšç±»ä¼¼äºé«˜ç²¾åº¦åŠ æ³•ï¼ˆæ¯æ¬¡åªåŠ ä¸€å¤æ‚éƒ½æœ‰ä¿è¯ï¼‰.ç„¶åå¯¹äº10^9åªèƒ½é—´éš”æ‰“è¡¨äº†ã€‚ 2.æ­£æ–¹å½¢è®¡æ•°ã€é¢˜ç›®æè¿°ã€‘ç»™å®šå¹³é¢ä¸Š N ä¸ªç‚¹ï¼Œä½ éœ€è¦è®¡ç®—ä»¥å…¶ä¸­ 4 ä¸ªç‚¹ä¸ºé¡¶ç‚¹çš„æ­£æ–¹å½¢çš„ä¸ªæ•°ã€‚æ³¨æ„è¿™é‡Œçš„æ­£æ–¹å½¢è¾¹ä¸ä¸€å®š éœ€è¦å’Œåæ ‡è½´å¹³è¡Œã€‚ ã€è¾“å…¥æ ¼å¼ã€‘ç¬¬ä¸€è¡Œä¸€ä¸ªæ•° N ä»¥ä¸‹ N ä¸ªç‚¹çš„åæ ‡ã€‚ ã€è¾“å‡ºæ ¼å¼ã€‘ä¸€ä¸ªæ•°ï¼Œè¡¨ç¤ºæ­£æ–¹å½¢çš„ä¸ªæ•° ã€æ•°æ®è§„æ¨¡ã€‘å¯¹äº 20%çš„æ•°æ®ï¼Œæ»¡è¶³ 1&lt;=N&lt;=20;å¯¹äº 100%çš„æ•°æ®ï¼Œæ»¡è¶³ 1&lt;=N&lt;=500ï¼Œ-50&lt;=x[i],y[i]&lt;=50ï¼Œç‚¹ä¸ä¼šé‡å ã€‚ ã€è¾“å…¥æ ·ä¾‹ã€‘7 0 0 0 1 1 0 1 1 1 2 2 1 2 2 Solutionæš´åŠ›æšä¸¾æ­£æ–¹å½¢çš„å››ä¸ªé¡¶ç‚¹åˆ¤æ–­è¾¹æ˜¯å¦ç›¸ç­‰å³å¯ã€‚æˆ–è€…æšä¸¾ä¸¤ä¸ªå®šç‚¹æ ¹æ®æ¡ä»¶åˆ¤æ–­å¦å¤–ä¸¤ä¸ªç‚¹æ˜¯å¦å­˜åœ¨ã€‚1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465#include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;cstdlib&gt;#include &lt;algorithm&gt;#include &lt;cmath&gt;using namespace std;struct node&#123; int x,y; friend bool operator &lt; (node a,node b)&#123; if(a.x==b.x)return a.y&lt;b.y; return a.x&lt;b.x; &#125;&#125;point[550];int n,ans;int work(int x1,int y1,int x2,int y2)&#123; return (x1-x2)*(x1-x2)+(y1-y2)*(y1-y2);&#125;int main()&#123; freopen(\"count.in\",\"r\",stdin); freopen(\"count.out\",\"w\",stdout); scanf(\"%d\",&amp;n); for(int i=1;i&lt;=n;i++) scanf(\"%d%d\",&amp;point[i].x,&amp;point[i].y); sort(point+1,point+1+n); for(int i=1;i&lt;=n;i++) &#123; for(int j=i+1;j&lt;=n;j++) &#123; int line_1=work(point[i].x,point[i].y,point[j].x,point[j].y); if(!line_1)continue; for(int k=j+1;k&lt;=n;k++) &#123; int line_2=work(point[i].x,point[i].y,point[k].x,point[k].y); if(line_1!=line_2)continue; for(int p=k+1;p&lt;=n;p++) &#123; int line_3=work(point[k].x,point[k].y,point[p].x,point[p].y); int line_4=work(point[p].x,point[p].y,point[j].x,point[j].y); int line_5=work(point[i].x,point[i].y,point[p].x,point[p].y); int line_6=work(point[j].x,point[j].y,point[k].x,point[k].y); if(line_2==line_3&amp;&amp;line_3==line_4&amp;&amp;line_5==line_6) ans++; &#125; &#125; &#125; &#125; printf(\"%d\",ans); return 0;&#125;/*70 00 11 01 11 22 12 2*/ ã€è¾“å‡ºæ ·ä¾‹ã€‘3 3.é€Ÿç®—æ¸¸æˆã€é¢˜ç›®æè¿°ã€‘jyx å’Œ cyy æ‰“èµŒï¼Œæ¯”è° 24 ç‚¹ç®—å¾—å¿«ï¼Œç®—å¾—æ…¢çš„é‚£ä¸ªäººè¯·å®¢ã€‚24 ç‚¹çš„è§„åˆ™æ˜¯è¿™æ ·çš„ï¼šç»™å®š 4ä¸ª 1..9 çš„æ•´æ•°ï¼Œç”¨æ‹¬å·æ”¹å˜è¿ç®—é¡ºåºï¼Œé€šè¿‡åŠ ã€å‡ã€ä¹˜ã€é™¤é€šçš„ä¸€ç³»åˆ—è¿ç®—ï¼Œå¾—åˆ°æ•´æ•° 24ï¼Œæ³¨æ„æ‰€æœ‰ä¸­é—´ç»“æœå¿…é¡»æ˜¯æ•´æ•°ï¼ˆä¾‹å¦‚(22)/4 æ˜¯å…è®¸çš„ï¼Œè€Œ 2(2/4)æ˜¯ä¸å…è®¸çš„ï¼‰ã€‚ä¸ºäº†èµ¢å¾—è¿™ä¸ªæ¯”èµ›ï¼Œè¯·å†™ä¸€ä¸ªç¨‹åºå¸®åŠ©æˆ‘ä½œå¼Šï¼Œå¿«é€Ÿåœ°è®¡ç®—å‡º 24 ç‚¹ã€‚ ã€è¾“å…¥æ ¼å¼ã€‘ä¸€è¡Œ 4 ä¸ªæ•´æ•°ï¼Œä¸ºç»™å®šçš„ 4 ä¸ªæ•°å­—ã€‚è¾“å…¥æ•°æ®ä¿è¯æœ‰è§£ã€‚ ã€è¾“å‡ºæ ¼å¼ã€‘ä¸€è¡Œï¼Œä»¥å­—ç¬¦ä¸²çš„å½¢å¼è¾“å‡ºç»“æœï¼Œæ³¨æ„å°†æ¯ä¸€æ­¥çš„è¿ç®—çš„æ‹¬å·è¡¥é½ï¼ˆä¾‹å¦‚(3+5)+6 å’Œ3*(5+6)ï¼‰å¦‚æœæœ‰å¤šç§è§£ç­”ï¼Œè¾“å‡ºå­—å…¸é¡ºåºæœ€å°çš„ä¸€ä¸ªã€‚ ã€è¾“å…¥æ ·ä¾‹ã€‘2357 ã€è¾“å‡ºæ ·ä¾‹ã€‘(((3*5)+2)+7) Solutionè¢«æ‹¬å·ç»™éª—äº† æ„Ÿè§‰è¿™é“é¢˜æŒºè›®éº»çƒ¦çš„ï¼Œæ—¶åªæœ‰3.5å°æ—¶,æ‰€å¹¸æ²¡æœ‰åšï¼Œåæ¥é¢˜æ—¶ï¼ŒçœŸæ˜¯å‚»é€¼é¢˜ã€‚å¤ªå¼±äº†â€¦..æ‹¬å·åœ¨è¿™é¢˜é‡Œåªä¼šæœ‰ä¸‰ç§æƒ…å†µï¼Œè‡ªå·±æƒ³ä¸€æƒ³ï¼Œç„¶åä¾æ¬¡å†™ä¸‰ä¸ªæš´åŠ›å°±è¡Œäº†ã€‚123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170#include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;cmath&gt;#include &lt;cstdlib&gt;#include &lt;algorithm&gt;#define INF -2147483647using namespace std;int n[5],now[10],vis[10],r[50];int num[50][5];int cnt,tot;char ans[50][100];char trs(int x)&#123; if(x==1)return '+'; if(x==2)return '-'; if(x==3)return '*'; if(x==4)return '/';&#125;void Dfs_Pai(int pos)&#123; if(pos==5) &#123; cnt++; for(int i=1;i&lt;=4;i++) num[cnt][i]=now[i]; &#125; for(int i=1;i&lt;=4;i++) &#123; if(!vis[i]) &#123; now[pos]=n[i]; vis[i]=true; Dfs_Pai(pos+1); vis[i]=false; &#125; &#125;&#125;int calu(int a,int b,int opt)&#123; if(opt==1)return a+b; if(opt==2)return a-b; if(opt==3)return a*b; if(opt==4&amp;&amp;b!=0&amp;&amp;a%b==0)return a/b; return -INF;&#125;void Dfs_Judge(int p)&#123; for(int i=1;i&lt;=4;i++) &#123; int result_1=calu(num[p][1],num[p][2],i); if(result_1==-INF)continue; for(int j=1;j&lt;=4;j++) &#123; int result_2=calu(result_1,num[p][3],j); if(result_2==-INF)continue; for(int k=1;k&lt;=4;k++) &#123; int result=calu(result_2,num[p][4],k); if(result==24) &#123; tot++; ans[tot][0]='('; ans[tot][1]='('; ans[tot][2]='('; ans[tot][3]=num[p][1]+'0'; ans[tot][4]=trs(i); ans[tot][5]=num[p][2]+'0'; ans[tot][6]=')'; ans[tot][7]=trs(j); ans[tot][8]=num[p][3]+'0'; ans[tot][9]=')'; ans[tot][10]=trs(k); ans[tot][11]=num[p][4]+'0'; ans[tot][12]=')'; &#125; &#125; &#125; &#125; for(int i=1;i&lt;=4;i++) &#123; int result_1=calu(num[p][1],num[p][2],i); if(result_1==-INF)continue; for(int j=1;j&lt;=4;j++) &#123; int result_2=calu(num[p][3],num[p][4],j); if(result_2==-INF)continue; for(int k=1;k&lt;=4;k++) &#123; int result=calu(result_1,result_2,k); if(result==24) &#123; tot++; ans[tot][0]='('; ans[tot][1]='('; ans[tot][2]=num[p][1]+'0'; ans[tot][3]=trs(i); ans[tot][4]=num[p][2]+'0'; ans[tot][5]=')'; ans[tot][6]=trs(k); ans[tot][7]='('; ans[tot][8]=num[p][3]+'0'; ans[tot][9]=trs(j); ans[tot][10]=num[p][4]+'0'; ans[tot][11]=')'; ans[tot][12]=')'; &#125; &#125; &#125; &#125; for(int i=1;i&lt;=4;i++) &#123; int result_1=calu(num[p][3],num[p][4],i); if(result_1==-INF)continue; for(int j=1;j&lt;=4;j++) &#123; int result_2=calu(num[p][2],result_1,j); if(result_2==-INF)continue; for(int k=1;k&lt;=4;k++) &#123; int result=calu(num[p][1],result_2,k); if(result==24) &#123; tot++; ans[tot][0]='('; ans[tot][1]=num[p][1]+'0'; ans[tot][2]=trs(k); ans[tot][3]='('; ans[tot][4]=num[p][2]+'0'; ans[tot][5]=trs(j); ans[tot][6]='('; ans[tot][7]=num[p][3]+'0'; ans[tot][8]=trs(i); ans[tot][9]=num[p][4]+'0'; ans[tot][10]=')'; ans[tot][11]=')'; ans[tot][12]=')'; &#125; &#125; &#125; &#125;&#125;bool cmp(int x,int y)&#123; for(int i=1;i&lt;=13;i++) &#123; if(ans[x][i]==ans[y][i])continue; return ans[x][i]&lt;ans[y][i]; &#125;&#125;int main()&#123; freopen(\"fun.in\",\"r\",stdin); freopen(\"fun.out\",\"w\",stdout); scanf(\"%d%d%d%d\",&amp;n[1],&amp;n[2],&amp;n[3],&amp;n[4]); Dfs_Pai(1); for(int i=1;i&lt;=cnt;i++) Dfs_Judge(i); for(int i=1;i&lt;=tot;i++) r[i]=i; sort(r+1,r+1+tot,cmp); printf(\"%s\",ans[r[1]]); return 0;&#125; /*2 3 5 7*/ 4.å•äººçº¸ç‰Œã€é¢˜ç›®æè¿°ã€‘å•äººçº¸ç‰Œæ¸¸æˆï¼Œå…± 36 å¼ ç‰Œåˆ†æˆ 9 å ï¼Œæ¯å  4 å¼ ç‰Œé¢å‘ä¸Šã€‚æ¯æ¬¡ï¼Œæ¸¸æˆè€…å¯ä»¥ä»æŸä¸¤ä¸ªä¸åŒçš„ç‰Œå †æœ€é¡¶ä¸Šå–å‡ºä¸¤å¼ ç‰Œé¢ç›¸åŒçš„ç‰Œï¼ˆå¦‚é»‘æ¡ƒ 10 å’Œæ¢…èŠ± 10ï¼‰å¹¶ä¸”ä¸€èµ·æ‹¿èµ°ã€‚å¦‚æœæœ€åæ‰€æœ‰çº¸ç‰Œéƒ½è¢«å–èµ°ï¼Œåˆ™æ¸¸æˆè€…å°±èµ¢äº†ï¼Œå¦åˆ™æ¸¸æˆè€…å°±è¾“äº†ã€‚George å¾ˆçƒ­è¡·äºç©è¿™ä¸ªæ¸¸æˆï¼Œä½†æ˜¯ä¸€æ—¦æœ‰æ—¶æœ‰å¤šç§é€‰æ‹©çš„æ–¹æ³•ï¼ŒGeorge å°±ä¸çŸ¥é“å–å“ªä¸€ç§å¥½äº†ï¼ŒGeorge ä¼šä»ä¸­éšæœºåœ°é€‰æ‹©ä¸€ç§èµ°ï¼Œä¾‹å¦‚ï¼šé¡¶ä¸Šçš„ 9 å¼ ç‰Œä¸º KS,KH,KD,9H,8S,8D,7C,7Dï¼Œ6Hï¼Œæ˜¾ç„¶æœ‰ 5 ç§å–æ³•ï¼š (KS,KH),(KS,KD),(KH,KD),(8S,8D),(7C,7D)ï¼Œå½“ç„¶ George å–åˆ°æ¯ä¸€ç§å–æ³•çš„æ¦‚ç‡éƒ½æ˜¯ 1/5ã€‚æœ‰ä¸€æ¬¡ï¼ŒGeorge çš„æœ‹å‹ Andrew å‘Šè¯‰ä»–ï¼Œè¿™æ ·åšæ˜¯å¾ˆæ„šè ¢çš„ï¼Œä¸è¿‡ George ä¸ç›¸ä¿¡ï¼Œä»–è®¤ä¸ºå¦‚æ­¤ç©æœ€åæˆåŠŸçš„æ¦‚ç‡æ˜¯éå¸¸å¤§çš„ã€‚è¯·å†™ä¸€ä¸ªç¨‹åºå¸®åŠ© George è¯æ˜ä»–çš„ç»“è®ºï¼šè®¡ç®—æŒ‰ç…§ä»–çš„ç­–ç•¥ï¼Œæœ€åèƒœåˆ©çš„æ¦‚ç‡ã€‚ ã€è¾“å…¥æ ¼å¼ã€‘9 è¡Œæ¯è¡Œ 4 ç»„ç”¨ç©ºæ ¼åˆ†å¼€çš„å­—ä¸²ï¼Œæ¯ä¸ªå­—ä¸²ä¸¤ä¸ªå­—ç¬¦ï¼Œåˆ†åˆ«è¡¨ç¤ºç‰Œé¢å’ŒèŠ±è‰²ï¼ŒæŒ‰ç…§ä»å †åº•åˆ°å †é¡¶çš„é¡ºåºç»™å‡ºã€‚ ã€è¾“å‡ºæ ¼å¼ã€‘ä¸€è¡Œï¼Œæœ€åèƒœåˆ©çš„æ¦‚ç‡ï¼Œç²¾ç¡®åˆ°å°æ•°ç‚¹å 6 ä½ã€‚ ã€è¾“å…¥æ ·ä¾‹ã€‘AS 9S 6C KS JC QH AC KH 7S QD JD KD QS TS JS 9H 6D TD AD 8S QC TH KC 8D 8C 9D TC 7C 9C 7H JH 7D8H 6S AH 6H ã€è¾“å‡ºæ ·ä¾‹ã€‘0.589314 Solutionè®°å¿†åŒ–æœç´¢è½»æ¾æå®šï¼Œå…¶å®æ¯”è¾ƒè£¸å§ã€‚12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364#include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;cmath&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;char ch[10][5];bool f[5][5][5][5][5][5][5][5][5];double dp[5][5][5][5][5][5][5][5][5];double dfs(int c1,int c2,int c3,int c4,int c5,int c6,int c7,int c8,int c9)&#123; if(f[c1][c2][c3][c4][c5][c6][c7][c8][c9]) return dp[c1][c2][c3][c4][c5][c6][c7][c8][c9]; f[c1][c2][c3][c4][c5][c6][c7][c8][c9]=true; int c[10]; c[1]=c1;c[2]=c2;c[3]=c3;c[4]=c4; c[5]=c5;c[6]=c6;c[7]=c7;c[8]=c8;c[9]=c9; int sum=0; for(int i=1;i&lt;=9;i++) for(int j=i+1;j&lt;=9;j++) &#123; if(ch[i][c[i]]==ch[j][c[j]]&amp;&amp;(c[i]&gt;0)&amp;&amp;(c[j]&gt;0)) &#123; sum++; c[i]--;c[j]--; dp[c1][c2][c3][c4][c5][c6][c7][c8][c9]+=dfs(c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9]); c[i]++;c[j]++; &#125; &#125; if(sum!=0) dp[c1][c2][c3][c4][c5][c6][c7][c8][c9]/=sum; return dp[c1][c2][c3][c4][c5][c6][c7][c8][c9];&#125;int main()&#123; freopen(\"double.in\",\"r\",stdin); freopen(\"double.out\",\"w\",stdout); for(int i=1;i&lt;=9;i++) for(int j=1;j&lt;=4;j++) &#123; char a,b; cin&gt;&gt;a&gt;&gt;b; ch[i][j]=a; &#125; f[0][0][0][0][0][0][0][0][0]=1; dp[0][0][0][0][0][0][0][0][0]=1; dp[4][4][4][4][4][4][4][4][4]=dfs(4,4,4,4,4,4,4,4,4); printf(\"%.6f\",dp[4][4][4][4][4][4][4][4][4]); return 0;&#125;/*AS 9S 6C KSJC QH AC KH7S QD JD KDQS TS JS 9H6D TD AD 8SQC TH KC 8D8C 9D TC 7C9C 7H JH 7D8H 6S AH 6H*/","categories":[],"tags":[{"name":"æ¨¡æ‹Ÿèµ›","slug":"æ¨¡æ‹Ÿèµ›","permalink":"https://dextertyw.github.io/tags/æ¨¡æ‹Ÿèµ›/"},{"name":"ä¼˜ç§€","slug":"ä¼˜ç§€","permalink":"https://dextertyw.github.io/tags/ä¼˜ç§€/"},{"name":"è®°å¿†åŒ–æœç´¢","slug":"è®°å¿†åŒ–æœç´¢","permalink":"https://dextertyw.github.io/tags/è®°å¿†åŒ–æœç´¢/"}]},{"title":"noipæ¨¡æ‹Ÿèµ›2017.7.20","slug":"[noipæ¨¡æ‹Ÿèµ›2017.7.20]","date":"2017-07-20T07:01:57.632Z","updated":"2017-07-24T11:59:40.472Z","comments":true,"path":"2017/07/20/[noipæ¨¡æ‹Ÿèµ›2017.7.20]/","link":"","permalink":"https://dextertyw.github.io/2017/07/20/[noipæ¨¡æ‹Ÿèµ›2017.7.20]/","excerpt":"é¢˜ç›®åç§° äº§å“æ’åº åˆ†çƒ åœ°å›¾ æ•°é¡µç  æäº¤æ–‡ä»¶ sort.* ball.* map.* count.* è¾“å…¥æ–‡ä»¶ sort.in ball.in map.in count.in è¾“å‡ºæ–‡ä»¶ sort.out ball.out map.out count.out æ—¶é—´é™åˆ¶ 1s 1s 1s 1s ç©ºé—´é™åˆ¶ 128MB 128MB 128MB 32MB é¢˜ç›®æ¥æº vijos vijos æ¨¡æ‹Ÿé¢˜ æ¨¡æ‹Ÿé¢˜","text":"é¢˜ç›®åç§° äº§å“æ’åº åˆ†çƒ åœ°å›¾ æ•°é¡µç  æäº¤æ–‡ä»¶ sort.* ball.* map.* count.* è¾“å…¥æ–‡ä»¶ sort.in ball.in map.in count.in è¾“å‡ºæ–‡ä»¶ sort.out ball.out map.out count.out æ—¶é—´é™åˆ¶ 1s 1s 1s 1s ç©ºé—´é™åˆ¶ 128MB 128MB 128MB 32MB é¢˜ç›®æ¥æº vijos vijos æ¨¡æ‹Ÿé¢˜ æ¨¡æ‹Ÿé¢˜ äº§å“æ’åºé¢˜ç›®æè¿°æœ‰ä¸€ç³»åˆ—äº§å“ï¼Œç»™å®šæ¯ä¸ªäº§å“çš„åŠ å·¥æ—¶é—´å’Œå†·å´æˆå‹æ—¶é—´ï¼ˆå†·å´è¿‡ç¨‹äº§å“ä¹‹é—´æ²¡æœ‰å…³ç³»ï¼Œæ˜¯å•ç‹¬ å†·å´çš„ï¼‰ã€‚ç°åœ¨ä½ æ‰‹ä¸Šæœ‰ä¸¤å°æœºå™¨å¯ä»¥ç”¨æ¥åŠ å·¥ï¼Œä½ éœ€è¦å®‰æ’äº§å“åŠ å·¥çš„é¡ºåºä»¥åŠå»å“ªå°æœºå™¨åŠ å·¥ï¼Œ ä½¿å¾—æ‰€æœ‰äº§å“éƒ½æˆå‹çš„æ—¶é—´æœ€æ—©ã€‚æœºå™¨ä¹‹é—´äº’ä¸ç›¸å…³ï¼Œå¯ä»¥åŒæ—¶è¿›è¡Œå·¥ä½œï¼Œä¸€ä¸ªæœºå™¨ä¸€ä¸ªæ—¶åˆ»åªèƒ½åŠ  å·¥ä¸€ä¸ªäº§å“ã€‚ è¾“å…¥æ ¼å¼ç¬¬ä¸€è¡Œä¸€ä¸ªæ•° nï¼Œè¡¨ç¤ºäº§å“ä¸ªæ•°ï¼Œä»¥ä¸‹ n è¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ•°åˆ†åˆ«è¡¨ç¤ºäº§å“çš„åŠ å·¥æ—¶é—´ A[i]å’Œå†·å´æ—¶é—´ B[i]ã€‚ è¾“å‡ºæ ¼å¼ä¸€ä¸ªæ•°ï¼Œè¡¨ç¤ºæ‰€æœ‰äº§å“æˆå‹çš„æœ€æ—©æ—¶é—´ã€‚ æ•°æ®è§„æ¨¡å¯¹äº 20%çš„æ•°æ®ï¼Œæ»¡è¶³ n&lt;=6;å¯¹äº 100%çš„æ•°æ®ï¼Œæ»¡è¶³ n,A[i],B[i]&lt;=200ã€‚ è¾“å…¥æ ·ä¾‹3 14 33 41 è¾“å‡ºæ ·ä¾‹6 é¢˜è§£å¯¹äºä¸€ä¸ªæœºå™¨çš„æƒ…å†µï¼Œæˆ‘ä»¬è´ªå¿ƒå¤„ç†ï¼ŒæŒ‰å†·å´æ—¶é—´é™åºæ’åºä¸€å®šæ˜¯æœ€ä¼˜çš„(å› ä¸ºå†·å´æ—¶é—´é•¿çš„è‚¯å®šå…ˆåŠ å·¥å˜›)ç„¶åè€ƒè™‘ä¸¤ä¸ªæœºå™¨çš„æƒ…å†µï¼Œå› ä¸ºæ‰€æœ‰äº§å“éƒ½æ˜¯è¦åŠ å·¥çš„ï¼Œæ‰€ä»¥ä¸¤ä¸ªæœºå™¨åŠ å·¥çš„æ€»æ—¶é—´ä¸€å®šï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åŠ¨è§„å¤„ç†ï¼Œdp[i][j]è¡¨ç¤ºåŠ å·¥å‰iä»¶äº§å“ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªæœºå™¨åŠ å·¥æ—¶é•¿ä¸ºjçš„æ—¶å€™ï¼Œæœ€å°‘ä»€ä¹ˆæ—¶å€™åŠ å·¥å®Œæˆï¼Œå¦‚æ­¤è¯´æ¥ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹å°±å¥½å†™äº†å¦‚æœç”¨ç¬¬ä¸€å°æœºå™¨åŠ å·¥ï¼Œé‚£ä¹ˆå°±æ˜¯ å¦‚æœç”¨ç¬¬äºŒå°æœºå™¨åŠ å·¥ï¼Œé‚£ä¹ˆå°±æ˜¯ 1234567891011121314151617181920212223242526272829303132333435363738#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;algorithm&gt;#define INF (1&lt;&lt;30)using namespace std;int dp[202][40400];struct node&#123; int t1,t2;&#125;a[202];bool cmp(node x,node y)&#123; return x.t2&gt;y.t2;&#125;int sum[202];int main()&#123; freopen(\"sort.in\",\"r\",stdin); freopen(\"sort.out\",\"w\",stdout); int n; scanf(\"%d\",&amp;n); for(int i=1;i&lt;=n;i++) scanf(\"%d%d\",&amp;a[i].t1,&amp;a[i].t2); sort(a+1,a+1+n,cmp); for(int i=1;i&lt;=n;i++)&#123; sum[i]=sum[i-1]+a[i].t1; for(int ta=0;ta&lt;=sum[i];ta++)&#123; int tb=sum[i]-ta; dp[i][ta]=INF; if(ta&gt;=a[i].t1) dp[i][ta]=min(dp[i][ta],max(ta+a[i].t2,dp[i-1][ta-a[i].t1])); if(tb&gt;=a[i].t1) dp[i][ta]=min(dp[i][ta],max(tb+a[i].t2,dp[i-1][ta])); &#125; &#125; int ans=INF; for(int ta=0;ta&lt;=sum[n];ta++) ans=min(dp[n][ta],ans); printf(\"%d\",ans);&#125; åˆ†çƒé¢˜ç›®æè¿°æœ‰ N ä¸ªæ ‡å·çš„çƒåˆ†åˆ° M ä¸ªæ— å·®åˆ«çš„ç›’å­é‡Œï¼Œæ¯ä¸ªç›’å­è‡³å°‘æœ‰ä¸€ä¸ªçƒï¼Œé—®æ–¹æ¡ˆæ•°ã€‚ è¾“å…¥æ ¼å¼å¤šç»„æ•°æ®ï¼›æ¯éƒ¨åˆ†ä¸€è¡Œä¸¤ä¸ªæ•° Nã€Mã€‚ è¾“å‡ºæ ¼å¼æ¯ç»„æ•°æ®è¾“å‡ºä¸€è¡Œï¼Œä¸€ä¸ªæ•°ï¼Œè¡¨ç¤ºæ–¹æ¡ˆæ•°ã€‚ æ•°æ®è§„æ¨¡å¯¹äº 20%çš„æ•°æ®ï¼Œæ»¡è¶³ 1&lt;=Nï¼ŒM&lt;=10;å¯¹äº 100%çš„æ•°æ®ï¼Œæ»¡è¶³ 1&lt;=Nï¼ŒM&lt;=100ï¼Œæ•°ç»„ç»„æ•°&lt;=10ã€‚ è¾“å…¥æ ·ä¾‹42 11 è¾“å‡ºæ ·ä¾‹7 1 æ ·ä¾‹è§£é‡ŠN=4,M=21,234 ï¼›2,134ï¼›3,124ï¼›4,123ï¼›12,34ï¼›13,24ï¼›14,23 é¢˜è§£é«˜ç²¾åº¦DPï¼Œå¾…å¡«å‘ åœ°å›¾é¢˜ç›®æè¿°ç»™å®šä¸€å¼ åœ°å›¾ï¼Œå®šä¹‰ X è¡¨ç¤ºé™†åœ°ï¼ŒO è¡¨ç¤ºæµ·æ´‹ã€‚ä¸¤ä¸ªæ ¼å­è¿é€šï¼Œå½“ä¸”ä»…å½“å®ƒä»¬å…±è¾¹ã€‚ä¸€ä¸ªå¤§é™†å®š ä¹‰æ˜¯ä¸€ä¸ªæå¤§çš„é™†åœ°è¿é€šå—ã€‚æå¤§çš„è¿é€šå—çš„å®šä¹‰æ˜¯ä¸å­˜åœ¨ä¸€ä¸ªæ ¼å­ä¸å½“å‰è¿é€šå—ä¸­çš„æŸä¸ªæ ¼å­ç›¸è¿ ä½†ä¸å±äºå½“å‰è¿é€šå—ã€‚é—®åœ°å›¾ä¸­æœ‰å‡ ä¸ªå¤§é™†ã€‚ è¾“å…¥æ ¼å¼ç¬¬ä¸€è¡Œä¸¤ä¸ªæ•° Nï¼ŒMï¼Œè¡¨ç¤ºåœ°å›¾çš„å¤§å°ï¼Œä»¥ä¸‹ N è¡Œï¼Œæ¯è¡Œ M ä¸ªå­—æ¯ã€‚ è¾“å‡ºæ ¼å¼ä¸€ä¸ªæ•°ï¼Œè¡¨ç¤ºå¤§é™†ä¸ªæ•°ã€‚ æ•°æ®è§„æ¨¡å¯¹äº 30%çš„æ•°æ®ï¼Œæ»¡è¶³ 1&lt;=Nï¼ŒM&lt;=50ã€‚å¯¹äº 100%çš„æ•°æ®ï¼Œæ»¡è¶³ 1&lt;=Nï¼ŒM&lt;=1000ã€‚ è¾“å…¥æ ·ä¾‹5 5XXXOOOOXOOOOOXXXOOOOXOXXX è¾“å‡ºæ ·ä¾‹4 é¢˜è§£ç®€å•çš„æœç´¢12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;algorithm&gt;#define INF (1&lt;&lt;30)#define LL long longusing namespace std;bool mp[2000][2000];int m,n,ans;char s[2000];int dx[]=&#123;0,0,1,-1&#125;;int dy[]=&#123;1,-1,0,0&#125;;void dfs(int x,int y)&#123; mp[x][y]=true; for(int i=0;i&lt;4;i++)&#123; int xx=x+dx[i],yy=y+dy[i]; if(!mp[xx][yy]) dfs(xx,yy); &#125;&#125;int main()&#123; freopen(\"map.in\",\"r\",stdin); freopen(\"map.out\",\"w\",stdout); scanf(\"%d%d\",&amp;n,&amp;m); for(int i=1;i&lt;=n;i++)&#123; scanf(\"%s\",s+1); for(int j=1;j&lt;=m;j++) if(s[j]=='O') mp[i][j]=true; &#125; for(int i=1;i&lt;=n;i++) mp[i][0]=mp[i][m+1]=true; for(int j=1;j&lt;=m;j++) mp[0][j]=mp[n+1][j]=true; for(int i=1;i&lt;=n;i++) for(int j=1;j&lt;=m;j++) if(!mp[i][j])&#123; dfs(i,j); ans++; &#125; printf(\"%d\",ans);&#125;/*5 5XXXOOOOXOOOOOXXXOOOOXOXXX*/ æ•°é¡µç é¢˜ç›®æè¿°ä¸€æœ¬ä¹¦çš„é¡µç æ˜¯ä» 1-n ç¼–å·çš„è¿ç»­æ•´æ•°ï¼š1ï¼Œ2ï¼Œ3â€¦ï¼Œnã€‚è¯·ä½ æ±‚å‡ºå…¨éƒ¨é¡µç ä¸­æ‰€æœ‰å•ä¸ªæ•°å­—çš„ å’Œï¼Œä¾‹å¦‚ç¬¬ 123 é¡µï¼Œå®ƒçš„å’Œå°±æ˜¯ 1+2+3=6ã€‚ è¾“å…¥æ ¼å¼ä¸€è¡Œä¸º n(1&lt;=n&lt;=10^9)ã€‚ è¾“å‡ºæ ¼å¼ä¸€è¡Œï¼Œä»£è¡¨æ‰€æœ‰å•ä¸ªæ•°å­—çš„å’Œã€‚ è¾“å…¥æ ·ä¾‹3456789 è¾“å‡ºæ ·ä¾‹96342015 é¢˜è§£å¯ä»¥è€ƒè™‘åˆ†ä½å¤„ç†ï¼Œå…ˆç»Ÿè®¡ä¸ªä½ä¸Šå‡ºç°çš„ï¼Œå†ç®—åä½â€¦ä»¥æ­¤ç±»æ¨ã€‚ä½†æ˜¯è¦æ³¨æ„ä¸è¦å¿˜äº†æ¯ä¸ªä½ç½®å‰©ä¸‹çš„ï¼Œå› ä¸ºç”±äºæ¯ä¸ªä½çš„æ•°å­—ä¸ç›¸åŒï¼Œæ‰€ä»¥å¯èƒ½â€¦è¿™ä¸ªåªèƒ½æ„ä¼šå§ã€‚1234567891011121314151617181920212223242526272829303132333435363738394041424344454647#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;algorithm&gt;#include &lt;cmath&gt;using namespace std;int c[10],n;long long ans;int Get_Num(int x)&#123; int rtn=0; while(x) &#123; x/=10; rtn++; &#125; return rtn;&#125;int main()&#123; freopen(\"count.in\",\"r\",stdin); freopen(\"count.out\",\"w\",stdout); scanf(\"%d\",&amp;n); int num=Get_Num(n); int pow=1; for(int j=1;j&lt;=num;j++) &#123; pow*=10; int Pre_Number=n/pow*pow; int Bac_Number=n-Pre_Number; for(int i=1;i&lt;=9;i++) c[i]+=Pre_Number/10; int Re_Number=Bac_Number*10/pow; for(int i=1;i&lt;Re_Number;i++) c[i]+=pow/10; c[Re_Number]+=Bac_Number-Re_Number*(pow/10)+1; &#125; for(int i=1;i&lt;=9;i++) ans+=c[i]*i; printf(\"%d\\n\",ans);&#125;/*31 43 34 1*/","categories":[],"tags":[{"name":"æ¨¡æ‹Ÿèµ›","slug":"æ¨¡æ‹Ÿèµ›","permalink":"https://dextertyw.github.io/tags/æ¨¡æ‹Ÿèµ›/"},{"name":"dp","slug":"dp","permalink":"https://dextertyw.github.io/tags/dp/"},{"name":"ä¼˜ç§€","slug":"ä¼˜ç§€","permalink":"https://dextertyw.github.io/tags/ä¼˜ç§€/"}]},{"title":"manacherç»ƒä¹ é¢˜","slug":"å›æ–‡æ£€æµ‹","date":"2017-07-19T13:39:50.356Z","updated":"2017-07-24T12:01:05.870Z","comments":true,"path":"2017/07/19/å›æ–‡æ£€æµ‹/","link":"","permalink":"https://dextertyw.github.io/2017/07/19/å›æ–‡æ£€æµ‹/","excerpt":"å›æ–‡æ£€æµ‹åšè¿™é“é¢˜çš„ç›®çš„ä¸ºäº†è”ç³»ä¸€ä¸‹Manacherï¼Œä¹Ÿä¼šä¸“é—¨å†å†™ä¸€ç¯‡Manacherçš„ä¸“é¢˜é¢˜ç›®æè¿°æ®è¯´å¦‚æœä½ ç»™æ— é™åªæ¯ç‰›å’Œæ— é™å°å·¨å‹ä¾¿æºå¼ç”µè„‘(æœ‰éå¸¸å¤§çš„é”®ç›˜),é‚£ä¹ˆæ¯ç‰›ä»¬ä¼šåˆ¶é€ å‡ºä¸–ä¸Šæœ€æ£’çš„å›æ–‡ã€‚ä½ çš„å·¥ä½œå°±æ˜¯å»å¯»æ‰¾è¿™äº›ç‰›åˆ¶é€ çš„å¥‡è§‚(æœ€æ£’çš„å›æ–‡)ã€‚åœ¨å¯»æ‰¾å›æ–‡æ—¶ä¸ç”¨ç†ç¬é‚£äº›æ ‡ç‚¹ç¬¦å·ã€ç©ºæ ¼(ä½†åº”è¯¥ä¿ç•™ä¸‹æ¥ä»¥ä¾¿åšä¸ºç­”æ¡ˆè¾“å‡º),åªç”¨è€ƒè™‘å­—æ¯â€™Aâ€™-â€˜Zâ€™å’Œâ€™aâ€™-â€˜zâ€™ã€‚è¦ä½ å¯»æ‰¾çš„æœ€é•¿çš„å›æ–‡çš„æ–‡ç« æ˜¯ä¸€ä¸ªä¸è¶…è¿‡20,000ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²ã€‚æˆ‘ä»¬å°†ä¿è¯æœ€é•¿çš„å›æ–‡ä¸ä¼šè¶…è¿‡2,000ä¸ªå­—ç¬¦(åœ¨é™¤å»æ ‡ç‚¹ç¬¦å·ã€ç©ºæ ¼ä¹‹å‰)ã€‚","text":"å›æ–‡æ£€æµ‹åšè¿™é“é¢˜çš„ç›®çš„ä¸ºäº†è”ç³»ä¸€ä¸‹Manacherï¼Œä¹Ÿä¼šä¸“é—¨å†å†™ä¸€ç¯‡Manacherçš„ä¸“é¢˜é¢˜ç›®æè¿°æ®è¯´å¦‚æœä½ ç»™æ— é™åªæ¯ç‰›å’Œæ— é™å°å·¨å‹ä¾¿æºå¼ç”µè„‘(æœ‰éå¸¸å¤§çš„é”®ç›˜),é‚£ä¹ˆæ¯ç‰›ä»¬ä¼šåˆ¶é€ å‡ºä¸–ä¸Šæœ€æ£’çš„å›æ–‡ã€‚ä½ çš„å·¥ä½œå°±æ˜¯å»å¯»æ‰¾è¿™äº›ç‰›åˆ¶é€ çš„å¥‡è§‚(æœ€æ£’çš„å›æ–‡)ã€‚åœ¨å¯»æ‰¾å›æ–‡æ—¶ä¸ç”¨ç†ç¬é‚£äº›æ ‡ç‚¹ç¬¦å·ã€ç©ºæ ¼(ä½†åº”è¯¥ä¿ç•™ä¸‹æ¥ä»¥ä¾¿åšä¸ºç­”æ¡ˆè¾“å‡º),åªç”¨è€ƒè™‘å­—æ¯â€™Aâ€™-â€˜Zâ€™å’Œâ€™aâ€™-â€˜zâ€™ã€‚è¦ä½ å¯»æ‰¾çš„æœ€é•¿çš„å›æ–‡çš„æ–‡ç« æ˜¯ä¸€ä¸ªä¸è¶…è¿‡20,000ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²ã€‚æˆ‘ä»¬å°†ä¿è¯æœ€é•¿çš„å›æ–‡ä¸ä¼šè¶…è¿‡2,000ä¸ªå­—ç¬¦(åœ¨é™¤å»æ ‡ç‚¹ç¬¦å·ã€ç©ºæ ¼ä¹‹å‰)ã€‚ è¾“å…¥è¾“å‡ºæ ¼å¼è¾“å…¥æ ¼å¼ï¼š è¾“å…¥æ–‡ä»¶ä¸ä¼šè¶…è¿‡20,000å­—ç¬¦ã€‚è¿™ä¸ªæ–‡ä»¶å¯èƒ½ä¸€è¡Œæˆ–å¤šè¡Œï¼Œä½†æ˜¯æ¯è¡Œéƒ½ä¸è¶…è¿‡80ä¸ªå­—ç¬¦(ä¸åŒ…æ‹¬æœ€åçš„æ¢è¡Œç¬¦)ã€‚ è¾“å‡ºæ ¼å¼ï¼š è¾“å‡ºçš„ç¬¬ä¸€è¡Œåº”è¯¥åŒ…æ‹¬æ‰¾åˆ°çš„æœ€é•¿çš„å›æ–‡çš„é•¿åº¦ã€‚ä¸‹ä¸€è¡Œæˆ–å‡ è¡Œåº”è¯¥åŒ…æ‹¬è¿™ä¸ªå›æ–‡çš„åŸæ–‡ï¼ˆæ²¡æœ‰é™¤å»æ ‡ç‚¹ç¬¦å·ã€ç©ºæ ¼ï¼‰ï¼ŒæŠŠè¿™ä¸ªå›æ–‡è¾“å‡ºåˆ°ä¸€è¡Œæˆ–å¤šè¡Œï¼ˆå¦‚æœå›æ–‡ä¸­åŒ…æ‹¬æ¢è¡Œç¬¦ï¼‰ã€‚å¦‚æœæœ‰å¤šä¸ªå›æ–‡é•¿åº¦éƒ½ç­‰äºæœ€å¤§å€¼ï¼Œè¾“å‡ºæœ€å‰é¢å‡ºç°çš„é‚£ä¸€ä¸ªã€‚ è¾“å…¥è¾“å‡ºæ ·ä¾‹è¾“å…¥æ ·ä¾‹#1ï¼š\\Confucius say: Madam, Iâ€™m Adam.\\è¾“å‡ºæ ·ä¾‹#1ï¼š\\11Madam, Iâ€™m Adam è¯´æ˜é¢˜ç›®ç¿»è¯‘æ¥è‡ªNOCOWã€‚\\USACO Training Section 1.3 é¢˜è§£è¿™é“é¢˜å¯èƒ½æ˜¯Manacherçš„æ¨¡æ¿é¢˜å§ï¼Œæˆ‘æ€»è§‰å¾—é©¬æ‹‰è½¦è¿™ä¸ªåå­—å¾ˆè ¢â€¦.ä»¥å‰è¿˜çœŸçš„æ˜¯ä»¥ä¸ºå’Œé©¬æœ‰å…³ç³»ï¼ŒçŸ¥é“çœŸç›¸çš„æˆ‘â€¦.. ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;cmath&gt;using namespace std;char ch[30010],c[50010];int p[50010],trs[50010],ans=-1,Left,Right,cnt,cht,tmp=-1;void check(int pos)&#123; if(p[pos]&gt;tmp) &#123; tmp=p[pos]; ans=p[pos]-1; Left=pos-p[pos]+1,Right=pos+p[pos]-1; if(c[Left]=='#')Left++,Right--; &#125;&#125;void Manacher()&#123; int MaxRight=0,pos=0; for(int i=1;i&lt;=cnt;i++)&#123; int j=2*pos-i; if(i&lt;MaxRight)&#123; p[i]=min(MaxRight-i+1,p[j]); check(i); &#125; else&#123; int ll=i,rr=i; while(ll-1&gt;=0&amp;&amp;rr+1&lt;=cnt+1) &#123; if(c[ll]==c[rr])&#123; ll--;rr++;p[i]++; &#125; else break; &#125; check(i); pos=i,MaxRight=p[i]+pos-1; &#125; &#125;&#125;int main()&#123;#ifdef YSW freopen(\"in.txt\",\"r\",stdin);#endif char cc; c[cnt]='$';c[++cnt]='#'; while((cc=getchar())!=EOF) &#123; ch[++cht]=cc; if(ch[cht]&gt;='a'&amp;&amp;ch[cht]&lt;='z') c[++cnt]=ch[cht],trs[cnt]=cht,c[++cnt]='#';; if(ch[cht]&gt;='A'&amp;&amp;ch[cht]&lt;='Z') c[++cnt]=ch[cht]-'A'+'a',trs[cnt]=cht,c[++cnt]='#'; &#125; Manacher(); int l=trs[Left],r=trs[Right]; printf(\"%d\\n\",ans); for(int i=l;i&lt;=r;i++) printf(\"%c\",ch[i]); return 0;&#125;","categories":[],"tags":[{"name":"Manacher","slug":"Manacher","permalink":"https://dextertyw.github.io/tags/Manacher/"}]},{"title":"noipæ¨¡æ‹Ÿèµ›2017.7.11","slug":"[noipæ¨¡æ‹Ÿèµ›2017.7.11]","date":"2017-07-19T13:39:45.993Z","updated":"2017-07-24T12:19:42.770Z","comments":true,"path":"2017/07/19/[noipæ¨¡æ‹Ÿèµ›2017.7.11]/","link":"","permalink":"https://dextertyw.github.io/2017/07/19/[noipæ¨¡æ‹Ÿèµ›2017.7.11]/","excerpt":"æ¨¡æ‹Ÿè¯•é¢˜(ä¸‰)ã€è¯•é¢˜æ¦‚è§ˆã€‘ é¢˜ç›®åç§° ä¸­ä½æ•° æ•²ç –å— å•è¯ é‚®é€’å‘˜é€ä¿¡ æäº¤æ–‡ä»¶ median.* brike.* words.* post.* è¾“å…¥æ–‡ä»¶ median.in brike.in words.in post.in è¾“å‡ºæ–‡ä»¶ median.out brike.out words.out post.out æ—¶é—´é™åˆ¶ 1s 1s 1s 1s ç©ºé—´é™åˆ¶ 128MB 128MB 128MB 128MB","text":"æ¨¡æ‹Ÿè¯•é¢˜(ä¸‰)ã€è¯•é¢˜æ¦‚è§ˆã€‘ é¢˜ç›®åç§° ä¸­ä½æ•° æ•²ç –å— å•è¯ é‚®é€’å‘˜é€ä¿¡ æäº¤æ–‡ä»¶ median.* brike.* words.* post.* è¾“å…¥æ–‡ä»¶ median.in brike.in words.in post.in è¾“å‡ºæ–‡ä»¶ median.out brike.out words.out post.out æ—¶é—´é™åˆ¶ 1s 1s 1s 1s ç©ºé—´é™åˆ¶ 128MB 128MB 128MB 128MB ä¸­ä½æ•°ã€é¢˜ç›®æè¿°ã€‘æœ‰ä¸€ä¸ªé•¿åº¦ä¸º N çš„æ•°åˆ—{A1,A2,â€¦,AN}ï¼Œè¿™ N ä¸ªæ•°å­—æ°å¥½æ˜¯ 1..N çš„ä¸€ä¸ªæ’åˆ—ã€‚ä½ éœ€è¦ç»Ÿè®¡æœ‰å¤šå°‘ä¸ª å­åºåˆ—{Ai,Ai+1,â€¦,Aj}æ»¡è¶³ï¼ši&lt;=j ä¸” j-i+1 ä¸ºå¥‡æ•°ï¼Œåºåˆ—çš„ä¸­ä½æ•°ä¸º Bã€‚ä¾‹å¦‚{5,1,3}çš„ä¸­ä½æ•°ä¸º 3ã€‚ ã€è¾“å…¥æ ¼å¼ã€‘ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ­£æ•´æ•° N å’Œ Bã€‚ç¬¬äºŒè¡ŒåŒ…å« N ä¸ªæ•´æ•°ï¼Œç¬¬ i ä¸ªæ•´æ•°ä¸º Ai. ã€è¾“å‡ºæ ¼å¼ã€‘ä»…åŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œä¸ºæ»¡è¶³æ¡ä»¶çš„å­åºåˆ—çš„ä¸ªæ•°ã€‚ ã€æ•°æ®è§„æ¨¡ã€‘å¯¹äº 30%çš„æ•°æ®ï¼Œæ»¡è¶³ N&lt;=100;å¯¹äº 60%çš„æ•°æ®ï¼Œæ»¡è¶³ N&lt;=1000;å¯¹äº 100%çš„æ•°æ®ï¼Œæ»¡è¶³ N&lt;=100000,1&lt;=B&lt;=Nã€‚ ã€è¾“å…¥æ ·ä¾‹ã€‘7 4 5 7 2 4 3 1 6 ã€è¾“å‡ºæ ·ä¾‹ã€‘4 é¢˜è§£ç¬¬ä¸€é¢˜æƒ³äº†ä¸€ä¸ªæ¯”n^2å°é‚£ä¹ˆä¸€ç‚¹çš„æ–¹æ³•ï¼Œå¥ˆä½•å¿˜è®°åˆ¤æ–­è¾¹ç•Œï¼Œç›´æ¥ggï¼ˆmdè¿˜æœ‰20åˆ†ï¼‰ã€‚80ïƒ 20.ï¼&amp;ï¿¥#ï¼æ­£è§£ç›´æ¥ç”¨d[i]å‰ç¼€å’Œçš„å½¢å¼ç»Ÿè®¡iä½ç½®åŠä»¥å‰æ¯”Bå¤§çš„æ•°å’Œæ¯”å®ƒå°çš„æ•°ä¸ªæ•°ä¹‹å·®ï¼Œç„¶åå¦‚æœåœ¨Bä½ç½®åé¢å­˜åœ¨ä¸€ä¸ªä½ç½®jä½¿d[j]==d[i],åˆ™è¯´æ˜åœ¨i~jè¿™æ®µåŒºé—´ä¸­æ¯”Bå¤§çš„æ•°ä¸æ¯”Bå°çš„æ•°ç›¸ç­‰ï¼Œå’Œä¸€ä¸ªåˆæ³•åŒºé—´ã€‚ç„¶åå¦‚ä½•O(n)åˆ¤æ–­ï¼Ÿå°±æ˜¯æ¡¶æ’åºçš„ç±»ä¼¼æ€æƒ³ï¼Œæ‰“æ ‡è®°ã€‚1234567891011121314151617181920212223242526272829303132333435#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;cmath&gt;#include &lt;algorithm&gt;using namespace std;int n,b,a[100010],gre[100010],les[100010],num[100010],flag[200010];int trs(int x)&#123;return x+100010;&#125;int main()&#123; freopen(&quot;median.in&quot;,&quot;r&quot;,stdin); freopen(&quot;median.out&quot;,&quot;w&quot;,stdout); int pos,ans=0; scanf(&quot;%d%d&quot;,&amp;n,&amp;b); for(int i=1;i&lt;=n;i++)scanf(&quot;%d&quot;,&amp;a[i]); for(int i=1;i&lt;=n;i++) &#123; gre[i]=gre[i-1],les[i]=les[i-1]; if(a[i]&gt;b)gre[i]++; if(a[i]&lt;b)les[i]++; if(a[i]==b)pos=i; num[i]=gre[i]-les[i]; &#125; for(int i=0;i&lt;=pos;i++)flag[trs(num[i])]++; for(int i=pos;i&lt;=n;i++)ans+=flag[trs(num[i])]; cout&lt;&lt;ans; return 0;&#125;/*7 47 2 4 3 6 5 1*/ æ•²ç –å—ã€é¢˜ç›®æè¿°ã€‘åœ¨ä¸€ä¸ªå‡¹æ§½ä¸­æ”¾ç½®äº† N å±‚ç –å—ï¼Œæœ€ä¸Šé¢çš„ä¸€å±‚æœ‰ N å—ç –ï¼Œä»ä¸Šåˆ°ä¸‹æ¯å±‚ä¾æ¬¡å‡å°‘ä¸€å—ç –ã€‚æ¯å—ç – éƒ½æœ‰ä¸€ä¸ªåˆ†å€¼ï¼Œæ•²æ‰è¿™å—ç –å°±èƒ½å¾—åˆ°ç›¸åº”çš„åˆ†å€¼ï¼Œå¦‚å›¾æ‰€ç¤º14 15 4 3 2333 33 76 22 13 1222 2331å¦‚æœä½ æƒ³æ•²æ‰ç¬¬ i å±‚çš„ç¬¬ j å—ç –çš„è¯ï¼Œè‹¥ i=1ï¼Œä½ å¯ä»¥ç›´æ¥æ•²æ‰å®ƒï¼›è‹¥ i&gt;1ï¼Œåˆ™ä½ å¿…é¡»å…ˆæ•²æ‰ç¬¬ i-1 å±‚çš„ç¬¬ j å’Œç¬¬ j+1 å—ç –ã€‚ä½ ç°åœ¨å¯ä»¥æ•²æ‰æœ€å¤š M å—ç –ï¼Œæ±‚å¾—åˆ†æœ€å¤šèƒ½æœ‰å¤šå°‘ã€‚ ã€è¾“å…¥æ ¼å¼ã€‘ç¬¬ä¸€è¡Œæœ‰ä¸¤ä¸ªæ­£æ•´æ•° N å’Œ Mï¼›æ¥ä¸‹æ¥çš„ N è¡Œï¼Œæè¿°è¿™ N å±‚ç –å—ä¸Šçš„åˆ†å€¼ A[i,j]ï¼Œæ»¡è¶³ 0&lt;=A[i,j]&lt;=100ã€‚ ã€è¾“å‡ºæ ¼å¼ã€‘ä»…ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œä¸ºæœ€å¤§çš„å¾—åˆ†ã€‚ ã€æ•°æ®è§„æ¨¡ã€‘å¯¹äº 20%çš„æ•°æ®ï¼Œæ»¡è¶³ 1&lt;=N&lt;=10,1&lt;=M&lt;=30;å¯¹äº 100%çš„æ•°æ®ï¼Œæ»¡è¶³ 1&lt;=N&lt;=50,1&lt;=M&lt;=500ã€‚ ã€è¾“å…¥æ ·ä¾‹ã€‘4 5 2 2 3 4 8 2 7 2 3 49 ã€è¾“å‡ºæ ·ä¾‹ã€‘19 é¢˜è§£ï¼ˆxjbç®—æ³•ï¼‰å¹¸äºä»Šå¤©çš„ç¬¬äºŒé¢˜è‹Ÿä½äº†ï¼Œdpç›´æ¥ACï¼Œä½†æˆ‘æƒ³è¯´ä¸€ä¸‹cxyæƒ³çš„è®°å¿†åŒ–æœç´¢ï¼ˆ1.å› ä¸ºdpçœŸçš„å¾ˆçƒ¦ï¼Œå…¬å¼æ¨é”™ç›´æ¥gg.2.è®°å¿†åŒ–æœç´¢è¿˜æ¯”è¾ƒå¥½æƒ³ï¼‰ã€‚æˆ‘ä»¬æ¯æ¬¡åªå¤„ç†ä¸€åˆ—ä¸­çš„é€‰æ‹©æ–¹æ¡ˆï¼Œå‡è®¾æ•²iåŠå…¶ä»¥ä¸Šï¼ˆå…¶å®iä»¥ä¸Šæ˜¯å¿…ç„¶ä¼šè¢«æ•²ï¼‰ç”±äºæ•²ç –æ–¹å¼çš„é™åˆ¶ï¼Œä¸‹ä¸€åˆ—çš„æœç´¢æ˜¯å­˜åœ¨é™åˆ¶çš„ï¼Œå¿…é¡»æ•²æ‰i-1å—åŠä»¥ä¸Šï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ•²ä¸‹é¢çš„ã€‚æ—¢ç„¶è¿™ä¸ªæ¸…æ¥šäº†å°±æ¯”è¾ƒå¥½å®Œæˆä»£ç äº†ã€‚12345678910111213141516171819202122232425262728293031323334353637383940414243#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;cmath&gt;#include &lt;algorithm&gt;#define N 51using namespace std;int n,m,flag[N][N][(N*(N+1)/2)],dp[N][N][(N*(N+1)/2)],mp[N][N],sum[N][N];int dfs(int lie,int p,int lft)&#123; int rtn=sum[lie][p]; if(flag[lie][p][lft])return dp[lie][p][lft]; flag[lie][p][lft]=1; if(2*lft&lt;(p*(p+1)))return dp[lie][p][lft]=-1; if(lft&lt;0)return dp[lie][p][lft]=-1; if(lie&gt;n)return dp[lie][p][lft]=0; if(lft==0)return dp[lie][p][lft]=0; for(int i=p;i&lt;=n-lie+1;i++) &#123; int now=sum[lie][i]; int k=dfs(lie+1,max(i-1,0),lft-i); if(k==-1)break; rtn=max(now+k,rtn); &#125; return dp[lie][p][lft]=rtn; &#125;int main()&#123; scanf(&quot;%d%d&quot;,&amp;n,&amp;m); for(int i=1;i&lt;=n;i++) for(int j=1;j&lt;=n-i+1;j++) scanf(&quot;%d&quot;,&amp;mp[i][j]); for(int i=1;i&lt;=n;i++) for(int j=1;j&lt;=n;j++) sum[i][j]=sum[i][j-1]+mp[j][i]; printf(&quot;%d&quot;,dfs(1,0,m)); return 0;&#125; å•è¯ã€é¢˜ç›®æè¿°ã€‘æœ‰ N ä¸ªå•è¯å’Œå­—ç¬¦ä¸² Tï¼ŒæŒ‰å­—å…¸é¡ºåºè¾“å‡ºä»¥å­—ç¬¦ä¸² T ä¸ºå‰ç¼€çš„æ‰€æœ‰å•è¯ã€‚ ã€è¾“å…¥æ ¼å¼ã€‘ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ­£æ•´æ•° Nï¼›æ¥ä¸‹æ¥ N è¡Œï¼Œæ¯è¡Œä¸€ä¸ªå•è¯ï¼Œé•¿åº¦ä¸è¶…è¿‡ 50ï¼›æœ€åä¸€è¡ŒåŒ…å«å­—ç¬¦ä¸² Tã€‚ ã€è¾“å‡ºæ ¼å¼ã€‘æŒ‰å­—å…¸é¡ºåºå‡åºè¾“å‡ºç­”æ¡ˆã€‚ ã€æ•°æ®è§„æ¨¡ã€‘å¯¹äº 60%çš„æ•°æ®ï¼Œæ»¡è¶³ 1&lt;=N&lt;=1000;å¯¹äº 100%çš„æ•°æ®ï¼Œæ»¡è¶³ 1&lt;=N&lt;=10000 ä¸”æ‰€æœ‰å­—ç¬¦å‡ä¸ºå°å†™å­—æ¯ã€‚ ã€è¾“å…¥æ ·ä¾‹ã€‘6 na no ki ki ka ku k ã€è¾“å‡ºæ ·ä¾‹ã€‘ka ki ki ku é¢˜è§£ å¾ˆçƒ¦ï¼Œstringæœç„¶è¿˜æ˜¯ä¸èƒ½è¢«æ¥å—ã€‚ä¸è¿‡ä»Šå¤©é€šè¿‡è¿™é“é¢˜ä¹Ÿå­¦åˆ°äº†ï¼Œå¦‚æœæˆ‘ä»¬ä¸ä¾¿å¯¹äºä¸€ä¸ªäºŒç»´æ•°ç»„è¿›è¡Œæ’åºï¼Œæˆ‘ä»¬å¯ä»¥é—´æ¥é€šè¿‡å¯¹å…¶ä¸‹æ ‡çš„æ’åºæ¥å®Œæˆã€‚ä¸è¿‡è¿™é“é¢˜çš„å°æŠ€å·§åœ¨äºæˆ‘ä»¬å¯ä»¥æŠŠè¦åŒ¹é…çš„å‰ç¼€ä¹ŸåŠ å…¥æ’åˆ—ï¼Œç„¶åå†åŠ å…¥ä¸€ä¸ªå‰ç¼€å+â€™zâ€™+1çš„ä¸€ä¸ªä¸²æ¥ä¿è¯ä¼šè¢«æ´¾åˆ°æœ€åä¸€ä¸ªï¼Œé€šè¿‡ä¸€å¼€å§‹çš„ä¸‹æ ‡è®°å½•ï¼Œæˆ‘ä»¬å¯ä»¥å®Œæˆå¯¹æ’åºåçš„æ•°ç»„ç»è¡ŒO(n)æŸ¥æ‰¾ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;cmath&gt;#include &lt;algorithm&gt;using namespace std;int n,cnt,l[10010],bh[10010];char ch[10010][100]; bool cmp(int x,int y)&#123; int len=min(l[x],l[y]); for(int i=0;i&lt;=len-1;i++) &#123; if(ch[x][i]==ch[y][i])continue; return ch[x][i]&lt;ch[y][i]; &#125; return l[x]&lt;l[y];&#125;int main()&#123; freopen(&quot;words.in&quot;,&quot;r&quot;,stdin); freopen(&quot;words.out&quot;,&quot;w&quot;,stdout); int pos; scanf(&quot;%d&quot;,&amp;n); for(int i=1;i&lt;=n;i++)scanf(&quot;%s&quot;,ch[i]),l[i]=strlen(ch[i]),bh[i]=i; scanf(&quot;%s&quot;,ch[0]); l[0]=strlen(ch[0]),bh[0]=0; for(int i=0;i&lt;l[0];i++) ch[n+1][i]=ch[0][i]; ch[n+1][l[0]]=&apos;z&apos;+1,l[n+1]=l[0]+1,bh[n+1]=n+1; stable_sort(bh,bh+2+n,cmp); for(int i=0;i&lt;=n+1;i++)if(bh[i]==0)&#123;pos=i;break;&#125; for(int i=pos+1;i;i++)&#123; if(bh[i]==n+1)break; else printf(&quot;%s\\n&quot;,ch[bh[i]]); &#125; return 0;&#125;/*6nanokikikakuk*/ é‚®é€’å‘˜é€ä¿¡ã€é¢˜ç›®æè¿°ã€‘æœ‰ä¸€ä¸ªé‚®é€’å‘˜è¦é€ä¸œè¥¿ï¼Œé‚®å±€åœ¨ç»“ç‚¹ 1ã€‚ä»–æ€»å…±è¦é€ N-1 æ ·ä¸œè¥¿ï¼Œå…¶ç›®çš„åœ°åˆ†åˆ«æ˜¯ 2-Nã€‚ç”±äºè¿™ä¸ª åŸå¸‚çš„äº¤é€šæ¯”è¾ƒç¹å¿™ï¼Œå› æ­¤æ‰€æœ‰çš„é“è·¯éƒ½æ˜¯å•è¡Œçš„ï¼Œå…±æœ‰ M æ¡é“è·¯ï¼Œé€šè¿‡æ¯æ¡é“è·¯éœ€è¦ä¸€å®šçš„æ—¶é—´ã€‚ è¿™ä¸ªé‚®é€’å‘˜æ¯æ¬¡åªèƒ½å¸¦ä¸€æ ·ä¸œè¥¿ã€‚æ±‚é€å®Œè¿™ N-1 æ ·ä¸œè¥¿å¹¶ä¸”æœ€ç»ˆå›åˆ°é‚®å±€æœ€å°‘éœ€è¦å¤šå°‘æ—¶é—´ã€‚ ã€è¾“å…¥æ ¼å¼ã€‘ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ­£æ•´æ•° N å’Œ Mï¼›æ¥ä¸‹æ¥æœ‰ M è¡Œï¼Œæ¯è¡Œä¸‰ä¸ªæ­£æ•´æ•° Uã€Vã€Wï¼Œè¡¨ç¤ºè¯¥æ¡é“è·¯ä¸ºä» U åˆ° V çš„ï¼Œä¸”é€šè¿‡è¿™æ¡é“è·¯éœ€è¦ W çš„æ—¶é—´ã€‚æ»¡è¶³ 1&lt;=U,V&lt;=N,1&lt;=W&lt;=100000ï¼Œè¾“å…¥ä¿è¯ä»»æ„ä¸¤ç‚¹éƒ½èƒ½äº’ç›¸åˆ°è¾¾ã€‚ ã€è¾“å‡ºæ ¼å¼ã€‘åŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œä¸ºæœ€å°‘éœ€è¦çš„æ—¶é—´ ã€æ•°æ®è§„æ¨¡ã€‘30%çš„æ•°æ®ï¼Œ1&lt;=N&lt;=200;100%çš„æ•°æ®ï¼Œ1&lt;=N&lt;=1000ï¼Œ1&lt;=M&lt;=10000. ã€è¾“å…¥æ ·ä¾‹ã€‘æ³¨æ„ï¼šå¦‚æœæœ‰è¿™æ ·çš„æƒ…å†µï¼šï¼ˆ1109ï¼‰ ï¼ˆ1102ï¼‰ ï¼ˆ1101ï¼‰ä»¥æœ€å°çš„ w=1 è¿›è¡Œå­˜å‚¨ 5 10 2 3 5 1 5 5 3 5 6 1 2 8 1 3 8 5 3 4 4 1 8 4 5 3 3 5 6 5 4 2 ã€è¾“å‡ºæ ·ä¾‹ã€‘83 é¢˜è§£é¢˜ç›®çœŸçš„å¾ˆæœ‰ç—…ï¼Œæ˜æ˜è¯´äº†è¾¹æ•°ä¸è¶…è¿‡10000ï¼Œç»“æœæ¥ä¸ª80000çš„æ•°æ®ï¼Œä¹Ÿæ˜¯æ²¡è°äº†ã€‚ç”±äºé¢˜ç›®ä¸­çš„è¾¹æ˜¯å•å‘è¾¹ï¼Œæ‰€ä»¥å»ºä¸ªåå‘è¾¹è·‘ä¸€è·‘å°±å®Œäº‹äº†ï¼Œä»£ç å†™çš„ä¸‘æ˜¯çœŸçš„ï¼Œåæ¥æ”¹é¢˜çš„æ—¶å€™å¼„äº†åŠå¤©ï¼Œå‚»Xå‡ºé¢˜äºº123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;cmath&gt;#include &lt;cstdlib&gt;#include &lt;queue&gt;#define LL long longusing namespace std;int n,m,cnt,p[1010],edge[1010][1010],vis[1010];LL dis[1010];struct node&#123; int a,b,w,nt;&#125;e[10010],t[10010];void add1(int x,int y,int w)&#123; cnt++; e[cnt].a=x,e[cnt].b=y,e[cnt].w=w; e[cnt].nt=p[x],p[x]=cnt;&#125;void add2(int x,int y,int w)&#123; cnt++; t[cnt].a=x,t[cnt].b=y,t[cnt].w=w; t[cnt].nt=p[x],p[x]=cnt;&#125;queue&lt;int&gt;q1,q2;void spfa1()&#123; for(int i=1;i&lt;=n;i++)dis[i]=1e15;dis[1]=0; q1.push(1);vis[1]=1; while(!q1.empty())&#123; int k=q1.front();q1.pop();vis[k]=0; for(int i=p[k];i;i=e[i].nt)&#123; int kk=e[i].b; if(dis[kk]&gt;dis[k]+e[i].w)&#123; dis[kk]=dis[k]+e[i].w; if(!vis[kk])&#123; vis[kk]=1; q1.push(kk); &#125; &#125; &#125; &#125;&#125;void spfa2()&#123; for(int i=1;i&lt;=n;i++)dis[i]=1e15;dis[1]=0; q2.push(1);vis[1]=1; while(!q2.empty())&#123; int k=q2.front();q2.pop();vis[k]=0; for(int i=p[k];i;i=t[i].nt)&#123; int kk=t[i].b; if(dis[kk]&gt;dis[k]+t[i].w)&#123; dis[kk]=dis[k]+t[i].w; if(!vis[kk])&#123; vis[kk]=1; q2.push(kk); &#125; &#125; &#125; &#125;&#125;int main()&#123; freopen(&quot;post.in&quot;,&quot;r&quot;,stdin); freopen(&quot;post.out&quot;,&quot;w&quot;,stdout); LL ans=0; memset(edge,63,sizeof(edge)); scanf(&quot;%d%d&quot;,&amp;n,&amp;m); for(int i=1;i&lt;=m;i++) &#123; int x,y,z; scanf(&quot;%d%d%d&quot;,&amp;x,&amp;y,&amp;z); edge[x][y]=min(edge[x][y],z); &#125; for(int i=1;i&lt;=n;i++) for(int j=1;j&lt;=n;j++) if(edge[i][j]&lt;=100000&amp;&amp;i!=j) add1(i,j,edge[i][j]); spfa1(); for(int i=2;i&lt;=n;i++) ans+=dis[i]; memset(p,0,sizeof(p)),cnt=0; for(int i=1;i&lt;=n;i++) for(int j=1;j&lt;=n;j++) if(edge[i][j]&lt;=100000&amp;&amp;i!=j) add2(j,i,edge[i][j]); spfa2(); for(int i=2;i&lt;=n;i++) ans+=dis[i]; printf(&quot;%lld\\n&quot;,ans); return 0;&#125;/*5 102 3 51 5 53 5 61 2 81 3 85 3 44 1 84 5 33 5 6 5 4 2*/*/","categories":[],"tags":[{"name":"æ¨¡æ‹Ÿèµ›","slug":"æ¨¡æ‹Ÿèµ›","permalink":"https://dextertyw.github.io/tags/æ¨¡æ‹Ÿèµ›/"},{"name":"dp","slug":"dp","permalink":"https://dextertyw.github.io/tags/dp/"},{"name":"ä¼˜ç§€","slug":"ä¼˜ç§€","permalink":"https://dextertyw.github.io/tags/ä¼˜ç§€/"}]}]}